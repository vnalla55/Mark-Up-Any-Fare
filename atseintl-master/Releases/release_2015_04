[ATSEv2]

Title: Fix core dump in Exchange Shopping with Brands
Date: 02/20/2015
Description:
        Fix core dump in Exchange Shopping with Brands
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        n/a
Resolution/QA recommendation:
        n/a
Entry/XML to recreate:
        n/a
Example before:
        n/a
Example after:
        n/a
Files updated:
        Fares/FareCollectorOrchestrator.cpp
Unit tests files:
        n/a
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [X] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Szczurek
Code reviewers: Grzegorz Wanke, Grzegorz Szwarc
BA: n/a
QA: n/a

Title: Conditional load on update
Date: 02/20/2015
Description:
        Conditional load on update
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_SECTION\FALLBACK_CONDITIONAL_LOAD_ON_UPDATE=N
Resolution/QA recommendation:
        Regression
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        <a href=#> Common</a> <a href=#Common/FallBack.cpp> FallBack.cpp</a> <a href=#> DBAccess</a> <a href=#DBAccess/DataAccessObjectBase.h> DataAccessObjectBase.h</a>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Ilya Entin
Code reviewers: Mohammad Hossan
BA: 
QA: 

Title: [ATPCO TAX] ATPCO-336
Date: 02/20/2015
Description:
        Fixed AY limits for ROUND TRIP
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
        N/A
Entry/XML to recreate:
        <TaxRq>
          <Passenger />
          <PointOfSale PointOfSaleLoc="DAL" />
          <TicketingOptions PaymentCurrency="USD" TicketingDate="2015-02-19" TicketingTime="11:00" />
          <ProcessingOptions>
            <TaxDetailsLevel AllDetails="1" />
          </ProcessingOptions>
          <GeoPath>
            <Geo Loc="LAX" Type="D" />
            <Geo Loc="DEN" Type="A" />
            <Geo Loc="DEN" Type="D" />
            <Geo Loc="ORD" Type="A" />
            <Geo Loc="ORD" Type="D" />
            <Geo Loc="DEN" Type="A" />
            <Geo Loc="DEN" Type="D" />
            <Geo Loc="MIA" Type="A" />
            <Geo Loc="MIA" Type="D" />
            <Geo Loc="DFW" Type="A" />
            <Geo Loc="DFW" Type="D" />
            <Geo Loc="LAX" Type="A" />
            <Geo Loc="LAX" Type="D" />
            <Geo Loc="PHX" Type="A" />
          </GeoPath>
          <FarePath>
            <FareUsage FareRefId="0" />
          </FarePath>
          <GeoPathMapping>
            <Mapping>
              <Map GeoRefId="0" />
              <Map GeoRefId="1" />
              <Map GeoRefId="2" />
              <Map GeoRefId="3" />
              <Map GeoRefId="4" />
              <Map GeoRefId="5" />
              <Map GeoRefId="6" />
              <Map GeoRefId="7" />
              <Map GeoRefId="8" />
              <Map GeoRefId="9" />
              <Map GeoRefId="10" />
              <Map GeoRefId="11" />
              <Map GeoRefId="12" />
              <Map GeoRefId="13" />
            </Mapping>
          </GeoPathMapping>
          <Fare Amount="100" BasisCode="X2RE" Directionality="1" OneWayRoundTrip="O" TypeCode="EU" />
          <FlightPath>
            <FlightUsage ConnectionDateShift="0" FlightRefId="0" />
            <FlightUsage ConnectionDateShift="0" FlightRefId="1" />
            <FlightUsage ConnectionDateShift="1" FlightRefId="2" />
            <FlightUsage ConnectionDateShift="0" FlightRefId="3" />
            <FlightUsage ConnectionDateShift="2" FlightRefId="4" />
            <FlightUsage ConnectionDateShift="1" FlightRefId="5" />
            <FlightUsage ConnectionDateShift="1" FlightRefId="6" />
          </FlightPath>
          <Flight ArrivalDateShift="0" ArrivalTime="08:15" DepartureTime="06:15" MarketingCarrier="UA" />
          <Flight ArrivalDateShift="0" ArrivalTime="12:25" DepartureTime="09:55" MarketingCarrier="AC" />
          <Flight ArrivalDateShift="0" ArrivalTime="16:55" DepartureTime="14:31" MarketingCarrier="CA" />
          <Flight ArrivalDateShift="0" ArrivalTime="23:55" DepartureTime="19:31" MarketingCarrier="AA" />
          <Flight ArrivalDateShift="0" ArrivalTime="23:55" DepartureTime="19:31" MarketingCarrier="AA" />
          <Flight ArrivalDateShift="1" ArrivalTime="06:00" DepartureTime="23:59" MarketingCarrier="AA" />
          <Flight ArrivalDateShift="0" ArrivalTime="23:55" DepartureTime="19:31" MarketingCarrier="CA" />
          <Itin FarePathGeoPathMappingRefId="0" FarePathRefId="0" FlightPathRefId="0" GeoPathRefId="0" Id="0" PassengerRefId="0" TravelOriginDate="2013-11-15" />
          <TestData>
            <RulesRecord CONNECTIONSTAG1=" " EXEMPTTAG=" " NATION="US" PERCENTFLATTAG="F" SEQNO="10" TAXABLEUNITTAG9="X" TAXAMT="33" TAXAPPLIMIT=" " TAXCODE="AY" TAXPOINTLOC1="LAX" TAXPOINTLOC1STOPOVERTAG=" " TAXPOINTLOC1TYPE="C" TAXPOINTLOC2="DEN" TAXPOINTLOC2COMPARE=" " TAXPOINTLOC2INTLDOMIND=" " TAXPOINTLOC2TYPE="C" TAXPOINTTAG="D" TAXTYPE="001" TRAVELDATEAPPTAG="T" TVLFIRSTDAY="01" TVLFIRSTMONTH="10" TVLFIRSTYEAR="12" TVLLASTDAY="17" TVLLASTMONTH="12" TVLLASTYEAR="13" VENDOR="ATPCO" />
            <RulesRecord CONNECTIONSTAG1=" " EXEMPTTAG=" " NATION="US" PERCENTFLATTAG="F" SEQNO="20" TAXABLEUNITTAG9="X" TAXAMT="66" TAXAPPLIMIT=" " TAXCODE="AY" TAXPOINTLOC1="DEN" TAXPOINTLOC1STOPOVERTAG=" " TAXPOINTLOC1TYPE="C" TAXPOINTLOC2="ORD" TAXPOINTLOC2COMPARE=" " TAXPOINTLOC2INTLDOMIND=" " TAXPOINTLOC2TYPE="C" TAXPOINTTAG="D" TAXTYPE="001" TRAVELDATEAPPTAG="T" TVLFIRSTDAY="01" TVLFIRSTMONTH="10" TVLFIRSTYEAR="12" TVLLASTDAY="17" TVLLASTMONTH="12" TVLLASTYEAR="13" VENDOR="ATPCO" />
            <RulesRecord CONNECTIONSTAG1=" " EXEMPTTAG=" " NATION="US" PERCENTFLATTAG="F" SEQNO="30" TAXABLEUNITTAG9="X" TAXAMT="99" TAXAPPLIMIT=" " TAXCODE="AY" TAXPOINTLOC1="ORD" TAXPOINTLOC1STOPOVERTAG=" " TAXPOINTLOC1TYPE="C" TAXPOINTLOC2="DEN" TAXPOINTLOC2COMPARE=" " TAXPOINTLOC2INTLDOMIND=" " TAXPOINTLOC2TYPE="C" TAXPOINTTAG="D" TAXTYPE="001" TRAVELDATEAPPTAG="T" TVLFIRSTDAY="01" TVLFIRSTMONTH="10" TVLFIRSTYEAR="12" TVLLASTDAY="17" TVLLASTMONTH="12" TVLLASTYEAR="13" VENDOR="ATPCO" />
            <RulesRecord CONNECTIONSTAG1=" " EXEMPTTAG=" " NATION="US" PERCENTFLATTAG="F" SEQNO="39" TAXABLEUNITTAG9="X" TAXAMT="200" TAXAPPLIMIT="5" TAXCODE="AY" TAXPOINTLOC1="DEN" TAXPOINTLOC1STOPOVERTAG=" " TAXPOINTLOC1TYPE="C" TAXPOINTLOC2="MIA" TAXPOINTLOC2COMPARE=" " TAXPOINTLOC2INTLDOMIND=" " TAXPOINTLOC2TYPE="C" TAXPOINTTAG="D" TAXTYPE="001" TRAVELDATEAPPTAG="T" TVLFIRSTDAY="01" TVLFIRSTMONTH="10" TVLFIRSTYEAR="12" TVLLASTDAY="17" TVLLASTMONTH="12" TVLLASTYEAR="13" VENDOR="ATPCO" />
            <RulesRecord CONNECTIONSTAG1=" " EXEMPTTAG=" " NATION="US" PERCENTFLATTAG="F" SEQNO="49" TAXABLEUNITTAG9="X" TAXAMT="250" TAXAPPLIMIT="5" TAXCODE="AY" TAXPOINTLOC1="MIA" TAXPOINTLOC1STOPOVERTAG=" " TAXPOINTLOC1TYPE="C" TAXPOINTLOC2=" " TAXPOINTLOC2COMPARE=" " TAXPOINTLOC2INTLDOMIND=" " TAXPOINTLOC2TYPE=" " TAXPOINTTAG="D" TAXTYPE="001" TRAVELDATEAPPTAG="T" TVLFIRSTDAY="01" TVLFIRSTMONTH="10" TVLFIRSTYEAR="12" TVLLASTDAY="17" TVLLASTMONTH="12" TVLLASTYEAR="13" VENDOR="ATPCO" />
            <RulesRecord CONNECTIONSTAG1=" " EXEMPTTAG=" " NATION="US" PERCENTFLATTAG="F" SEQNO="59" TAXABLEUNITTAG9="X" TAXAMT="300" TAXAPPLIMIT="5" TAXCODE="AY" TAXPOINTLOC1="MIA" TAXPOINTLOC1STOPOVERTAG=" " TAXPOINTLOC1TYPE="C" TAXPOINTLOC2=" " TAXPOINTLOC2COMPARE=" " TAXPOINTLOC2INTLDOMIND=" " TAXPOINTLOC2TYPE=" " TAXPOINTTAG="D" TAXTYPE="001" TRAVELDATEAPPTAG="T" TVLFIRSTDAY="01" TVLFIRSTMONTH="10" TVLFIRSTYEAR="12" TVLLASTDAY="17" TVLLASTMONTH="12" TVLLASTYEAR="13" VENDOR="ATPCO" />
            <RulesRecord CONNECTIONSTAG1=" " EXEMPTTAG=" " NATION="US" PERCENTFLATTAG="F" SEQNO="69" TAXABLEUNITTAG9="X" TAXAMT="350" TAXAPPLIMIT="5" TAXCODE="AY" TAXPOINTLOC1="DFW" TAXPOINTLOC1STOPOVERTAG=" " TAXPOINTLOC1TYPE="C" TAXPOINTLOC2="PHX" TAXPOINTLOC2COMPARE=" " TAXPOINTLOC2INTLDOMIND=" " TAXPOINTLOC2TYPE="C" TAXPOINTTAG="D" TAXTYPE="001" TRAVELDATEAPPTAG="T" TVLFIRSTDAY="01" TVLFIRSTMONTH="10" TVLFIRSTYEAR="12" TVLLASTDAY="17" TVLLASTMONTH="12" TVLLASTYEAR="13" VENDOR="ATPCO" />
            <RulesRecord CONNECTIONSTAG1=" " EXEMPTTAG=" " NATION="US" PERCENTFLATTAG="F" SEQNO="79" TAXABLEUNITTAG9="X" TAXAMT="400" TAXAPPLIMIT="5" TAXCODE="AY" TAXPOINTLOC1="LAX" TAXPOINTLOC1STOPOVERTAG=" " TAXPOINTLOC1TYPE="C" TAXPOINTLOC2="PHX" TAXPOINTLOC2COMPARE=" " TAXPOINTLOC2INTLDOMIND=" " TAXPOINTLOC2TYPE="C" TAXPOINTTAG="D" TAXTYPE="001" TRAVELDATEAPPTAG="T" TVLFIRSTDAY="01" TVLFIRSTMONTH="10" TVLFIRSTYEAR="12" TVLLASTDAY="17" TVLLASTMONTH="12" TVLLASTYEAR="13" VENDOR="ATPCO" />
            <Loc LocCode="MIA" NationCode="US" />
            <Loc CityCode="NYC" LocCode="JFK" NationCode="US" />
            <Loc CityCode="LAX" LocCode="LAX" NationCode="US" />
            <Loc LocCode="WAW" NationCode="PL" />
            <Loc LocCode="KRA" NationCode="PL" />
            <Loc LocCode="GDN" NationCode="PL" />
            <Loc LocCode="KTW" NationCode="PL" />
            <Loc CityCode="LON" LocCode="LHR" NationCode="GB" />
            <Loc LocCode="FRA" NationCode="DE" />
            <Loc LocCode="MEX" NationCode="MX" />
            <Loc CityCode="SJU" LocCode="SJU" NationCode="PR" />
            <Loc CityCode="LON" LocCode="LGW" NationCode="GB" />
            <Loc CityCode="JFK" LocCode="JFK" NationCode="US" />
            <Loc LocCode="YVR" NationCode="CA" />
            <Loc LocCode="YYZ" NationCode="CA" />
            <Loc LocCode="YOW" NationCode="CA" />
            <Loc CityCode="DFW" LocCode="DFW" NationCode="US" />
            <Loc CityCode="DEN" LocCode="DEN" NationCode="US" />
            <Loc CityCode="LAX" LocCode="BUR" NationCode="US" />
            <Loc CityCode="ORD" LocCode="ORD" NationCode="US" />
            <Loc CityCode="PHX" LocCode="PHX" NationCode="US" />
            <Loc LocCode="DAL" NationCode="US" />
            <TaxRounding ROUNDINGRULE="U" TAXNATION="US" TAXROUNDUNIT="1" TAXROUNDUNITNODEC="2" />
            <IsInLoc LocCode="DFW" LocType="C" Vendor="ATPCO">
              <LocUsage LocRefId="16" />
            </IsInLoc>
            <IsInLoc LocCode="DEN" LocType="C" Vendor="ATPCO">
              <LocUsage LocRefId="17" />
            </IsInLoc>
            <IsInLoc LocCode="LAX" LocType="C" Vendor="ATPCO">
              <LocUsage LocRefId="2" />
            </IsInLoc>
            <IsInLoc LocCode="ORD" LocType="C" Vendor="ATPCO">
              <LocUsage LocRefId="19" />
            </IsInLoc>
            <IsInLoc LocCode="MIA" LocType="C" Vendor="ATPCO">
              <LocUsage LocRefId="0" />
            </IsInLoc>
            <IsInLoc LocCode="PHX" LocType="C" Vendor="ATPCO">
              <LocUsage LocRefId="20" />
            </IsInLoc>
            <IsInLoc LocCode="124" LocType="Z" Vendor="ATPCO">
              <LocUsage LocRefId="3" />
              <LocUsage LocRefId="4" />
              <LocUsage LocRefId="5" />
              <LocUsage LocRefId="6" />
              <LocUsage LocRefId="7" />
              <LocUsage LocRefId="8" />
            </IsInLoc>
            <IsInLoc LocCode="GB" LocType="N" Vendor="ATPCO">
              <LocUsage LocRefId="7" />
              <LocUsage LocRefId="11" />
            </IsInLoc>
            <IsInLoc LocCode="PL" LocType="N" Vendor="ATPCO">
              <LocUsage LocRefId="2" />
              <LocUsage LocRefId="4" />
              <LocUsage LocRefId="5" />
              <LocUsage LocRefId="6" />
            </IsInLoc>
            <IsInLoc LocCode="CA" LocType="N" Vendor="ATPCO">
              <LocUsage LocRefId="13" />
              <LocUsage LocRefId="14" />
              <LocUsage LocRefId="15" />
            </IsInLoc>
            <IsInLoc LocCode="US" LocType="N" Vendor="ATPCO">
              <LocUsage LocRefId="0" />
              <LocUsage LocRefId="1" />
              <LocUsage LocRefId="2" />
              <LocUsage LocRefId="12" />
              <LocUsage LocRefId="16" />
              <LocUsage LocRefId="17" />
              <LocUsage LocRefId="18" />
              <LocUsage LocRefId="19" />
              <LocUsage LocRefId="20" />
            </IsInLoc>
            <Mileage GeoPathRefId="0">
              <Distance FromGeoRefId="0" Miles="5286" ToGeoRefId="1" />
              <Distance FromGeoRefId="0" Miles="5286" ToGeoRefId="2" />
              <Distance FromGeoRefId="0" Miles="500" ToGeoRefId="3" />
              <Distance FromGeoRefId="0" Miles="1500" ToGeoRefId="4" />
              <Distance FromGeoRefId="0" Miles="4789" ToGeoRefId="5" />
            </Mileage>
          </TestData>
        </TaxRq>
Example before:
        <TaxRs>
          <Itins PaymentCur="USD">
            <TaxDetails Id="0" SeqNo="10" Nation="US" Code="AY" Type="001" SabreCode="AY" PaymentAmt="33" PublishedAmt="33" PublishedCur="USD" TaxPointLocBegin="LAX" TaxPointLocEnd="DEN" Name="" TaxableUnitTags="9">
              <TaxOnFaresDetails TotalAmt="0" />
              <TaxOnTaxDetails TotalAmt="0" />
              <TaxOnYQYRDetails TotalAmt="0" />
              <CalcDetails TaxCurToPaymentCurBSR="1" />
              <GeoDetails UnticketedPoint="false" TaxPointIndexBegin="0" TaxPointIndexEnd="1" PointOfSaleLoc="" />
            </TaxDetails>
            <TaxDetails Id="1" SeqNo="20" Nation="US" Code="AY" Type="001" SabreCode="AY" PaymentAmt="66" PublishedAmt="66" PublishedCur="USD" TaxPointLocBegin="DEN" TaxPointLocEnd="ORD" Name="" TaxableUnitTags="9">
              <TaxOnFaresDetails TotalAmt="0" />
              <TaxOnTaxDetails TotalAmt="0" />
              <TaxOnYQYRDetails TotalAmt="0" />
              <CalcDetails TaxCurToPaymentCurBSR="1" />
              <GeoDetails UnticketedPoint="false" TaxPointIndexBegin="2" TaxPointIndexEnd="3" PointOfSaleLoc="" />
            </TaxDetails>
            <TaxDetails Id="2" SeqNo="30" Nation="US" Code="AY" Type="001" SabreCode="AY" PaymentAmt="99" PublishedAmt="99" PublishedCur="USD" TaxPointLocBegin="ORD" TaxPointLocEnd="DEN" Name="" TaxableUnitTags="9">
              <TaxOnFaresDetails TotalAmt="0" />
              <TaxOnTaxDetails TotalAmt="0" />
              <TaxOnYQYRDetails TotalAmt="0" />
              <CalcDetails TaxCurToPaymentCurBSR="1" />
              <GeoDetails UnticketedPoint="false" TaxPointIndexBegin="4" TaxPointIndexEnd="5" PointOfSaleLoc="" />
            </TaxDetails>
            <TaxDetails Id="3" SeqNo="39" Nation="US" Code="AY" Type="001" SabreCode="AY" PaymentAmt="200" PublishedAmt="200" PublishedCur="USD" TaxPointLocBegin="DEN" TaxPointLocEnd="MIA" Name="" TaxableUnitTags="9">
              <TaxOnFaresDetails TotalAmt="0" />
              <TaxOnTaxDetails TotalAmt="0" />
              <TaxOnYQYRDetails TotalAmt="0" />
              <CalcDetails TaxCurToPaymentCurBSR="1" />
              <GeoDetails UnticketedPoint="false" TaxPointIndexBegin="6" TaxPointIndexEnd="7" PointOfSaleLoc="" />
            </TaxDetails>
            <TaxDetails Id="4" SeqNo="49" Nation="US" Code="AY" Type="001" SabreCode="AY" PaymentAmt="250" PublishedAmt="250" PublishedCur="USD" TaxPointLocBegin="MIA" TaxPointLocEnd="DFW" Name="" TaxableUnitTags="9">
              <TaxOnFaresDetails TotalAmt="0" />
              <TaxOnTaxDetails TotalAmt="0" />
              <TaxOnYQYRDetails TotalAmt="0" />
              <CalcDetails TaxCurToPaymentCurBSR="1" />
              <GeoDetails UnticketedPoint="false" TaxPointIndexBegin="8" TaxPointIndexEnd="9" PointOfSaleLoc="" />
            </TaxDetails>
            <TaxGroup Id="0" TaxGroupType="I" TotalAmt="648">
              <Tax Nation="US" Code="AY" Type="001" TaxPointTag="D" PercentageFlatTag="F" TotalAmt="648">
                <ElementRef ElementRefId="0" />
                <ElementRef ElementRefId="1" />
                <ElementRef ElementRefId="2" />
                <ElementRef ElementRefId="3" />
                <ElementRef ElementRefId="4" />
              </Tax>
            </TaxGroup>
            <TaxGroup Id="1" TaxGroupType="O" />
            <TaxGroup Id="2" TaxGroupType="B" />
            <TaxGroup Id="3" TaxGroupType="X" />
            <TaxGroup Id="4" TaxGroupType="T" />
            <Itin Id="0" TaxGroupId="0" TaxOnOptionalServiceGroupRefId="1" TaxOnBaggageGroupRefId="2" TaxOnChangeFeeGroupRefId="3" />
          </Itins>
        </TaxRs>
Example after:
        <TaxRs>
          <Itins PaymentCur="USD">
            <TaxDetails Id="0" SeqNo="10" Nation="US" Code="AY" Type="001" SabreCode="AY" PaymentAmt="33" PublishedAmt="33" PublishedCur="USD" TaxPointLocBegin="LAX" TaxPointLocEnd="DEN" Name="" TaxableUnitTags="9">
              <TaxOnFaresDetails TotalAmt="0" />
              <TaxOnTaxDetails TotalAmt="0" />
              <TaxOnYQYRDetails TotalAmt="0" />
              <CalcDetails TaxCurToPaymentCurBSR="1" />
              <GeoDetails UnticketedPoint="false" TaxPointIndexBegin="0" TaxPointIndexEnd="1" PointOfSaleLoc="" />
            </TaxDetails>
            <TaxDetails Id="1" SeqNo="20" Nation="US" Code="AY" Type="001" SabreCode="AY" PaymentAmt="66" PublishedAmt="66" PublishedCur="USD" TaxPointLocBegin="DEN" TaxPointLocEnd="ORD" Name="" TaxableUnitTags="9">
              <TaxOnFaresDetails TotalAmt="0" />
              <TaxOnTaxDetails TotalAmt="0" />
              <TaxOnYQYRDetails TotalAmt="0" />
              <CalcDetails TaxCurToPaymentCurBSR="1" />
              <GeoDetails UnticketedPoint="false" TaxPointIndexBegin="2" TaxPointIndexEnd="3" PointOfSaleLoc="" />
            </TaxDetails>
            <TaxDetails Id="2" SeqNo="30" Nation="US" Code="AY" Type="001" SabreCode="AY" PaymentAmt="99" PublishedAmt="99" PublishedCur="USD" TaxPointLocBegin="ORD" TaxPointLocEnd="DEN" Name="" TaxableUnitTags="9">
              <TaxOnFaresDetails TotalAmt="0" />
              <TaxOnTaxDetails TotalAmt="0" />
              <TaxOnYQYRDetails TotalAmt="0" />
              <CalcDetails TaxCurToPaymentCurBSR="1" />
              <GeoDetails UnticketedPoint="false" TaxPointIndexBegin="4" TaxPointIndexEnd="5" PointOfSaleLoc="" />
            </TaxDetails>
            <TaxDetails Id="3" SeqNo="39" Nation="US" Code="AY" Type="001" SabreCode="AY" PaymentAmt="200" PublishedAmt="200" PublishedCur="USD" TaxPointLocBegin="DEN" TaxPointLocEnd="MIA" Name="" TaxableUnitTags="9">
              <TaxOnFaresDetails TotalAmt="0" />
              <TaxOnTaxDetails TotalAmt="0" />
              <TaxOnYQYRDetails TotalAmt="0" />
              <CalcDetails TaxCurToPaymentCurBSR="1" />
              <GeoDetails UnticketedPoint="false" TaxPointIndexBegin="6" TaxPointIndexEnd="7" PointOfSaleLoc="" />
            </TaxDetails>
            <TaxGroup Id="0" TaxGroupType="I" TotalAmt="398">
              <Tax Nation="US" Code="AY" Type="001" TaxPointTag="D" PercentageFlatTag="F" TotalAmt="398">
                <ElementRef ElementRefId="0" />
                <ElementRef ElementRefId="1" />
                <ElementRef ElementRefId="2" />
                <ElementRef ElementRefId="3" />
              </Tax>
            </TaxGroup>
            <TaxGroup Id="1" TaxGroupType="O" />
            <TaxGroup Id="2" TaxGroupType="B" />
            <TaxGroup Id="3" TaxGroupType="X" />
            <TaxGroup Id="4" TaxGroupType="T" />
            <Itin Id="0" TaxGroupId="0" TaxOnOptionalServiceGroupRefId="1" TaxOnBaggageGroupRefId="2" TaxOnChangeFeeGroupRefId="3" />
          </Itins>
        </TaxRs>
Files updated:
        Taxes/AtpcoTaxes/Rules/TaxApplicationLimitUtil.cpp
Unit tests files:
        N/A
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [X] Other: ATPCO TAX
Schema update: 
        [ ] Yes
Developer: Jacek Roman
Code reviewers: Maciej Krawczyk, Aleksander Hryniewiecki
BA: 
QA: 

Title: [ATPCO Tax][S-325693] Tax Display Processing - TXHELP Entry
Date: 02/20/2015
Description:
        ATPCO version of Tax Display. Initial version with TXHELP command processing only
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        ACMS: ATPCO_TAXES_DISPLAY_ENABLED = Y (default value is N)
Resolution/QA recommendation:
        TXHELP command should be wrote in "Action Code" key in TaxDisplay request until we're waiting for new Atpco TaxDisplay commands parsing in PSS.
Entry/XML to recreate:
        That's example. Only Action Code key matters:
        <AirTaxDisplayRQ>
         <TaxCode Code="ZVC" />
         <Sequence SequenceMatch="100" />
         <Source>
         <TPA_Extensions>
         <UserInfo>
         <Partition ID="AA" />
         <Service Name="TAXBDSP2" />
         <AAACity Code="HDQ" />
         <AgentSine Code="M1S" />
         <ClientService Name="TPF" />
         <ParentService Name="TAXBDSP2" />
         <Transaction ID="226500744634576" />
         <ClientTransaction ID="226500744634576" />
         <ParentTransaction ID="226500744634576" />
         <Action Code="TXHELP" />
         </UserInfo>
         </TPA_Extensions>
         </Source>
        </AirTaxDisplayRQ>
Example before:
        n/a
Example after:
        n/a
Files updated:
        Common/TrxUtil.cpp
        Common/TrxUtil.h
        DataModel/TaxTrx.h
        Service/TransactionOrchestrator.cpp
        Taxes/AtpcoTaxes/TaxDisplay/TaxDisplay.cpp
        Taxes/AtpcoTaxes/TaxDisplay/TaxDisplay.h
        Taxes/Dispatcher/AtpcoTaxOrchestrator.cpp
        Taxes/SConscript
        Taxes/libtaxes.mk
        Taxes/xtaxserver.mk
        Xform/AtpcoTaxDisplayResponseFormatter.cpp
        Xform/AtpcoTaxDisplayResponseFormatter.h
        Xform/Makefile.sources
        Xform/TaxDisplayModelMap.cpp
        Xform/XformTaxXML.cpp
Unit tests files:
        Taxes/AtpcoTaxes/TaxDisplay/test/TaxDisplayTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [X] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Wojciech Franczyk
Code reviewers: Piotr Lach
BA: 
QA: 

Title: Fix APO-37597 Cat10 RT Failing on IF Cat14 
Date: 02/20/2015
Description:
        ATSE combinability was not processing  IF condition for category 14.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        <fam=atsev2>tseserverDYNAMIC_LOADABLE\FALLBACK_SECTION::FALLBACK_APO37597_CAT10Y Added on 2015 R4=SCALARN/ANNCREATED
        <fam=atsev2>tseserverFALLBACK_SECTION\FALLBACK_APO37597_CAT10NAdded 2015 R4=SCALARN/ANNCREATED
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        <b>WPB26JAN15 Q/*640/F1YHOW/F2SOWA3/DDSFA</b><br>
        ********************** QUALIFYING RULES ***********************
                       NO COMBINABLE VALID FARE FOUND
        ***************************************************************
        NO COMBINABLE FARES FOR CLASS USED 53<br>
        <b>WPB26JAN15 S1*<bgcolor=yellow>QYHOW</bgcolor> S2*<bgcolor=yellow>QSOWA3</bgcolor> Q/*854</b><br>
        PO HOSTNAME/BASELINE:PICLI300/PRICINGORCHESTRATOR.2015.02.00
        HOSTNAME/PORT:  PITHLI113/53701
        BASELINE: ATSEV2.2015.02.01
        DATABASE: FUNCIA HIS
                 1         2         3         4         5         6
        123456789012345678901234567890123456789012345678901234567890123
               BASE FARE                 TAXES/FEES/CHARGES    TOTAL
        1-    EUR186.00                     48.64XT       EUR234.64ADT
            XT      6.00YQ      24.00GR       5.65WQ      12.99WP
                  186.00                     48.64            234.64TTL
        ADT-01  YHOW SOWA3
        SKG A3 ATH130.00A3 SKG56.00EUR186.00END SITI
        VALID ON A3 FLTS ONLY
        NON-REFUNDABLE/DATES SHOWN ONLY/VALID ON A3 FLIGHTS/
        VALIDATING CARRIER - A3
        CAT 15 SALES RESTRICTIONS FREE TEXT FOUND - VERIFY RULES
        ADT-01
        BAG ALLOWANCE     -SKGATH-01P/A3/EACH PIECE UP TO 50 POUNDS/23
        KILOGRAMS
        2NDCHECKED BAG FEE-SKGATH-EUR25.00/A3/UP TO 50 POUNDS/23 KILOGR
        AMS
        BAG ALLOWANCE     -ATHSKG-01P/A3/EACH PIECE UP TO 50 POUNDS/23
        KILOGRAMS                                                       
        MD
        2NDCHECKED BAG FEE-ATHSKG-EUR25.00/A3/UP TO 50 POUNDS/23 KILOGR 
        AMS
        CARRY ON ALLOWANCE
        SKGATH ATHSKG-01P/A3
        CARRY ON CHARGES
        SKGATH ATHSKG-A3-CARRY ON FEES UNKNOWN-CONTACT CARRIER
        ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY<br>
        **
        <bgcolor=yellow>PRICED USING RULE OVERRIDE-FOLLOWING FARE RULES NOT MET</bgcolor>
        <bgcolor=yellow>  COMBINABILITY REQUIREMENTS</bgcolor>
        FARE NOT GUARANTEED IF TICKETED
        **
                 1         2         3         4         5         6
        123456789012345678901234567890123456789012345678901234567890123
Example after:
        NUJCIE
        1.1TEST/COMB
        1 A3 103Y 05MAR Q SKGATH HK1   740A  830A /DCA3*184237
        2 A3 112S 10MAR T ATHSKG HK1  1200N 1255P /DCA3*184237
        TKT/TIME LIMIT
          1.T-
        PHONES
          1.ATHP
        RECEIVED FROM - P
        K24H.HDQ*YIJ 1842/13FEB15 NUJCIE H<br>
        <b>WPB26JAN15 Q/*854/F1YHOW/F2SOWA3/DDSFA IPA-LTXL0237.SGDCELAB.SABRE.COM:33333</b><br>
        PO HOSTNAME/BASELINE:LTXL0651/PRICINGORCHESTRATOR.2015.03.AE
        HOSTNAME/PORT:  LTXL0237/33333
        BASELINE: MANUALBUILD
        DATABASE: FUNCIA HIS,FUNCIA PRC
                 1         2         3         4         5         6
        123456789012345678901234567890123456789012345678901234567890123
               BASE FARE                 TAXES/FEES/CHARGES    TOTAL
        1-    EUR186.00                     48.64XT       EUR234.64ADT
            XT      6.00YQ      24.00GR       5.65WQ      12.99WP
                  186.00                     48.64            234.64TTL
        ADT-01  YHOW SOWA3
        SKG A3 ATH130.00A3 SKG56.00EUR186.00END SITI
        VALID ON A3 FLTS ONLY
        NON-REFUNDABLE/DATES SHOWN ONLY/VALID ON A3 FLIGHTS/
        VALIDATING CARRIER - A3
        CAT 15 SALES RESTRICTIONS FREE TEXT FOUND - VERIFY RULES
        ADT-01
        BAG ALLOWANCE     -SKGATH-01P/A3/EACH PIECE UP TO 50 POUNDS/23
        KILOGRAMS
        2NDCHECKED BAG FEE-SKGATH-EUR25.00/A3/UP TO 50 POUNDS/23 KILOGR
        AMS
        BAG ALLOWANCE     -ATHSKG-01P/A3/EACH PIECE UP TO 50 POUNDS/23
        KILOGRAMS                                                       
        MD
        2NDCHECKED BAG FEE-ATHSKG-EUR25.00/A3/UP TO 50 POUNDS/23 KILOGR 
        AMS
        CARRY ON ALLOWANCE
        SKGATH ATHSKG-01P/A3
        CARRY ON CHARGES
        SKGATH ATHSKG-A3-CARRY ON FEES UNKNOWN-CONTACT CARRIER
        ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY
                 1         2         3         4         5         6
        123456789012345678901234567890123456789012345678901234567890123
        .<br>
        <b>WPB26JAN15 Q/*640/F1YHOW/F2SOWA3/DDSFA IPA-LTXL0237.SGDCELAB.SABRE.COM:33333</b><br>
        ********************** QUALIFYING RULES ***********************
          ------
          VENDOR ATP - CAT 14 ITEM NO 601050 - FARE YHOW
          COMBINING WITH FARE SOWA3
           MATCHED
        ***************************************************************
        .<br>
        <b>WPB26JAN15 Q/*632/F1YHOW/F2SOWA3/DDSFA IPA-LTXL0237.SGDCELAB.SABRE.COM:33333</b><br>
        ********************* ROUND TRIP ANALYSIS *********************
        *********************** SUB CATEGORY 102 **********************
        ***************************************************************
        SKG-A3-ATH   ATH-A3-SKG 
         YHOW          ATP 304  A3 2200   130.00 EUR 1O EH ER 1004400 RT
        SOWA3         ATP 304  A3 1000    56.00 EUR 1I EH ER 5002200 RT
        PU MAJOR CAT:102
        PROCESS DATA SET: 2 - FARE: YHOW
            PASSED MINOR SUBCAT: 106   ITEM 14694
            PASSED MINOR SUBCAT: 107   ITEM 206955
            PASSED MINOR SUBCAT: 14   ITEM 601050
           PASSED MINOR SUBCATS AT DATA SET 2
        PASSED COMBINATION - SUBCAT ITEM 0 OR TEXT ONLY - FARE: YHOW
        PROCESS DATA SET: 2 - FARE: SOWA3
            PASSED MINOR SUBCAT: 106   ITEM 14694
            PASSED MINOR SUBCAT: 107   ITEM 206955
           PASSED MINOR SUBCATS AT DATA SET 2
        PASSED COMBINATION - SUBCAT ITEM 0 OR TEXT ONLY - FARE: SOWA3
        ***************************************************************
Files updated:
        Common/FallBack.cpp
        Pricing/Combinations.cpp
        Pricing/Combinations.h<br>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [ ] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Mauricio Dantas
Code reviewers: Mohammad Hossan
BA: Darrin Wei
QA: 

Title: RAT-191, APO-39321 - AY incorrect calculation with Ground Transportation
Date: 02/20/2015
Description:
        <a href=https://jira.sabre.com/browse/RAT-191>https://jira.sabre.com/browse/RAT-191</a>
        https://jira.sabre.com/browse/APO-39321
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        fallback: AY_FIX_MULTIAIRPORT
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        <a href=https://jira.sabre.com/browse/RAT-191>https://jira.sabre.com/browse/RAT-191</a>
        https://jira.sabre.com/browse/APO-39321
Example after:
        <a href=https://jira.sabre.com/browse/RAT-191>https://jira.sabre.com/browse/RAT-191</a>
        https://jira.sabre.com/browse/APO-39321
Files updated:
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Marcin Skalski
Code reviewers: Piotr Lach, Grzegorz Szczurek
BA: Gary.Nash@sabre.com
QA: Mussuto, Helene <Helene.Mussuto@sabre.com>

Title: RBDByCabin cache update
Date: 02/20/2015
Description:
        RBDByCabin cache update
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        n/a
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
        <color=black>Server/cacheNotify.xml</color>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Ilya Entin
Code reviewers: Alexander Zagrebin
BA: 
QA: 

Title: [AB-240] Fix Tax Server Core
Date: 02/20/2015
Description:
        Fix Core
        http://asjira.sabre.com/browse/SSDMPS-94
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        Changes are controlled by FALLBACK_AB240 and active in daily only.
Resolution/QA recommendation:
Entry/XML to recreate:
        <AncillaryPricingRequest xmlns="<a href=http://www.atse.sabre.com/AncillaryPricing/Request>http://www.atse.sabre.com/AncillaryPricing/Request</a>" Version="3.0.0">
          <AGI A20="B4T0" B00="1S" N0G="*" />
          <BIL A70="POST" AD0="772B33" AE0="AA" C20="ANCPRICE" S0R="PANC" />
          <PRO C10="" PS1="T" />
          <ITN Q00="1">
            <IRO>
              <PXI B70="ADT" Q0U="1" />
            </IRO>
            <SGI Q00="1">
              <FLI A01="MEX" A02="CUN" B00="AM" B01="AM" B30="Y" BB0="OK" C7B="T" D01="2015-03-12" D02="2015-03-12" D31="0010" D32="1419" N0E="Y" Q0B="429" S95="737" />
            </SGI>
          </ITN>
          <ITN Q00="2">
            <IRO>
              <PXI B70="ADT" Q0U="1">
                <PNM Q86="2" Q87="1397503187540" S0L="01.01" />
              </PXI>
            </IRO>
            <SGI Q00="1">
              <FLI A01="MEX" A02="CUN" B00="AM" B01="AM" B30="Y" BB0="OK" C7A="1" C7B="T" D01="2015-03-12" D02="2015-03-12" D31="0010" D32="1419" N0E="Y" Q0B="429" S95="737" />
              <FBA Q6D="1" />
            </SGI>
            <FBI B02="AM" B50="YSHWAP" C50="186.00" FTY="00" Q00="1" Q3W="17" S37="ATP" S53="ER" S90="AMST" />
          </ITN>
        </AncillaryPricingRequest>
Example before:
        CORE
Example after:
        <AncillaryPricingResponse xmlns="<a href=http://www.atse.sabre.com/AncillaryPricing/Response>http://www.atse.sabre.com/AncillaryPricing/Response</a>">
          <ITN Q00="1">
            <MSG N06="X" Q0K="0" S18="ADT-01" />
            <MSG N06="X" Q0K="0" S18="BAG ALLOWANCE     -MEXCUN-01P/AM/EACH PIECE UP TO 55 POUNDS/25 " />
            <MSG N06="X" Q0K="0" S18="KILOGRAMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
            <MSG N06="X" Q0K="0" S18="2NDCHECKED BAG FEE-MEXCUN-*/AM" />
            <MSG N06="X" Q0K="0" S18="*BAGGAGE ALLOWANCES/FEES UNKNOWN - CONTACT AM" />
            <MSG N06="X" Q0K="0" S18="CARRY ON ALLOWANCE" />
            <MSG N06="X" Q0K="0" S18="MEXCUN-01P/10KG/AM" />
            <MSG N06="X" Q0K="0" S18="01/UP TO 22 POUNDS/10 KILOGRAMS AND UP TO 45 LINEAR INCHES/115 " />
            <MSG N06="X" Q0K="0" S18="LINEAR CENTIMETERS" />
            <MSG N06="X" Q0K="0" S18="CARRY ON CHARGES" />
            <MSG N06="X" Q0K="0" S18="MEXCUN-AM-CARRY ON FEES UNKNOWN-CONTACT CARRIER" />
            <MSG N06="X" Q0K="0" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY" />
            <MSG N06="X" Q0K="0" S18="EMBARGOES-APPLY TO EACH PASSENGER" />
            <MSG N06="X" Q0K="0" S18="MEXCUN-AM" />
            <MSG N06="X" Q0K="0" S18="UP TO 44 POUNDS/20 KILOGRAMS AND OVER 62 LINEAR INCHES/158 LINE" />
            <MSG N06="X" Q0K="0" S18="AR CENTIMETERS NOT PERMITTED" />
            <MSG N06="X" Q0K="0" S18="PET IN HOLD/LARGE NOT PERMITTED" />
            <OCM>
              <OCF>
                <MSG S18="AIR EXTRAS NOT FOUND" />
              </OCF>
            </OCM>
            <TPN>
              <PNM S0L="01.01" Q87="1397503187540" Q86="2" />
            </TPN>
            <OCG Q00="0" SF0="BG" />
            <OCG Q00="0" SF0="PT" ST0="NF" />
          </ITN>
          <APR />
        </AncillaryPricingResponse>
Files updated:
        Xform/AncillaryPricingResponseFormatterPostTkt.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Brajesh Tiwari
Code reviewers: Piotr.Szyba@sabre.com;Janusz.Jagodzinski@sabre.com
BA: Joanna.Chrapek@sabre.com
QA: Grzegorz.Mozdzierz@sabre.com;Joanna.Kozlowska@sabre.com

Title: Remove Fallback flag for TSDTS-321N
Date: 02/20/2015
Description:
        Fallback flag removal
Applies to: 
        [ ] all agencies
        [ ] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: Internal
Activated by/Configuration change:
        <FAM=atsev2> tseserver 
        DYNAMIC_LOADABLE\FALLBACK_SECTION::FALLBACK_VALCXR_TSDTS_321N Y Added to 2015 R0 
        = SCALAR N/A N N REMOVED
        <FAM=atsev2> tseserver 
        FALLBACK_SECTION\FALLBACK_VALCXR_TSDTS_321N N Added to 2015 R0 = SCALAR N/A N N 
        REMOVED
Resolution/QA recommendation:
        N/A
Entry/XML to recreate:
        N/A
Example before:
        N/A
Example after:
        N/A
Files updated:
        Common/FallBack.cpp
        FareCalc/FcCollector.cpp
        Pricing/PricingUnitFactoryOld.cpp
        Rules/RuleController.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [ ] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Mauricio Dantas
Code reviewers: Nakamon Thamsiriboon
BA: 
QA: 

Title: [Fare Selection] Fix ShoppingIS exceptions (2)
Date: 02/20/2015
Description:
        Various fixes for fare selection project. This also fixes JIRA-463.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        PRO/TEP=1 is needed to activate fare selection.
Resolution/QA recommendation:
        End to end testing for shoppingIS (both NGS and V2) can be done after this fix.
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        Common/FLBVisitor.cpp
        ItinAnalyzer/ItinAnalyzerService.cpp
        ItinAnalyzer/ItinAnalyzerServiceShopping.cpp
        ItinAnalyzer/ItinAnalyzerServiceWrapper.cpp
        Xform/XMLShoppingResponse.cpp<br>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [X] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Okan
Code reviewers: Lek
BA: Nadeem
QA: Satish

Title: removed fallbacks, preps for LOU thread pool, LDC persistent thread pools
Date: 02/22/2015
Description:
        removed fallbacks, preps for LOU thread pool, LDC persistent thread pools
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        n/a
Resolution/QA recommendation:
        regression
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
        <a href=#> Adapter</a> <a href=#Adapter/DiskCacheAdapter.cpp> DiskCacheAdapter.cpp</a> <a href=#> CacheUpdate</a> <a href=#CacheUpdate/CacheUpdateService.cpp> CacheUpdateService.cpp</a> <a href=#> Common</a> <a href=#> Thread</a> <a href=#Common/Thread/ThreadPoolInfo.cpp> ThreadPoolInfo.cpp</a> <a href=#Common/Thread/TseTaskExecutor.cpp> TseTaskExecutor.cpp</a> <a href=#Common/Thread/TseTaskExecutor.h> TseTaskExecutor.h</a> <a href=#Common/Thread/TseThreadingConst.cpp> TseThreadingConst.cpp</a> <a href=#Common/Thread/TseThreadingConst.h> TseThreadingConst.h</a> <a href=#Common/LOUFallbacks.cpp> LOUFallbacks.cpp</a> <a href=#Common/LOUFallbacks.h> LOUFallbacks.h</a>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Ilya Entin
Code reviewers: Alexander Zagrebin
BA: 
QA: 

Title: [Exchange] Fix branded output when transaction fails
Date: 02/23/2015
Description:
        [Exchange] Fix branded output when transaction fails
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        RETURN_BRAND_STATUS_WHEN_EXCHANGE_FAILS = N
Resolution/QA recommendation:
        regression
Entry/XML to recreate:
        n/a
Example before:
        n/a
Example after:
        n/a
Files updated:
        Common/FallBack.cpp
        Xform/XMLShoppingResponse.cpp
        Xform/XMLShoppingResponse.h
Unit tests files:
        n/a
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [X] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Szczurek
Code reviewers: Grzegorz Wanke, Grzegorz Szwarc
BA: n/a
QA: n/a

Title: Refactor TrxCounter
Date: 02/23/2015
Description:
        <b>1. Common/Thread: Introduce PeriodicTaskExecutor.</b></pre>
        It maintains a single thread that periodically executes given tasks.
        Will be used to replace current thread-per-period-task standard.</pre>
        <b>2. Refactor TrxCounter out of CacheDeleter.</b></pre>
        The CacheDeleter* files had become a trash bin for things related to counting tranasction objects.</pre>
        I have extracted the TrxCounter logic to its own file (in Common) and ported CacheDeleter to use it.</pre>
        I have also moved NotTimingOut logic into its own file too (in Common).
        It uses TrxCounter along with PeriodicTaskExecutor to implement its logic.</pre>
        <b>3. DiskspaceWatcher: Refactor.</b></pre>
        Use PeriodicTaskExecutor.</pre>
        <b>4. DynamicConfigLoader: Refactor.</b></pre>
        Use ConfigurableValue and PeriodicTaskExecutor.</pre>
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
        No impact
Entry/XML to recreate:
        N/A
Example before:
        N/A
Example after:
        N/A
Files updated:
        Common/DiskspaceWatcher.cpp
        Common/DiskspaceWatcher.h
        Common/DynamicConfigLoader.cpp
        Common/DynamicConfigLoader.h
        Common/Makefile.sources
        Common/NotTimingOutDetector.cpp
        Common/NotTimingOutDetector.h
        Common/Thread/PeriodicTask.h
        Common/Thread/PeriodicTaskExecutor.cpp
        Common/Thread/PeriodicTaskExecutor.h
        Common/TrxCounter.cpp
        Common/TrxCounter.h
        DBAccess/CacheDeleter.cpp
        DBAccess/CacheDeleter.h
        DBAccess/CacheMemoryDiagnostic.h
        DataModel/BaseTrx.cpp
        Server/TseServer.cpp
Unit tests files:
        Server/test/DynamicConfigLoaderTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Gustaw Smolarczyk
Code reviewers: Grzegorz Lisowski, Damian Krolik, Radoslaw Przybyl, Jakub Zygielo
BA: N/A
QA: N/A

Title: [HARDENINGS] Kill the application after hang up handleSEGV.
Date: 02/23/2015
Description:
        Since handleSEGV is not a safe function, it can deadlock.
        Schedule an alarm after some time to handle such situations.</pre>
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        APPLICATION_CONSOLE\HANDLE_SEGV_MAX_TIME - the amount of seconds, 0 to disable.
Resolution/QA recommendation:
        No impact
Entry/XML to recreate:
        N/A
Example before:
        N/A
Example after:
        N/A
Files updated:
        Server/AppConsoleController.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Gustaw Smolarczyk
Code reviewers: Grzegorz Lisowski, Damian Krolik
BA: N/A
QA: N/A

Title: [HARDENINGS] Dump active transactions in handleSEGV.
Date: 02/23/2015
Description:
        So that they can be used to reproduce the core.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        APPLICATION_CONSOLE\SEGV_OUTPUT_RUNNING_TRX - whether to dump them
Resolution/QA recommendation:
        No impact
Entry/XML to recreate:
        N/A
Example before:
        N/A
Example after:
        N/A
Files updated:
        Server/AppConsoleController.cpp
        Server/log4cxx.xml
        deploy/cert/config/shopping/log4cxx.xml
        deploy/cert/config/shoppingesv/log4cxx.xml
        deploy/cert/config/shoppinghist/log4cxx.xml
        deploy/cert/config/shoppingis/log4cxx.xml
        deploy/integ/config/bin/log4cxx.historical.xml
        deploy/integ/config/bin/log4cxx.xml
        deploy/integ/config/shopping/log4cxx.xml
        deploy/integ/config/shoppingesv/log4cxx.xml
        deploy/integ/config/shoppinghist/log4cxx.xml
        deploy/prod/config/shopping/log4cxx.xml
        deploy/prod/config/shoppingesv/log4cxx.xml
        deploy/prod/config/shoppinghist/log4cxx.xml
        deploy/prod/config/shoppingis/log4cxx.xml
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Gustaw Smolarczyk
Code reviewers: Grzegorz Lisowski, Damian Krolik
BA: N/A
QA: N/A

Title: diag910 fix - interline predicate
Date: 02/23/2015
Description:
        Turned off interline predicate fail tracing
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        PRINT_TRACED_FOS_FAILED_PREDICATE
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        FallBack.cpp
        SolFosGenerator.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Bernard Rusin
Code reviewers: Damian Krolik, Jakub Zygielo
BA: 
QA: 

Title: [Exchange] Keep original brand logic for flown or not shopped segments
Date: 02/23/2015
Description:
        [Exchange] Keep original brand logic for flown or not shopped segments
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        n/a
Resolution/QA recommendation:
        n/a
Entry/XML to recreate:
        n/a
Example before:
        n/a
Example after:
        n/a
Files updated:
        BrandedFares/BrandedFaresSelector.cpp
        DataModel/FareMarket.h
        DataModel/PaxTypeFare.cpp
        DataModel/PaxTypeFare.h
        DataModel/RexExchangeTrx.h
        Fares/FareCollectorOrchestrator.cpp
        ItinAnalyzer/ItinAnalyzerService.cpp
        Pricing/FarePathFactory.cpp
        RexPricing/RexFareSelectorService.cpp
        RexPricing/RexFareSelectorService.h
        Xform/ShoppingSchemaNames.cpp
        Xform/ShoppingSchemaNames.h
        Xform/XMLShoppingHandler.cpp
Unit tests files:
        DataModel/test/PaxTypeFareTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [X] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Szczurek
Code reviewers: Grzegorz Wanke, Grzegorz Szwarc
BA: Such Joanna
QA: Lurka Tomasz

Title: cat31 refactoring - prepare for new tag definition validation
Date: 02/23/2015
Description:
        This is a first step that allows us to implement new tcat31 tag definition validation.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        EXCHANGE_REFACTORING_FOR_NEW_TAG_DEFINITION
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        same
Example after:
        same
Files updated:
        RexPricing/GenericRexMapper.cpp
        RexPricing/GenericRexMapper.h
        RexPricing/PermutationGenerator.cpp
        RexPricing/PermutationGenerator.h
        RexPricing/RepriceSolutionValidator.cpp
        RexPricing/RepriceSolutionValidator.h
        RexPricing/RexAdvResTktValidator.cpp
        RexPricing/RexAdvResTktValidator.h
        RexPricing/RexFareBytesValidator.cpp
        RexPricing/RexFareBytesValidator.h
        RexPricing/TagWarEngine.cpp<br>
Unit tests files:
        RexPricing/test/FareBytesRexMapperTest.cpp
        RexPricing/test/PermutationGeneratorTest.cpp
        RexPricing/test/RexAdvResTktValidatorAdvPurTest.cpp
        RexPricing/test/RexAdvResTktValidatorTest.cpp
        RexPricing/test/RexFareBytesValidatorTest.cpp
        RexPricing/test/TagWarEngineTest.cpp<br>
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [X] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Wanke
Code reviewers: Grzegorz Szwarc, Grzegorz Szczurek
BA: 
QA: 

Title: Remove fallbacks FALLBACK_AVAL_BREAK_FIX, FALLBACK_AVAL_BREAK_FIX_V2 and FALLBACK_ADDBACK_FOR_AA.
Date: 02/23/2015
Description:
        Remove fallbacks FALLBACK_AVAL_BREAK_FIX, FALLBACK_AVAL_BREAK_FIX_V2 and FALLBACK_ADDBACK_FOR_AA.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_AVAL_BREAK_FIX, FALLBACK_AVAL_BREAK_FIX_V2 and FALLBACK_ADDBACK_FOR_AA removed
Resolution/QA recommendation:
        No impact
Entry/XML to recreate:
        N/A
Example before:
        N/A
Example after:
        N/A
Files updated:
        ATAE/ContentServices.cpp
        Common/FallBack.cpp
        DataModel/TravelSeg.h
        Pricing/PricingOrchestrator.cpp
        Pricing/PricingOrchestrator.h
        Xform/XMLShoppingResponse.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Gustaw Smolarczyk
Code reviewers: Piotr Wojcik
BA: N/A
QA: N/A

Title: [Fare Selection] Disable PO threading for ShoppingIS V2 when fare selection is active
Date: 02/23/2015
Description:
        Disable PO threading for ShoppingIS V2 when fare selection is active
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        Enabled only when PRO/TEP=1
Resolution/QA recommendation:
        No functional changes are expected with this change
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        Pricing/PricingOrchestratorShopping.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [X] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Okan
Code reviewers: Lek
BA: Nadeem
QA: Satish

Title: [RTW] Fix CAT5 processing
Date: 02/24/2015
Description:
        In case of CAT5 record with byte 37 equal to 'X' we should require all segments to be confirmed. Unfortunately, before my fix is delivered we validated only segments prior to the turnaround point.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_SECTION\RTW_CAT5_FIX
Resolution/QA recommendation:
        Affects RTW processing of CAT5 with byte 37 (confirmed sector) equal to 'X'.
Entry/XML to recreate:
        <PRICINGREQUEST VERSION="1.1.8">
         <AGI A10="MIA" A20="80K2" A21="9I98" A80="80K2" A90="HDO" AB0="9999999" AB1="9999999" B00="1S" C40="USD" N0G="*" Q01="34" />
         <BIL A20="HDQ" A22="80K2" A70="WPRW " AA0="HDO" AD0="6AAB31" AE0="AA" C00="-5645380516460383350" C20="INTLWPI1" S0R="LBTY" Q02="0" Q03="0" />
         <PRO C45="USD" D07="2015-02-23" D54="0395" PBK="T" N08="B" Q0P="1" P0J="T" RTW="T" S14="WPRW Q/*196" SEZ="T" SEY="T" PPC="T" S15="CRSAGT" C10="305" />
         <DIG Q0A="30" S01="FCKRTWSKY4" />
         <PXI B70="ADT" Q0U="1" />
         <SGI Q0C="1">
         <FLI Q0C="1" N03="A" B00="VN" B01="VN" A01="KUL" A02="SGN" B30="K" D01="2015-07-05" Q0B="684" D02="2015-07-05" D00="2015-02-23" D31="0750" D32="0800" D30="0395" BB2="SS" BB0="OK" B40="321" />
         </SGI>
         <SGI Q0C="2">
         <FLI Q0C="2" N03="A" B00="VN" B01="VN" A01="SGN" A02="NRT" B30="K" D01="2015-07-10" Q0B="302" D02="2015-07-10" D00="2015-02-23" D31="0355" D32="0830" D30="0395" BB2="SS" BB0="OK" B40="321" />
         </SGI>
         <SGI Q0C="3">
         <FLI Q0C="3" N03="A" B00="DL" B01="DL" A01="NRT" A02="LAX" B30="K" D01="2015-07-14" Q0B="284" D02="2015-07-14" D00="2015-02-23" D31="1035" D32="0694" D30="0395" BB2="SS" BB0="OK" B40="77L" />
         </SGI>
         <SGI Q0C="4">
         <FLI Q0C="4" N03="A" B00="AF" B01="AF" A01="LAX" A02="CDG" B30="K" D01="2015-07-20" Q0B="65" D02="2015-07-21" D00="2015-02-23" D31="0930" D32="0680" D30="0395" BB2="SS" BB0="OK" B40="388" />
         </SGI>
         <SGI Q0C="5">
         <FLI Q0C="5" N03="A" B00="AF" B01="AF" A01="CDG" A02="AMS" B30="K" D01="2015-07-22" Q0B="1740" D02="2015-07-22" D00="2015-02-23" D31="0755" D32="0830" D30="0395" BB2="SS" BB0="OK" B40="318" />
         </SGI>
         <SGI Q0C="6">
         <FLI Q0C="6" N03="O" B00="KL" B01="KL" A01="AMS" A02="KUL" B30="K" D01="2015-07-25" D00="2015-02-23" D31="0000" D30="0395" BB2="DS" BB0="RQ" />
         </SGI>
         <RES>
         <IDS B00="VN" Q0B="684" B30="K" D01="2015-07-05" D31="1230" A01="KUL" D02="2015-07-05" D32="1320" A02="SGN" A70="SS" Q0U="1" N0V="J" P2X="ET" />
         <IDS B00="VN" Q0B="302" B30="K" D01="2015-07-10" D31="0555" A01="SGN" D02="2015-07-10" D32="1350" A02="NRT" A70="SS" Q0U="1" N0V="J" P2X="ET" />
         <IDS B00="DL" Q0B="284" B30="K" D01="2015-07-14" D31="1715" A01="NRT" D02="2015-07-14" D32="1134" A02="LAX" A70="SS" Q0U="1" N0V="J" P2X="EN" />
         <IDS B00="AF" Q0B="65" B30="K" D01="2015-07-20" D31="1530" A01="LAX" D02="2015-07-21" D32="1120" A02="CDG" A70="SS" Q0U="1" N0V="J" P2X="EN" />
         <IDS B00="AF" Q0B="1740" B30="K" D01="2015-07-22" D31="1235" A01="CDG" D02="2015-07-22" D32="1350" A02="AMS" A70="SS" Q0U="1" N0V="J" P2X="EN" />
         <IDS B00="KL" Q0B="00" B30="K" D01="2015-07-25" D31="0000" A01="AMS" D02="2015-07-25" D32="0000" A02="KUL" A70="OP" Q0U="1" N0V="J" P2X="EN" />
         </RES>
         <POC A03="KUL" D01="2015-07-05" D02="1230" />
        </PRICINGREQUEST>
Example before:
        CATEGORY 05 - ADVANCE RESERVATION/TICKETING DIAGNOSTICS
        PHASE: FARE VALIDATOR R3 ITEM NUMBER: 692822
        KUL KUL KRTWSKY4 R2:FARERULE : ATP 346 DL 2300
        CATEGORY 5 RULE DATA:
         LAST DATE WAIVER APPLIES TO ADV RES REQUIREMENT: N/A
         LAST DATE WAIVER APPLIES TO ADV TKT REQUIREMENT: N/A
         ADVANCE RESERVATION:
         LAST TIME RES PERMITTED BEFORE DEPARTURE: 007 DAYS
         CONFIRMED STATUS:
         ALL SECTORS OF ALL F.C. WITHIN THE P.U. MUST BE CONFIRMED
         ADVANCE TICKETING:
         TIME WHEN TKT IS REQUIRED AFTER RES: 072 HRS
         TIME PRIOR TO DEPARTURE TKT IS REQUIRED: 7 DAYS
         EARLIER OF THE TWO TICKET ISSUANCE REQUIREMENTS APPLY
        **************************************************************
         ORIG KUL DEPART DATE: 2015-07-05T12:30:00
        TRAVEL SEGMENT
         ORIG: KUL DEST: SGN
         RESERVATION DATE: 2015-02-23T06:35:00
        THE LATEST RESERVATION TIME ALLOWED - 2015-06-28T23:59:00
         ADVANCE RES: PASS 
         TICKET DATE: 2015-02-23T06:35:01
        LIMIT AFTER RESERVATION 2015-02-26T06:35:00
        LIMIT BEFORE DEPARTURE 2015-06-28T23:59:00
        EARLIER OF THE TWO TICKET ISSUANCE 2015-02-26T06:35:00
         ADVANCE TKT: PASS
        CONFIRM STATUS : OK
        TRAVEL SEGMENT
         ORIG: SGN DEST: NRT
         RESERVATION DATE: 2015-02-23T06:35:00
        THE LATEST RESERVATION TIME ALLOWED - 2015-06-28T23:59:00
         ADVANCE RES: PASS 
         TICKET DATE: 2015-02-23T06:35:01
        LIMIT AFTER RESERVATION 2015-02-26T06:35:00
        LIMIT BEFORE DEPARTURE 2015-06-28T23:59:00
        EARLIER OF THE TWO TICKET ISSUANCE 2015-02-26T06:35:00
         ADVANCE TKT: PASS
        CONFIRM STATUS : OK
        TRAVEL SEGMENT
         ORIG: NRT DEST: LAX
         RESERVATION DATE: 2015-02-23T06:35:00
        THE LATEST RESERVATION TIME ALLOWED - 2015-06-28T23:59:00
         ADVANCE RES: PASS 
         TICKET DATE: 2015-02-23T06:35:01
        LIMIT AFTER RESERVATION 2015-02-26T06:35:00
        LIMIT BEFORE DEPARTURE 2015-06-28T23:59:00
        EARLIER OF THE TWO TICKET ISSUANCE 2015-02-26T06:35:00
         ADVANCE TKT: PASS
        CONFIRM STATUS : OK
        TRAVEL SEGMENT
         ORIG: LAX DEST: CDG
         RESERVATION DATE: 2015-02-23T06:35:00
        THE LATEST RESERVATION TIME ALLOWED - 2015-06-28T23:59:00
         ADVANCE RES: PASS 
         TICKET DATE: 2015-02-23T06:35:01
        LIMIT AFTER RESERVATION 2015-02-26T06:35:00
        LIMIT BEFORE DEPARTURE 2015-06-28T23:59:00
        EARLIER OF THE TWO TICKET ISSUANCE 2015-02-26T06:35:00
         ADVANCE TKT: PASS
        TRAVEL SEGMENT
         ORIG: CDG DEST: AMS
         RESERVATION DATE: 2015-02-23T06:35:00
        THE LATEST RESERVATION TIME ALLOWED - 2015-06-28T23:59:00
         ADVANCE RES: PASS 
         TICKET DATE: 2015-02-23T06:35:01
        LIMIT AFTER RESERVATION 2015-02-26T06:35:00
        LIMIT BEFORE DEPARTURE 2015-06-28T23:59:00
        EARLIER OF THE TWO TICKET ISSUANCE 2015-02-26T06:35:00
         ADVANCE TKT: PASS
        TRAVEL SEGMENT
         ORIG: AMS DEST: KUL
         RESERVATION DATE: 2015-02-23T06:35:00
        THE LATEST RESERVATION TIME ALLOWED - 2015-06-28T23:59:00
         ADVANCE RES: PASS 
         TICKET DATE: 2015-02-23T06:35:01
        LIMIT AFTER RESERVATION 2015-02-26T06:35:00
        LIMIT BEFORE DEPARTURE 2015-06-28T23:59:00
        EARLIER OF THE TWO TICKET ISSUANCE 2015-02-26T06:35:00
         ADVANCE TKT: PASS
         ADVANCE RESTKT: SOFTPASS
Example after:
        CATEGORY 05 - ADVANCE RESERVATION/TICKETING DIAGNOSTICS
        PHASE: FARE VALIDATOR R3 ITEM NUMBER: 692822
        KUL KUL KRTWSKY4 R2:FARERULE : ATP 346 DL 2300
        CATEGORY 5 RULE DATA:
         LAST DATE WAIVER APPLIES TO ADV RES REQUIREMENT: N/A
         LAST DATE WAIVER APPLIES TO ADV TKT REQUIREMENT: N/A
         ADVANCE RESERVATION:
         LAST TIME RES PERMITTED BEFORE DEPARTURE: 007 DAYS
         CONFIRMED STATUS:
         ALL SECTORS OF ALL F.C. WITHIN THE P.U. MUST BE CONFIRMED
         ADVANCE TICKETING:
         TIME WHEN TKT IS REQUIRED AFTER RES: 072 HRS
         TIME PRIOR TO DEPARTURE TKT IS REQUIRED: 7 DAYS
         EARLIER OF THE TWO TICKET ISSUANCE REQUIREMENTS APPLY
        **************************************************************
         ORIG KUL DEPART DATE: 2015-07-05T12:30:00
        TRAVEL SEGMENT
         ORIG: KUL DEST: SGN
         RESERVATION DATE: 2015-02-23T06:35:00
        THE LATEST RESERVATION TIME ALLOWED - 2015-06-28T23:59:00
         ADVANCE RES: PASS 
         TICKET DATE: 2015-02-23T06:35:01
        LIMIT AFTER RESERVATION 2015-02-26T06:35:00
        LIMIT BEFORE DEPARTURE 2015-06-28T23:59:00
        EARLIER OF THE TWO TICKET ISSUANCE 2015-02-26T06:35:00
         ADVANCE TKT: PASS
        CONFIRM STATUS : OK
        TRAVEL SEGMENT
         ORIG: SGN DEST: NRT
         RESERVATION DATE: 2015-02-23T06:35:00
        THE LATEST RESERVATION TIME ALLOWED - 2015-06-28T23:59:00
         ADVANCE RES: PASS 
         TICKET DATE: 2015-02-23T06:35:01
        LIMIT AFTER RESERVATION 2015-02-26T06:35:00
        LIMIT BEFORE DEPARTURE 2015-06-28T23:59:00
        EARLIER OF THE TWO TICKET ISSUANCE 2015-02-26T06:35:00
         ADVANCE TKT: PASS
        CONFIRM STATUS : OK
        TRAVEL SEGMENT
         ORIG: NRT DEST: LAX
         RESERVATION DATE: 2015-02-23T06:35:00
        THE LATEST RESERVATION TIME ALLOWED - 2015-06-28T23:59:00
         ADVANCE RES: PASS 
         TICKET DATE: 2015-02-23T06:35:01
        LIMIT AFTER RESERVATION 2015-02-26T06:35:00
        LIMIT BEFORE DEPARTURE 2015-06-28T23:59:00
        EARLIER OF THE TWO TICKET ISSUANCE 2015-02-26T06:35:00
         ADVANCE TKT: PASS
        CONFIRM STATUS : OK
        TRAVEL SEGMENT
         ORIG: LAX DEST: CDG
         RESERVATION DATE: 2015-02-23T06:35:00
        THE LATEST RESERVATION TIME ALLOWED - 2015-06-28T23:59:00
         ADVANCE RES: PASS 
         TICKET DATE: 2015-02-23T06:35:01
        LIMIT AFTER RESERVATION 2015-02-26T06:35:00
        LIMIT BEFORE DEPARTURE 2015-06-28T23:59:00
        EARLIER OF THE TWO TICKET ISSUANCE 2015-02-26T06:35:00
         ADVANCE TKT: PASS
        CONFIRM STATUS : OK
        TRAVEL SEGMENT
         ORIG: CDG DEST: AMS
         RESERVATION DATE: 2015-02-23T06:35:00
        THE LATEST RESERVATION TIME ALLOWED - 2015-06-28T23:59:00
         ADVANCE RES: PASS 
         TICKET DATE: 2015-02-23T06:35:01
        LIMIT AFTER RESERVATION 2015-02-26T06:35:00
        LIMIT BEFORE DEPARTURE 2015-06-28T23:59:00
        EARLIER OF THE TWO TICKET ISSUANCE 2015-02-26T06:35:00
         ADVANCE TKT: PASS
        CONFIRM STATUS : OK
        TRAVEL SEGMENT
         ORIG: AMS DEST: KUL
         RESERVATION DATE: 2015-02-23T06:35:00
        THE LATEST RESERVATION TIME ALLOWED - 2015-06-28T23:59:00
         ADVANCE RES: PASS 
         TICKET DATE: 2015-02-23T06:35:01
        LIMIT AFTER RESERVATION 2015-02-26T06:35:00
        LIMIT BEFORE DEPARTURE 2015-06-28T23:59:00
        EARLIER OF THE TWO TICKET ISSUANCE 2015-02-26T06:35:00
         ADVANCE TKT: PASS
        CONFIRM STATUS : RQ
         ADVANCE RESTKT: FAIL - TRAVEL SEG AMSKUL NOT CONFIRMED
Files updated:
        Common/FallBack.cpp
        Rules/AdvanceResTkt.cpp
Unit tests files:
        Rules/test/AdvResTktTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [ ] Shopping
        [ ] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Damian Krolik
Code reviewers: Slawomir Machowicz
BA: Richard Rummell, Magda Filipska
QA: Grzegorz Panasiuk

Title: [ATPCO-340] TKTVALMAX/MIN has stopped working correctly
Date: 02/24/2015
Description:
        TKTVALMIN/MAX applies only to itinerary, should not fail tax on other taxable items.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        n/a
Resolution/QA recommendation:
Entry/XML to recreate:
        In Jira - ATPCO-340
Example before:
        Tax XX: 1321
Example after:
        Tax XX: 321
Files updated:
        Taxes/AtpcoTaxes/Rules/TaxOnFareApplicator.cpp
        Taxes/AtpcoTaxes/Rules/TaxOnRtwFareApplicator.cpp
Unit tests files:
        Taxes/AtpcoTaxes/Rules/test/TaxOnFareApplicatorTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Aleksander Hryniewiecki
Code reviewers: Jacek Roman
BA: 
QA: Grzegorz Sowizral

Title: [Maintenance] Fix getting BSR Rate
Date: 02/24/2015
Description:
        Get rate as long instead of int
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        n/a
Resolution/QA recommendation:
        fix delivered to R3
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
        DBAccess/Queries/QueryGetBSRSQLStatement.h
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [X] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Marek Markiewicz
Code reviewers: Dominik Pietras, Grzegorz Lisowski
BA: 
QA: 

Title: Revert "[Exchange] Keep original brand logic for flown or not shopped segments"
Date: 02/24/2015
Description:
        Revert "[Exchange] Keep original brand logic for flown or not shopped segments"
        This reverts commit beaf3cc9525dc490e10d4c95289cf4d4777430c8.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        n/a
Resolution/QA recommendation:
        n/a
Entry/XML to recreate:
        n/a
Example before:
        n/a
Example after:
        n/a
Files updated:
        BrandedFares/BrandedFaresSelector.cpp
        DataModel/FareMarket.h
        DataModel/PaxTypeFare.cpp
        DataModel/PaxTypeFare.h
        DataModel/RexExchangeTrx.h
        Fares/FareCollectorOrchestrator.cpp
        ItinAnalyzer/ItinAnalyzerService.cpp
        Pricing/FarePathFactory.cpp
        RexPricing/RexFareSelectorService.cpp
        RexPricing/RexFareSelectorService.h
        Xform/ShoppingSchemaNames.cpp
        Xform/ShoppingSchemaNames.h
        Xform/XMLShoppingHandler.cpp
Unit tests files:
        DataModel/test/PaxTypeFareTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Szczurek
Code reviewers: n/a
BA: n/a
QA: n/a

Title: AM issue fix, part II
Date: 02/24/2015
Description:
        AM issue fix, part II
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        <i>FALLBACK_AM_ISSUE</i>
Resolution/QA recommendation:
        N/A
Entry/XML to recreate:
        <?xml version="1.0" ?>
        <ShoppingRequest D70="5725" N06="M" STK="ttfhlc503:27036 2015-02-12T16:42:26 4fe76" TST="Y">
        <!-- <DIA Q0A="980"/> -->
        <!-- <DynamicConfig Name="FALLBACK_AM_ISSUE" Value="N" /> -->
        <AGI A10="USZ" A21="USZ" A80="USZ" A90="AMJ" B00="AM" C40="USD" N0G="*"/>
        <BIL A20="USZ" A22="USZ" A70="JR" AA0="AMJ" AD0="000000" AE0="AM" C00="14237809466241026" C01="14237809466241026" C20="ATSEIMIP" C21="SISBRADS"/>
        <PXI B70="ADT"/>
        <PRO B05="AM" C48="USD" D54="1062" P0J="T" P69="T" PXD="T" SEZ="T"/>
        <BRS SB2="PM" SC0="79727">
        <BRN B30="C"/>
        <BRN B30="D"/>
        <BRN B30="I"/>
        <BRN N24="-AMGP" PXY="T"/>
        <BRN N24="-AMPGC" PXY="T"/>
        <BRN N24="-AMPT1" PXY="T"/>
        <BRN N24="-BD" PXY="T"/>
        <BRN N24="-C1" PXY="T"/>
        <BRN N24="-DESPAM" PXY="T"/>
        <BRN N24="-DS" PXY="T"/>
        <BRN N24="-GPC1" PXY="T"/>
        <BRN N24="-NIGHT" PXY="T"/>
        <BRN N24="-OFFSH1" PXY="T"/>
        <BRN N24="-PF" PXY="T"/>
        <BRN N24="-PM" PXY="F"/>
        <BRN N24="-STU1" PXY="T"/>
        </BRS>
        <AAF B00="AM" B01="AM" P0Z="T" Q0B="539" Q1K="0" S05="737">
        <BRD A01="MEX" D01="2015-05-13" D31="0610"/>
        <OFF A02="CUN" D02="2015-05-13" D32="0824"/>
        </AAF>
        <AAF B00="AM" B01="AM" P0Z="T" Q0B="589" Q1K="1" S05="788">
        <BRD A01="MEX" D01="2015-05-13" D31="0800"/>
        <OFF A02="CUN" D02="2015-05-13" D32="1010"/>
        </AAF>
        <AAF B00="AM" B01="AM" P0Z="T" Q0B="597" Q1K="2" S05="738">
        <BRD A01="MEX" D01="2015-05-13" D31="0930"/>
        <OFF A02="CUN" D02="2015-05-13" D32="1145"/>
        </AAF>
        <AAF B00="AM" B01="AM" P0Z="T" Q0B="591" Q1K="3" S05="738">
        <BRD A01="MEX" D01="2015-05-13" D31="1010"/>
        <OFF A02="CUN" D02="2015-05-13" D32="1224"/>
        </AAF>
        <AAF B00="AM" B01="AM" P0Z="T" Q0B="593" Q1K="4" S05="738">
        <BRD A01="MEX" D01="2015-05-13" D31="1035"/>
        <OFF A02="CUN" D02="2015-05-13" D32="1249"/>
        </AAF>
        <AAF B00="AM" B01="AM" P0Z="T" Q0B="907" Q1K="5" S05="737">
        <BRD A01="MEX" D01="2015-05-13" D31="1125"/>
        <OFF A02="CUN" D02="2015-05-13" D32="1340"/>
        </AAF>
        <AAF B00="AM" B01="AM" P0Z="T" Q0B="1525" Q1K="6" S05="737">
        <BRD A01="MEX" D01="2015-05-13" D31="1155"/>
        <OFF A02="CUN" D02="2015-05-13" D32="1410"/>
        </AAF>
        <AVL A01="MEX" A02="CUN" Q16="0">
        <FBK Q17="J9|F9|C4|D2|I1|Z1|O1|Y9|P9|B9|M7|U5|K2|H0|L0|S0|Q0|T0|E0|N0|R0|V0|W0|G0|X0" Q1K="0"/>
        </AVL>
        <AVL A01="MEX" A02="CUN" Q16="1">
        <FBK Q17="J9|F9|C0|D0|I0|Z0|O0|Y9|P9|B9|M9|U9|K4|H0|L0|S0|Q0|T0|E0|N0|R0|V0|W0|G0|X0" Q1K="1"/>
        </AVL>
        <AVL A01="MEX" A02="CUN" Q16="2">
        <FBK Q17="J9|F9|C6|D3|I2|Z2|O0|Y9|P9|B9|M9|U9|K0|H0|L0|S0|Q0|T0|E0|N0|R0|V0|W0|G0|X0" Q1K="2"/>
        </AVL>
        <AVL A01="MEX" A02="CUN" Q16="3">
        <FBK Q17="J9|F6|C0|D0|I0|Z0|O0|Y9|P9|B9|M9|U9|K9|H0|L0|S0|Q0|T0|E0|N0|R0|V0|W0|G0|X0" Q1K="3"/>
        </AVL>
        <AVL A01="MEX" A02="CUN" Q16="4">
        <FBK Q17="J9|F9|C4|D1|I0|Z0|O0|Y9|P9|B9|M9|U9|K9|H9|L0|S0|Q0|T0|E0|N0|R0|V0|W0|G0|X0" Q1K="4"/>
        </AVL>
        <AVL A01="MEX" A02="CUN" Q16="5">
        <FBK Q17="J4|F1|C0|D0|I0|Z0|O0|Y9|P9|B9|M9|U9|K9|H9|L0|S0|Q0|T0|E0|N0|R0|V0|W0|G0|X0" Q1K="5"/>
        </AVL>
        <AVL A01="MEX" A02="CUN" Q16="6">
        <FBK Q17="J9|F9|C9|D8|I5|Z5|O2|Y9|P9|B9|M9|U9|K9|H9|L9|S6|Q9|T9|E9|N9|R9|V9|W9|G0|X0" Q1K="6"/>
        </AVL>
        <LEG B31="Y" Q14="0">
        <SOP Q15="0">
        <FID Q1K="0"/>
        <AID Q16="0"/>
        </SOP>
        <SOP Q15="1">
        <FID Q1K="1"/>
        <AID Q16="1"/>
        </SOP>
        <SOP Q15="2">
        <FID Q1K="2"/>
        <AID Q16="2"/>
        </SOP>
        <SOP Q15="3">
        <FID Q1K="3"/>
        <AID Q16="3"/>
        </SOP>
        <SOP Q15="4">
        <FID Q1K="4"/>
        <AID Q16="4"/>
        </SOP>
        <SOP Q15="5">
        <FID Q1K="5"/>
        <AID Q16="5"/>
        </SOP>
        <SOP Q15="6">
        <FID Q1K="6"/>
        <AID Q16="6"/>
        </SOP>
        </LEG>
        <!-- <ITN NUM="0">
        <SID Q14="0" Q15="0"/>
        </ITN>
        <ITN NUM="1">
        <SID Q14="0" Q15="1"/>
        </ITN>
        <ITN NUM="2">
        <SID Q14="0" Q15="2"/>
        </ITN>
        <ITN NUM="3">
        <SID Q14="0" Q15="3"/>
        </ITN>
        <ITN NUM="4">
        <SID Q14="0" Q15="4"/>
        </ITN>
        <ITN NUM="5">
        <SID Q14="0" Q15="5"/>
        </ITN> -->
        <ITN NUM="6">
        <SID Q14="0" Q15="6"/>
        </ITN>
        </ShoppingRequest>
Example before:
        <?xml version="1.0" encoding="UTF-8"?><ShoppingResponse Q0S="0" Q0F="0">
        <DIA Q0K="5053">
        <MTP>
        <![CDATA[NO COMBINABLE FARES FOR CLASS USED
        ]]> </MTP>
        </DIA>
        </ShoppingResponse>
Example after:
        <?xml version="1.0" encoding="UTF-8"?><ShoppingResponse Q0S="1" Q0F="1">
        <ITN NUM="0" FML="M" B05="AM" D00="2015-02-25" PBC="F" D14="2015-02-25" D16="2015-02-25" P0J="T" PVT="F" FBR="F" STI="F">
        <SID Q14="0" Q15="0"/>
        <SEG P2H="T">
        <BKC B30="E" Q13="8" B31="Y"/>
        </SEG>
        <SEG P2H="T">
        <BKC B30="E" Q13="8" B31="Y"/>
        </SEG>
        <PSG Q0U="1" B70="ADT" C43="NUC" C5E="328.00" C40="USD" C5A="328.00" C46="USD" C66="379.87" C65="51.87" S07="NYC AM CUN212.00AM MTY Q43.00 73.00NUC328.00END ROE1.00 XFJFK4.5" C54="1.00000000" Q05="8" P27="T" C5D="0.00" C5B="0.00">
        <FDC Q20="0" A01="JFK" A02="CUN" A11="NYC" A12="CUN" B00="AM" B50="EOLW14BG" B70="ADT" C40="USD" C50="212.00" C51="212.00" A60="WH" S70="FR" P0F="F" P04="T" P05="F" N0K="P" D00="2015-04-17" D06="2015-04-17" D05="2015-04-17">
        <BKC B30="E" Q13="8" B31="Y" B52="EOLW14BG" Q3S="6"/>
        <FAT PAW="F" N1L="L" Q0D="1" P2F="T"/>
        <FDS A01="JFK" A02="CUN" A11="NYC" A12="CUN" P2H="T" PAW="F" P0F="F" Q0D="1" B30="E" Q13="8" B31="Y" P2F="T"/>
        <CAT>2 3 4 5 6 7 8 10 18</CAT>
        </FDC>
        <FDC Q20="1" A01="CUN" A02="MTY" A11="CUN" A12="MTY" B00="AM" B50="ESLBG" B70="ADT" C40="USD" C50="73.00" C51="73.00" A60="WH" S70="FR" P0F="F" P04="T" P05="F" N0K="P" D00="2015-04-17" D06="2015-04-17" D05="2015-04-17">
        <BKC B30="E" Q13="8" B31="Y" B52="ESLBG" Q3S="6"/>
        <SUR A01="CUN" A02="MTY" N0F="F" C40="NUC" C69="43.00" S03="FUEL"/>
        <FAT PAW="T" N1L="L" Q0D="2" P2F="T"/>
        <FDS A01="CUN" A02="MTY" A11="CUN" A12="MTY" P2H="T" PAW="T" P0F="F" Q0D="1" B30="E" Q13="8" B31="Y" P2F="T"/>
        <CAT>3 4 5 8 10 15 16 18 23</CAT>
        </FDC>
        <TAD C40="USD">
        <TAX BC0="YRI" C6B="1.10" S04="SERVICE FEE - CARRIER-IMPOSED MISC" S05="CUN" C41="MXN" C6A="16"/>
        <TAX BC0="US2" C6B="17.70" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="JFK" C41="USD" C6A="17.70" A40="US"/>
        <TAX BC0="AY" C6B="5.60" S04="US SECURITY FEE" S05="JFK" C41="USD" C6A="5.60" A40="US"/>
        <TAX BC0="UK" C6B="22.97" S04="TOURISM TAX" S05="JFK" C41="USD" C6A="22.97" A40="MX"/>
        <TAX BC0="XF" C6B="4.50" S04="PASSENGER FACILITY CHARGES" S05="JFK" C41="USD" C6A="4.50" A40="US"/>
        <TSM BC0="YRI" C6B="1.10" S05="CUN" S04="SERVICE FEE - CARRIER-IMPOSED MISC" C6A="16" C41="MXN"/>
        <TSM BC0="US2" C6B="17.70" S05="JFK" S04="US INTERNATIONAL TRANSPORTATION TAX" C6A="17.70" C41="USD" A40="US"/>
        <TSM BC0="AY" C6B="5.60" S05="JFK" S04="US SECURITY FEE" C6A="5.60" C41="USD" A40="US"/>
        <TSM BC0="UK" C6B="22.97" S05="JFK" S04="TOURISM TAX" C6A="22.97" C41="USD" A40="MX"/>
        <TSM BC0="XF" C6B="4.50" S05="JFK" S04="PASSENGER FACILITY CHARGE" C6A="4.50" C41="USD" A40="US"/>
        </TAD>
        <CCD C41="USD" C42="USD" C54="1.00000" Q05="5" N02="O"/>
        <MSG N06="N" Q0K="0" B00="AM">NONEND/NONREF/CHG/CXL - FEE APPLIES</MSG>
        <MSG N06="N" Q0K="0" B00="AM">NONEND/NONREF/CHG/CXL FEE APPLIES</MSG>
        <MSG N06="W" Q0K="0">VALIDATING CARRIER SPECIFIED - AM</MSG>
        </PSG>
        <TOT C43="NUC" C5E="328.00" C40="USD" C5A="328.00" C45="USD" C5F="328.00" C46="USD" C65="51.87" C56="379.87"/>
        <MMS I10="T"/>
        </ITN>
        </ShoppingResponse>
Files updated:
        Fares/BrandedFareValidator.cpp
        Fares/BrandedFareValidator.h
Unit tests files:
        Fares/test/BrandedFareValidatorTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Radoslaw Przybyl
Code reviewers: Grzegorz Lisowski
BA: Joanna Such
QA: 

Title: [FareSelection] SC21 - Shopping - Enabling the project for just the European region
Date: 02/24/2015
Description:
        European region  changes required some more modifications: We should still use the old way of getting governing carriers but all other fare selection changes needs to remain active.
        Also an old fallback is removed.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        European (subarea 21) changes are not active yet. We will activate it after fare selection changes are fully tested.<br>
        Activation will be done with the following flag:
        [SHOPPING_OPT]
        FARE_SELECTION_FOR_SUB_IATA_21_ONLY=Y<br>
Resolution/QA recommendation:
        Since pricing code is also affected, regression testing is needed, especially for pricing.
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        Common/FallBack.cpp
        Common/GoverningCarrier.cpp
        Common/GoverningCarrier.h
        ItinAnalyzer/ItinAnalyzerServiceWrapper.cpp
        ItinAnalyzer/ItinAnalyzerServiceWrapperSOL.cpp<br>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Okan
Code reviewers: Lek
BA: Nadeem
QA: Satish

Title: Cat15 Enhancement validating carrier
Date: 02/24/2015
Description:
        Minor change in 315 diagnostic according the new data in Sales Restriction rule.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        n/a
Resolution/QA recommendation:
        n/a
Entry/XML to recreate:
        //AS<br>
        NO NAMES                                           
         1 HA  10Y 01APR W HNLLAX SS1   800   420P /RL /E  
        HDQ.HDQ8-VK 0921/24FEB15
Example before:
        WPAC*JSP01 IPA-DY:IS Q/*315/FCYVLADI 1                         <br>
        PRICING SEARCH IN PROGRESS - PLEASE  AIT                       
        ************************************ ***********************   
        *            ATSE CAT GORY 15 SALES RESTRICTIONS           *   
        ****** *****************************************************   
        HNL-HA -LAX  YVLA I01    406.88 USD      ATP  770  XX20        <br>
        VALIDATION RESULT: PAS            R3 ITEM NUMBER: 2189273      
        ERROR CODE: 0                                                  
        CATEGORY 15 RULE DAT :                                         
         OVERRIDE TABLE 994 N MBER: 0                                  
         TEXT TABLE 996 NUMBE : 0                                      
         EARLIEST DATE FOR RESERVATIONS: N/A                           
         LATEST   DATE FOR RESERVATIONS: N/A                           
         EARLIEST DATE FOR TICKETING   : N/A                           
         LATEST   DATE FOR TICKETING   : N/A                           
         COUNTRY RESTRICTION:                                          
          NONE                                                         
         FORM OF PAYMENT:                                              
          NONE                                                         
         CURRENCY RESTRICTION:                                         
         CARRIER RESTRICTIONS:                                         
          FARE MUST BE SOLD VIA PUBLISHING CARRIER                     
          AND CARRIER AS                                               
          TICKET MUST BE VALIDATED WITH  UBLISHING CARRIER             
        MD                                                             
          - OR OTHER CARRIER IF SPECIFIED AB VE                        
          - PLATE OR STOCK: UNKNOWN                                    
         TRAVEL AGENCY RESTRICTIONS:                                   
          NOT APPLICABLE                                               
         TICKET ISSUANCE METHODS:                                      
         LOCALE RESTRICTIONS:                                          
         MAY ONLY BE SOLD BY          TRAVEL AGENCY   80K2    DQ73     
         MAY ONLY BE SOLD BY          TRAVEL AGENCY   AF11    5KBD     
         MAY ONLY BE SOLD BY          FUNCTION CODE   HNL     HDQ
Example after:
        WPAC*JSP01 IPA-LTXL0088:02405 Q/*315 FCYVLADI01                 <br>
        PRICING SEARCH IN PROGRESS - PLEASE  AIT                        
        ************************************ ***********************    
        *            ATSE CAT GORY 15 SALES RESTRICTIONS           *    
        ****** *****************************************************    
        HNL-HA -LAX  YVLA I01    406.88 USD      ATP  770  XX20         <br>
        VALIDATION RESULT: PAS            R3 ITEM NUMBER: 2189273       
        ERROR CODE: 0                                                   
        CATEGORY 15 RULE DAT :                                          
         OVERRIDE TABLE 994 N MBER: 0                                   
         TEXT TABLE 996 NUMBE : 0                                       
         EARLIEST DATE FOR RESERVATIONS: N/A                            
         LATEST   DATE FOR RESERVATIONS: N/A                            
         EARLIEST DATE FOR TICKETING   : N/A                            
         LATEST   DATE FOR TICKETING   : N/A                            
         COUNTRY RESTRICTION:                                           
          NONE                                                          
         FORM OF PAYMENT:                                               
          NONE                                                          
         CURRENCY RESTRICTION:                                          
         CARRIER RESTR CTIONS:                                          
          CARRIER CRS IND: X                                            
          OTHER CARRIER  : AS                                           
          VALIDATION IND : O                                            
        MD                                                              
          FARE MUST BE SOLD VIA PUBLISHING C RRIER                      
          OR CARRIER AS                                                 
          TICKET MUST BE VALIDATED ON CARRIE  AS                        
         TRAVEL AGENCY RESTRICTIONS:                                    
          NOT APPLICABLE                                                
         TICKET ISSUANCE METHODS:                                       
         LOCALE RESTRICTIONS:                                           
         MAY ONLY BE SOLD BY          TRAVEL AGENCY   80K2    DQ73      
         MAY ONLY BE SOLD BY          TRAVEL AGENCY   AF11    5KBD      
         MAY ONLY BE SOLD BY          FUNCTION CODE   HNL     HDQ
Files updated:
        Diag315Collector.cpp
Unit tests files:
        n/a
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Vladimir Koliasnikov
Code reviewers: Nakamon Thamsiriboon
BA: Jaymini Patel
QA: Paul Cazares

Title: [TSDTS-425] Exclude validating carrier check for baggage transactions
Date: 02/24/2015
Description:
        Exclude validating carrier check for baggage transactions.
Applies to: 
        [X] all agencies
        [ ] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_VALCXR_TSDTS425_BAGGAGE
Resolution/QA recommendation:
Entry/XML to recreate:
        <BaggageRequest XMLNS="HTTP://WWW.ATSE.SABRE.COM/BAGGAGE/REQUEST" VERSION="1.0.1">
          <ATH I01="SHARED/IDL:ICESESS/SESSMGR:1.0.IDL/COMMON/ICESMS/STSAICESMSLB/STS.LB-356704292543433126110221840" I02="POBAGGAGEPRICINGRQ" HST="F" PCC="HDQ" AAA="61N1" />
          <AGI A10="LON" A20="61N1" A21="7HB7" A80="61N1" A90="JP " AB0="9121468" AB1="9121468" B00="1S" C40="GBP" N0G="*" Q01="38" />
          <BIL A20="HDQ" A22="61N1" A70="WTDB*" AA0="JP " AD0="194D96" AE0="AA" C00="107942531987326466" C01="107942531987326466" S0R="PPSS" Q02="2995" Q03="1026" />
          <PRO C10="" S14="WTDB*2/BAG Q/*196" />
          <DIG Q0A="196" />
          <ITN Q00="1">
            <SGI Q00="1">
              <FLI A01="LAX" A02="JFK" D01="2015-02-17" D31="1140" D02="2015-02-17" D32="1959" B00="US" B01="AA" B30="Y" Q0B="0012" />
            </SGI>
          </ITN>
          <ITN Q00="2">
            <IRO C45="GBP">
              <PXI B70="ADT" Q0U="1" />
            </IRO>
            <SGI Q00="1">
              <FLI A01="LAX" A02="JFK" D01="2015-02-17" D31="1140" D02="2015-02-17" D32="1959" B00="US" B01="AA" B30="Y" Q0B="0012" />
              <FBA Q6D="1" />
            </SGI>
            <FBI Q00="1" B02="US" C50="1386.98" B50="YA2AA" S37="ATP" Q3W="0" S90="2000" />
          </ITN>
        </BaggageRequest>
Example before:
        <BaggageResponse xmlns="http://www.atse.sabre.com/Baggage/Response">
          <MSG N06="E" Q0K="0" S18="NO VALID TICKETING AGREEMENTS FOUND" />
        </BaggageResponse>
Example after:
        <BaggageResponse xmlns="http://www.atse.sabre.com/Baggage/Response">
          <ITN Q00="2">
            <PXI B70="ADT" Q0U="1" />
            <DCL>
              <MSG N06="X" Q0K="3" S18="BAG ALLOWANCE     -LAXJFK-NIL/US" />
              <MSG N06="X" Q0K="3" S18="1STCHECKED BAG FEE-LAXJFK-GBP16.00/US/UP TO 50 POUNDS/23 KILOGR" />
              <MSG N06="X" Q0K="3" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
              <MSG N06="X" Q0K="3" S18="2NDCHECKED BAG FEE-LAXJFK-GBP23.00/US/UP TO 50 POUNDS/23 KILOGR" />
              <MSG N06="X" Q0K="3" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
              <MSG N06="X" Q0K="3" S18="CARRY ON ALLOWANCE" />
              <MSG N06="X" Q0K="3" S18="LAXJFK-02P/AA" />
              <MSG N06="X" Q0K="3" S18="01/SMALL PERSONAL ITEM" />
              <MSG N06="X" Q0K="3" S18="01/UP TO 45 LINEAR INCHES/115 LINEAR CENTIMETERS" />
              <MSG N06="X" Q0K="3" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY" />
              <MSG N06="X" Q0K="3" S18="  " />
              <MSG N06="X" Q0K="3" S18="EMBARGOES-APPLY TO EACH PASSENGER" />
              <MSG N06="X" Q0K="3" S18="LAXJFK-AA" />
              <MSG N06="X" Q0K="3" S18="OVER 100 POUNDS/45 KILOGRAMS NOT PERMITTED" />
            </DCL>
            <SEG A11="LAX" C6I="LAX" A12="NYC" A02="JFK" Q0Z="1" N0D=" " B20="NI" B00="US" B01="AA" />
          </ITN>
        </BaggageResponse>
Files updated:
        Common/FallBack.cpp
        Manager/TseManagerUtil.cpp
Unit tests files:
        Manager/test/TseManagerUtilTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Mike Arterburn
Code reviewers: Mohammad Hossan
BA: Stan Ovrevik
QA: Kaleshia Newsome-Kjaun

Title: [TSDTS-425] ACMS flag - Exclude validating carrier check for baggage transactions
Date: 02/24/2015
Description:
        ACMS flag FALLBACK_VALCXR_TSDTS425_BAGGAGE
Applies to: 
        [X] all agencies
        [ ] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_VALCXR_TSDTS425_BAGGAGE
Resolution/QA recommendation:
        Flag delivery only. Flag is set to 'N' for all environments.
Entry/XML to recreate:
Example before:
        None
Example after:
        None
Files updated:
        None
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Mike Arterburn
Code reviewers: Mohammad Hossan
BA: Stan Ovrevik
QA: Kaleshia Newsome-Kjaun

Title: [Exchange][cat35+mum] Story cards implementation
Date: 02/25/2015
Description:
        supplementary unit tests
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_SECTION.EXCHANGE_CAT35_AND_MARK_UP_MANAGER
Resolution/QA recommendation:
        n/a
Entry/XML to recreate:
        n/a
Example before:
        n/a
Example after:
        n/a
Files updated:
        RexPricing/NewTicketEqualOrHigherValidator.cpp<br>
Unit tests files:
        RexPricing/test/NewTicketEqualOrHigherValidatorTest.cpp<br>
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [X] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Szwarc
Code reviewers: Grzegorz Szczurek
BA: Karin Kron
QA: Alan Edwards

Title: RAT-201, APO-39631 Fix Pricing Orchestrator error
Date: 02/25/2015
Description:
        <a href=https://jira.sabre.com/browse/RAT-201>https://jira.sabre.com/browse/RAT-201</a>
        https://jira.sabre.com/browse/APO-39631
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        XF_ONE_CITY_ATTRIBUTE_LIMIT
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        <a href=https://jira.sabre.com/browse/RAT-201>https://jira.sabre.com/browse/RAT-201</a>
        https://jira.sabre.com/browse/APO-39631
Example after:
        <a href=https://jira.sabre.com/browse/RAT-201>https://jira.sabre.com/browse/RAT-201</a>
        https://jira.sabre.com/browse/APO-39631
Files updated:
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Marcin Skalski
Code reviewers: Mateusz Drewienkowski, Piotr Lach
BA: 
QA: Mussuto, Helene <Helene.Mussuto@sabre.com>

Title: [Exchanges] Put Y booking code for Flight Only Solutions, SHM-1329
Date: 02/25/2015
Description:
        [Exchanges] Put Y booking code for Flight Only Solutions, SHM-1329
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        PUT_Y_BOOKING_CODE_FOR_FOS
Resolution/QA recommendation:
        n/a
Entry/XML to recreate:
        SHM-1329
Example before:
        <ITN NUM="1" Q5Q="1">
            <SID Q14="0" Q15="0">
              <BKK B30="0" B31="Y"/>
            </SID>
            <SID Q14="1" Q15="0">
              <BKK B30="0" B31="Y"/>
            </SID>
            <SID Q14="2" Q15="1">
              <BKK B30="0" B31="Y"/>
            </SID>
          </ITN></pre>
Example after:
        <ITN NUM="1" Q5Q="1">
            <SID Q14="0" Q15="0">
              <BKK B30="Y" B31="Y"/>
            </SID>
            <SID Q14="1" Q15="0">
              <BKK B30="Y" B31="Y"/>
            </SID>
            <SID Q14="2" Q15="1">
              <BKK B30="Y" B31="Y"/>
            </SID>
          </ITN></pre>
Files updated:
        Common/FallBack.cpp
        Xform/XMLShoppingResponse.cpp
Unit tests files:
        n/a
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [X] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [X] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Szczurek
Code reviewers: Grzegorz Szwarc
BA: n/a
QA: Mariusz Zajac

Title: [ATPCO Tax] Refactored PaymentDetail storage
Date: 02/25/2015
Description:
        Memory allocation optimization in ATPCO Taxes
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        na
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        na
Example after:
        na
Files updated:
        Taxes/AtpcoTaxes/Common/GroupedContainers.h
        Taxes/AtpcoTaxes/Common/TaxName.h
        Taxes/AtpcoTaxes/Diagnostic/Diagnostic817.cpp
        Taxes/AtpcoTaxes/Diagnostic/NegativeDiagnostic.cpp
        Taxes/AtpcoTaxes/Diagnostic/PositiveDiagnostic.cpp
        Taxes/AtpcoTaxes/DomainDataObjects/ItinsPayments.h
        Taxes/AtpcoTaxes/Factories/OutputConverter.cpp
        Taxes/AtpcoTaxes/Processor/BusinessRulesProcessor.cpp
        Taxes/AtpcoTaxes/Processor/BusinessRulesProcessor.h
        Taxes/AtpcoTaxes/Processor/CheckRemove.cpp
        Taxes/AtpcoTaxes/Processor/CheckRemove.h
        Taxes/AtpcoTaxes/Rules/BlankLimitApplicator.cpp
        Taxes/AtpcoTaxes/Rules/BlankLimitApplicator.h
        Taxes/AtpcoTaxes/Rules/BusinessRule.h
        Taxes/AtpcoTaxes/Rules/BusinessRuleApplicator.h
        Taxes/AtpcoTaxes/Rules/ContinuousJourneyLimitApplicator.cpp
        Taxes/AtpcoTaxes/Rules/ContinuousJourneyLimitApplicator.h
        Taxes/AtpcoTaxes/Rules/ItinPayments.cpp
        Taxes/AtpcoTaxes/Rules/ItinPayments.h
        Taxes/AtpcoTaxes/Rules/ItineraryPaymentDetail.h
        Taxes/AtpcoTaxes/Rules/OnePerItinLimitApplicator.cpp
        Taxes/AtpcoTaxes/Rules/OnePerItinLimitApplicator.h
        Taxes/AtpcoTaxes/Rules/Payment.h
        Taxes/AtpcoTaxes/Rules/PaymentWithRules.h
        Taxes/AtpcoTaxes/Rules/PointOverlappingApplicator.cpp
        Taxes/AtpcoTaxes/Rules/RawPayments.h
        Taxes/AtpcoTaxes/Rules/RulesGroupApplyFunctor.h
        Taxes/AtpcoTaxes/Rules/ServiceBaggageApplicator.cpp
        Taxes/AtpcoTaxes/Rules/ServiceBaggageApplicator.h
        Taxes/AtpcoTaxes/Rules/SingleJourneyLimitApplicator.cpp
        Taxes/AtpcoTaxes/Rules/SingleJourneyLimitApplicator.h
        Taxes/AtpcoTaxes/Rules/SpecialTrips.h
        Taxes/AtpcoTaxes/Rules/TaxLimiter.cpp
        Taxes/AtpcoTaxes/Rules/TaxOnTaxApplicator.cpp
        Taxes/AtpcoTaxes/Rules/TaxOnTaxApplicator.h
        Taxes/AtpcoTaxes/Rules/TaxPointLoc3AsNextStopoverApplicator.h
        Taxes/AtpcoTaxes/Rules/TaxRoundingOCApplicator.cpp
        Taxes/AtpcoTaxes/Rules/TaxRoundingOCApplicator.h
        Taxes/AtpcoTaxes/Rules/TaxSubjectData.h
        Taxes/AtpcoTaxes/Rules/UsOneWayAndRoundTripLimitApplicator.cpp
        Taxes/AtpcoTaxes/Rules/UsOneWayAndRoundTripLimitApplicator.h
        Taxes/AtpcoTaxes/Rules/UsOneWayAndRoundTripLimitRule.h
Unit tests files:
        Taxes/AtpcoTaxes/Diagnostic/test/Diagnostic817Test.cpp
        Taxes/AtpcoTaxes/Diagnostic/test/NegativeDiagnosticTest.cpp
        Taxes/AtpcoTaxes/Diagnostic/test/PositiveDiagnosticTest.cpp
        Taxes/AtpcoTaxes/Rules/test/BlankLimitApplicatorTest.cpp
        Taxes/AtpcoTaxes/Rules/test/ContinuousJourneyLimitApplicatorTest.cpp
        Taxes/AtpcoTaxes/Rules/test/FlatTaxTest.cpp
        Taxes/AtpcoTaxes/Rules/test/OnePerItinLimitApplicatorTest.cpp
        Taxes/AtpcoTaxes/Rules/test/PointOverlappingApplicatorTest.cpp
        Taxes/AtpcoTaxes/Rules/test/RawPaymentsHelper.cpp
        Taxes/AtpcoTaxes/Rules/test/RawPaymentsHelper.h
        Taxes/AtpcoTaxes/Rules/test/RawPaymentsTest.cpp
        Taxes/AtpcoTaxes/Rules/test/RulesTest.cpp
        Taxes/AtpcoTaxes/Rules/test/ServiceBaggageTest.cpp
        Taxes/AtpcoTaxes/Rules/test/SingleJourneyLimitApplicatorTest.cpp
        Taxes/AtpcoTaxes/Rules/test/TaxOnTaxTest.cpp
        Taxes/AtpcoTaxes/Rules/test/UsOneWayAndRoundTripLimitTest.cpp
        Taxes/LegacyFacades/test/ResponseConverterTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [X] Other: ATPCO Taxes
Schema update: 
        [ ] Yes
Developer: Andrzej Krzemienski
Code reviewers: Jacek Roman, Aleksander Hryniewiecki
BA: 
QA: 

Title: [ATPCO Tax] Fixed crash when processing TaxRq
Date: 02/25/2015
Description:
        Crash was occuring when tax_server received a request in format TaxRq.xsd
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        na
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        na
Example after:
        na
Files updated:
        Taxes/Dispatcher/RequestToV2CacheBuilder.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [X] Other: ATPCO Taxes
Schema update: 
        [ ] Yes
Developer: Andrzej Krzemienski
Code reviewers: Jacek Roman, Aleksander Hryniewiecki
BA: 
QA: 

Title: [Exchanges] Fix selecting date during currency conversion, RAT209
Date: 02/25/2015
Description:
        [Exchanges] Fix selecting date during currency conversion, RAT209
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        CURRENCY_CONVERSION_DATE = N
Resolution/QA recommendation:
        regression
Entry/XML to recreate:
        in Jira log
Example before:
        n/a
Example after:
        n/a
Files updated:
        Common/CurrencyConversionFacade.cpp
        Common/CurrencyConversionFacade.h
        Common/FallBack.cpp
Unit tests files:
        n/a
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [X] Taxes
        [X] Currency
        [ ] Mileage
        [ ] Baggage
        [X] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Szczurek
Code reviewers: Grzegorz Szwarc
BA: Karin Kron
QA: n/a

Title: cache update refactoring Change-Id: I19214f05cd984dc3cc737e61e23f78759d0e165e
Date: 02/25/2015
Description:
        cache update refactoring Change-Id: I19214f05cd984dc3cc737e61e23f78759d0e165e
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        Not active
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
        <a href=#> Adapter</a> <a href=#Adapter/CacheNotifyAdapter.cpp> CacheNotifyAdapter.cpp</a> <a href=#> AddonConstruction</a> <a href=#AddonConstruction/SPLRUCache.h> SPLRUCache.h</a> <a href=#> CacheUpdate</a> <a href=#CacheUpdate/CacheUpdateService.cpp> CacheUpdateService.cpp</a> <a href=#> Common</a> <a href=#Common/CacheStats.h> CacheStats.h</a> <a href=#> DataModel</a> <a href=#DataModel/CacheTrx.cpp> CacheTrx.cpp</a> <a href=#DataModel/CacheTrx.h> CacheTrx.h</a> <a href=#DataModel/CacheUpdateAction.h> CacheUpdateAction.h</a> <a href=#DataModel/DelayedUpdates.cpp> DelayedUpdates.cpp</a> <a href=#DataModel/DelayedUpdates.h> DelayedUpdates.h</a> <a href=#> DBAccess</a> <a href=#DBAccess/CacheControl.h> CacheControl.h</a> <a href=#DBAccess/CacheUpdateAction.h> CacheUpdateAction.h</a> <a href=#DBAccess/DataAccessObjectBase.h> DataAccessObjectBase.h</a> <a href=#> deploy</a> <a href=#> cert/config</a> <a href=#> shopping</a> <a href=#deploy/cert/config/shopping/log4cxx.xml> log4cxx.xml</a> <a href=#> shoppingesv</a> <a href=#deploy/cert/config/shoppingesv/log4cxx.xml> log4cxx.xml</a> <a href=#> shoppinghist</a> <a href=#deploy/cert/config/shoppinghist/log4cxx.xml> log4cxx.xml</a> <a href=#> shoppingis</a> <a href=#deploy/cert/config/shoppingis/log4cxx.xml> log4cxx.xml</a> <a href=#> integ/config</a> <a href=#> bin</a> <a href=#deploy/integ/config/bin/log4cxx.historical.xml> log4cxx.historical.xml</a> <a href=#deploy/integ/config/bin/log4cxx.xml> log4cxx.xml</a> <a href=#> shopping</a> <a href=#deploy/integ/config/shopping/log4cxx.xml> log4cxx.xml</a> <a href=#> shoppingesv</a> <a href=#deploy/integ/config/shoppingesv/log4cxx.xml> log4cxx.xml</a> <a href=#> shoppinghist</a> <a href=#deploy/integ/config/shoppinghist/log4cxx.xml> log4cxx.xml</a> <a href=#> prod/config</a> <a href=#> shopping</a> <a href=#deploy/prod/config/shopping/log4cxx.xml> log4cxx.xml</a> <a href=#> shoppingesv</a> <a href=#deploy/prod/config/shoppingesv/log4cxx.xml> log4cxx.xml</a> <a href=#> shoppinghist</a> <a href=#deploy/prod/config/shoppinghist/log4cxx.xml> log4cxx.xml</a> <a href=#> shoppingis</a> <a href=#deploy/prod/config/shoppingis/log4cxx.xml> log4cxx.xml</a> <a href=#> Server</a> <a href=#Server/log4cxx.xml> log4cxx.xml</a> TseAppConsole.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Ilya Entin
Code reviewers: Alexander Zagrebin
BA: 
QA: 

Title: Fix for failing unit tests
Date: 02/26/2015
Description:
        Fix for failing unit tests
Applies to: 
        [ ] all agencies
        [ ] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
        N/A
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        Currency/test/BSRCurrencyConverterTest.cpp
        Rules/test/CommissionsTest.cpp
        Taxes/LegacyFacades/test/TaxRequestBuilderTest.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Lisowski
Code reviewers: N/A
BA: 
QA: 

Title: [TECH INITIATIVE] Package creation fix and minor cleanup
Date: 02/26/2015
Description:
        Fix for debug symbols link creation
            Remove obsolete build configuration files
Applies to: 
        [ ] all agencies
        [ ] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
        N/A
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        .scm/PackageBuilderHelper.pm
        bin/.atsev2.dynamic.vars
        bin/.atsev2.vars
        deploy/apps/tseshared/prestart.sh<br>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Lisowski
Code reviewers: Marek Markiewicz
BA: 
QA: 

Title: Load On Update new route and miscellaneous
Date: 02/25/2015
Description:
        Load On Update new route and miscellaneous
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_LOAD_ON_UPDATE_NEW_ROUTE = N
Resolution/QA recommendation:
        Regression
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
        <a href=#> Common</a> <a href=#Common/LOUFallbacks.cpp> LOUFallbacks.cpp</a> <a href=#Common/LOUFallbacks.h> LOUFallbacks.h</a> <a href=#> DataModel</a> <a href=#DataModel/DelayedUpdates.cpp> DelayedUpdates.cpp</a>
         <a href=#> DBAccess</a> <a href=#> test</a> <a href=#DBAccess/test/SerializationCompressionTest.cpp> SerializationCompressionTest.cpp</a> <a href=#DBAccess/RoutingKeyInfo.h> RoutingKeyInfo.h</a>
Unit tests files:
        DBAccess/test/SerializationCompressionTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Ilya Entin
Code reviewers: Alexander Zagrebin
BA: 
QA: 

Title: [TNS][SSDMPS-100] AltDates Multiple brands is causing MIP crash
Date: 02/26/2015
Description:
        Intellisell AltDates transaction with Multiple Branded Fares enabled was causing cores in MIP's.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        BRANDED_FARES_TN_SHOPPING_DISABLE_FOR_BFA
Resolution/QA recommendation:
Entry/XML to recreate:
        <ShoppingRequest N06="M" D70="120" STK="picli304:27031 2015-02-25T08:24:01 341c">
         <AGI A10="DFW" A20="W0H3" A21="W0H3" AB0="4553728" AB1="4553728" A90="HX9" N0G="*" B00="1S" Q01="9" A80="W0H3" />
         <BIL A20="W0H3" A22="W0H3" A70="JR" Q03="925" Q02="3470" AE0="AA" AD0="F26102" AA0="DH3" C00="6119781558482626040" C01="6119781558482626040" C20="ATSEIMIP" C21="SISXXADL" />
         <PXI B70="ADT" />
         <PRO P1F="T" D07="2015-02-25" D54="504" P0J="T" SEZ="T" SEV="T" BFA="32" />
         <AAF Q1K="0" B00="VA" B01="VA" Q0B="561" S05="73H" P0Z="T">
         <BRD A01="SYD" D01="2015-03-09" D31="1400" />
         <OFF A02="PER" D02="2015-03-09" D32="1605" />
         </AAF>
         <AVL Q16="0" A01="SYD" A02="PER">
         <FBK Q1K="0" Q17="J8|C8|D8|I6|Y9|B9|H9|K9|L9|E9|N9|V9|Q9|T9|S9|M0" />
         </AVL>
         <LEG Q14="0" B31="Y">
         <SOP Q15="0">
         <FID Q1K="0" />
         <AID Q16="0" />
         </SOP>
         </LEG>
         <ITN NUM="0" Q5Q="0" C65="15.2">
         <SID Q14="0" Q15="0">
         <BKK B30="Y" B31="Y" />
         </SID>
         </ITN>
         <OND A01="SYD" A02="PER" D01="2015-03-08" />
         <OND A01="SYD" A02="PER" D01="2015-03-09" />
         <OND A01="SYD" A02="PER" D01="2015-03-10" />
         <OND A01="SYD" A02="PER" D01="2015-03-11" />
         </ShoppingRequest>
Example before:
        N/A
Example after:
        <ShoppingResponse STK="picli304:27031 2015-02-25T08:24:01 341c" Q0S="1" Q0F="1">
         <ITN NUM="0" FML="M" B05="VA" D00="2015-02-27" PBC="F" D14="2015-02-27" D16="2015-02-27" P0J="T" VTA="F" PVT="F" FBR="F" STI="F">
         <SID Q14="0" Q15="0" />
         <SEG P2H="T">
         <BKC B30="T" Q13="8" B31="Y" />
         </SEG>
         <PSG Q0U="1" B70="ADT" C43="AUD" C5E="256.59" C40="AUD" C5A="256.59" C46="USD" C66="251.20" C65="14.20" S07="SYD VA PER256.59AUD256.59END" C54="1.19943700" Q05="8" P27="T" C5D="0.00" C5B="0.00">
         <FDC Q20="0" A01="SYD" A02="PER" A11="SYD" A12="PER" B00="VA" B50="TSAVER" B70="ADT" C40="AUD" C50="256.59" C51="256.59" A60="EH" S70="FR" P0F="F" P04="T" P05="F" N0K="P" D00="2015-03-09" D06="2015-03-09" D05="2015-03-09">
         <BKC B30="T" Q13="8" B31="Y" B52="TSAVER" Q3S="9" />
         <FAT PAW="T" N1L="F" Q0D="2" P2F="T" />
         <FDS A01="SYD" A02="PER" A11="SYD" A12="PER" P2H="T" PAW="T" P0F="F" Q0D="2" B30="T" Q13="8" B31="Y" P2F="T" />
         <CAT>3 4 5 8 9 10 12 15 16 18</CAT>
         </FDC>
         <TAD C40="USD">
         <TAX BC0="QR4" C6B="3.80" S04="PSC FOR PER" S05="SYD" C41="AUD" C6A="4.07" A40="AU" />
         <TAX BC0="QRS" C6B="6.90" S04="PSC - CITY CODES STARTING WITH S" S05="SYD" C41="AUD" C6A="7.41" A40="AU" />
         <TAX BC0="WG1" C6B="3.50" S04="DOMESTIC SAFETY AND SECURITY CHARGE - DEPARTURES" S05="SYD" C41="AUD" C6A="3.75" A40="AU" />
         <TSM BC0="QR4" C6B="10.70" S05="SYD" S04="PSC FOR PER" C6A="4.07" C41="AUD" A40="AU" />
         <TSM BC0="WG1" C6B="3.50" S05="SYD" S04="DOMESTIC SAFETY AND SECURITY CHARGE - DEPARTURES" C6A="3.75" C41="AUD" A40="AU" />
         </TAD>
         <CCD C41="AUD" C42="USD" C54="1.0812" Q05="4" N02="O" />
         <MSG N06="N" Q0K="0" B00="VA">NONREF/RESTRICTIONS APPLY/NONEND/PENALTIES APPLY</MSG>
         <MSG N06="W" Q0K="0" Q0M="D">VALIDATING CARRIER - VA</MSG>
         <MSG N06="W" Q0K="0" Q0M="D">CAT 15 SALES RESTRICTIONS FREE TEXT FOUND - VERIFY RULES</MSG>
         </PSG>
         <TOT C43="AUD" C5E="256.59" C40="AUD" C5A="256.59" C45="USD" C5F="237.00" C46="USD" C65="14.20" C56="251.20" />
         <VCL SM0="ARC" VC0="T">
         <DCX B00="VA" />
         </VCL>
         <MMS I10="F" />
         <ADP D01="2015-03-09" D02="N/A" />
         </ITN>
         </ShoppingResponse>
Files updated:
        Common/FallBack.cpp
        Xform/XMLShoppingHandler.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Piotr Szyba
Code reviewers: Michal Mlynek, Brajesh Tiwari
BA: 
QA: Lukasz Rak

Title: [IATA-302] Fix WP*BG output
Date: 02/26/2015
Description:
        IATA-302 changes should be also applied to WP*BG entry with no A/C qualifiers and show marketing carrier instead of operating.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        <code>FIX_BAGGAGE_ANC_ANALYSIS_OUTPUT</code>
Resolution/QA recommendation:
        Should affect only ancillary output. Diagnostic 852 should remain unchanged.
Entry/XML to recreate:
        <AncillaryPricingRequest XMLNS="HTTP://WWW.ATSE.SABRE.COM/ANCILLARYPRICING/REQUEST" Version="2.0.0">
        <ATH I01="SHARED/IDL:ICESESS/SESSMGR:1.0.IDL/COMMON/ICESMS/STSAICESMSLB/STS.LB-356251380182934259111866320" I02="POANCILLARYPRICINGRQ" HST="F" PCC="HDQ" AAA="HDQ" />
        <AGI A10="HDQ" A21="HDQ" A80="HDQ" A90="HDO" B00="1S" N0G="8" />
        <BIL A20="HDQ" A22="HDQ" A70="WP*BG" AA0="HDO" AD0="6AA8DB" AE0="AA" C00="112478140627083011" C01="112478140627083011" S0R="PPSS" Q02="0" Q03="0" />
        <PRO AF0="HDQ" AG0="HDQ" C45="USD" C10="" S14="WPIPA-DY:IS" PS1="T" />
        <ITN Q00="1">
        <SGI Q00="1">
        <FLI A01="BOG" A02="FRA" D01="2015-03-10" D31="2150" D02="2015-03-11" D32="1445" B00="AV" B01="LH" B30="T" Q0B="6502" BB0="OK" />
        </SGI>
        </ITN>
        <ITN Q00="2">
        <IRO>
        <PXI B70="ADT" Q0U="1" />
        </IRO>
        <SGI Q00="1">
        <FLI A01="BOG" A02="FRA" D01="2015-03-10" D31="2150" D02="2015-03-11" D32="1445" B00="AV" B01="LH" B30="T" N0E="Y" Q0B="6502" S95="346" BB0="OK" C7B="T" />
        <FBA Q6D="1" />
        </SGI>
        <FBI Q00="1" B02="AV" C50="270.00" B50="TAO00ZG1" S53="XEX" S37="ATP" Q3W="27" S90="1ES2" FTY="00" />
        </ITN>
        </AncillaryPricingRequest>
Example before:
        -----------------ITINERARY ANALYSIS---------------------
        STOPOVER POINTS : FRA
        FURTHEST STOPOVER POINT : FRA
        ORIGIN : BOG
        DESTINATION : FRA
        JOURNEY TYPE : NON US DOT
        --------------BAGGAGE ALLOWANCE/CHARGES-----------------
        01 BAGGAGE TRAVEL : BOG-FRA
        MSC MARKETING : 
        MSC OPERATING : LH
        FCIC MARKETING : 
        FCIC OPERATING : LH
        STOPOVER POINTS :
Example after:
        -----------------ITINERARY ANALYSIS---------------------
        STOPOVER POINTS : FRA
        FURTHEST STOPOVER POINT : FRA
        ORIGIN : BOG
        DESTINATION : FRA
        JOURNEY TYPE : NON US DOT
        --------------BAGGAGE ALLOWANCE/CHARGES-----------------
        01 BAGGAGE TRAVEL : BOG-FRA
        MSC MARKETING : AV
        MSC OPERATING : 
        FCIC MARKETING : AV
        FCIC OPERATING : 
        STOPOVER POINTS :
Files updated:
        Common/BaggageStringFormatter.cpp
        Common/BaggageStringFormatter.h
        Common/FallBack.cpp
        Diagnostic/Diag852Collector.cpp
        FreeBagService/BaggageItinAnalyzerResponseBuilder.cpp
        FreeBagService/BaggageItinAnalyzerResponseBuilder.h
        Xform/AncillaryBaggageResponseFormatter.cpp
Unit tests files:
        n/a
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [X] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Damian Krolik
Code reviewers: Michal Jedros, Radoslaw Przybyl
BA: Sergio Bestulic
QA: Ewelina Mucha

Title: Deactivate APO-39171
Date: 02/26/2015
Description:
        no QA available to test <a href=https://jira.sabre.com/browse/APO-39171>APO-39171</a> in R3
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_SECTION\APO39171_CAT35_MARKUP = Y
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Leszek Banaszek
Code reviewers: -
BA: 
QA: 

Title: [S8ForTN] Enable family split in TN Brands Shopping.
Date: 02/26/2015
Description:
        Revert functionality forcing the same booking code for all family members.<br>
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        BRANDED_FARES_TN_SHOPPING_FAMILY_SPLIT
Resolution/QA recommendation:
Entry/XML to recreate:
        <ShoppingRequest N06="M" D70="120" STK="picli304:27033 2015-02-24T03:38:57 11161">
        <AGI A10="DFW" A20="W0H3" A21="W0H3" AB0="4553728" AB1="4553728" A90="HX9" N0G="*" B00="1S" Q01="9" A80="W0H3"/>
        <BIL A20="W0H3" A22="W0H3" A70="JR" Q03="925" Q02="3470" AE0="AA" AD0="F26102" AA0="DH3" C00="6119933976449781912" C01="6119933976449781912" C20="ATSEIMIP" C21="SIMXX019"/>
        <PXI B70="ADT" Q0U="2">
        </PXI>
        <PXI B70="CNN">
        </PXI>
        <PXI B70="INF">
        </PXI>
        <PRO D07="2015-02-24" D54="218" P0J="T" SEZ="T" SEV="T" BFS="T">
        </PRO>
        <AAF Q1K="0" B00="EY" B01="EY" Q0B="450" S05="346" P0Z="T">
        <BRD A01="AUH" D01="2015-03-10" D31="1010"/>
        <OFF A02="SYD" D02="2015-03-11" D32="0720"/>
        </AAF>
        <AAF Q1K="1" B00="VA" B01="VA" Q0B="1" S05="77W" P0Z="T">
        <BRD A01="SYD" D01="2015-03-17" D31="1040"/>
        <OFF A02="LAX" D02="2015-03-17" D32="0630"/>
        </AAF>
        <AAF Q1K="2" B00="WS" B01="WS" Q0B="1423" S05="73W" P0Z="T">
        <BRD A01="LAX" D01="2015-03-24" D31="1345"/>
        <OFF A02="YEG" D02="2015-03-24" D32="1802"/>
        </AAF>
        <AAF Q1K="3" B00="WS" B01="AA" Q0B="5623" S05="CR9" P0Z="T">
        <BRD A01="LAX" D01="2015-03-24" D31="1705"/>
        <OFF A02="YEG" D02="2015-03-24" D32="2124"/>
        </AAF>
        <AAF Q1K="4" B00="VA" B01="DL" Q0B="6552" S05="777" P0Z="T">
        <BRD A01="SYD" D01="2015-03-17" D31="1215"/>
        <OFF A02="LAX" D02="2015-03-17" D32="0800"/>
        </AAF>
        <AAF Q1K="5" B00="EY" B01="EY" Q0B="454" S05="77W" P0Z="T">
        <BRD A01="AUH" D01="2015-03-10" D31="2150"/>
        <OFF A02="SYD" D02="2015-03-11" D32="1845"/>
        </AAF>
        <AVL Q16="0" A01="AUH" A02="SYD">
        <FBK Q1K="0" Q17="F7|A7|R7|O2|J9|C9|D9|W9|Z9|I2|X0|Y9|B9|H9|K9|M9|Q9|L9|V9|U9|E9|T9|N4|S9|G9"/>
        </AVL>
        <AVL Q16="1" A01="SYD" A02="LAX">
        <FBK Q1K="1" Q17="J9|C9|D9|I5|W9|R9|O9|Y9|B9|H9|K9|L9|E9|N9|V9|Q9|T9|S9|M9"/>
        </AVL>
        <AVL Q16="2" A01="LAX" A02="YEG">
        <FBK Q1K="2" Q17="Y9|V9|R9|B9|Q9|U9|L9|M9|P9|S9|G9|J9|X8|D4|K4|W6|H8"/>
        </AVL>
        <AVL Q16="3" A01="LAX" A02="YEG">
        <FBK Q1K="3" Q17="Y9|V9|B9|Q9|L9|M9|P9"/>
        </AVL>
        <AVL Q16="4" A01="SYD" A02="LAX">
        <FBK Q1K="4" Q17="J7|C7|D0|I0|Y7|B7|H7|K7|L7|E7|N7|V2|Q0|T0"/>
        </AVL>
        <AVL Q16="5" A01="AUH" A02="SYD">
        <FBK Q1K="5" Q17="F8|A8|R8|O2|J9|C9|D9|W9|Z9|I2|X9|Y9|B9|H9|K9|M9|Q9|L9|V9|U9|E9|T7|N5|S9|G9"/>
        </AVL>
        <LEG Q14="0" B31="Y">
        <SOP Q15="0">
        <FID Q1K="0"/>
        <AID Q16="0"/>
        </SOP>
        <SOP Q15="1">
        <FID Q1K="5"/>
        <AID Q16="5"/>
        </SOP>
        </LEG>
        <LEG Q14="1" B31="Y">
        <SOP Q15="0">
        <FID Q1K="1"/>
        <AID Q16="1"/>
        </SOP>
        <SOP Q15="1">
        <FID Q1K="4"/>
        <AID Q16="4"/>
        </SOP>
        </LEG>
        <LEG Q14="2" B31="Y">
        <SOP Q15="0">
        <FID Q1K="2"/>
        <AID Q16="2"/>
        </SOP>
        <SOP Q15="1">
        <FID Q1K="3"/>
        <AID Q16="3"/>
        </SOP>
        </LEG>
        <ITN NUM="0" Q5Q="0">
        <SID Q14="0" Q15="0">
        <BKK B30="Y" B31="Y"/></SID>
        <SID Q14="1" Q15="0">
        <BKK B30="Y" B31="Y"/></SID>
        <SID Q14="2" Q15="0">
        <BKK B30="Y" B31="Y"/></SID>
        </ITN>
        <OND A01="AUH" A02="SYD" D01="2015-03-10"/>
        <OND A01="SYD" A02="LAX" D01="2015-03-17"/>
        <OND A01="LAX" A02="YEA" D01="2015-03-24"/>
        <OND A01="AUH" A02="LAX" D01="2015-03-10"/>
        <OND A01="SYD" A02="YEA" D01="2015-03-17"/>
        </ShoppingRequest><br>
Example before:
        <?xml version="1.0" encoding="UTF-8"?><ShoppingResponse STK="picli304:27033 2015-02-24T03:38:57 11161" Q0S="2" Q0F="2">
          <ITN NUM="0" FML="M" B05="VA" D00="2015-03-04" PBC="F" D14="2015-03-04" D16="2015-03-04" P0J="T" VTA="F" PVT="F" FBR="F" STI="F">
            <SID Q14="0" Q15="0"/>
            <SID Q14="1" Q15="0"/>
            <SID Q14="2" Q15="0"/>
            <SEG P2M="T">
              <BKC B30="G" Q13="8" B31="Y"/>
            </SEG>
            <SEG P2M="T">
              <BKC B30="N" Q13="8" B31="Y"/>
            </SEG>
            <SEG P2H="T">
              <BKC B30="G" Q13="8" B31="Y"/>
            </SEG>
            <PSG Q0U="2" B70="ADT" C43="NUC" C5E="3718.59" C40="AED" C5A="13660" C46="USD" C66="3890.80" C65="171.80" S07="AUH EY SYD Q103.45 2659.91VA LAX WS YEA Q SYDYEA13.13 942.10NUC3718.59END ROE3.67305 XFLAX4.5" C54="3.67305000" Q05="8" P27="T" C5D="0.00" C5B="0.00">
              <FDC Q20="0" A01="AUH" A02="SYD" A11="AUH" A12="SYD" B00="EY" B50="GIF" B70="ADT" C40="AED" C50="2659.91" C51="9770" A60="EH" S70="FR" P0F="F" P04="T" P05="F" N0K="P" D00="2015-03-10" D05="2016-03-10" SB2="ET" SB3="ECONOMY TEST" SC0="EYU" SC2="U.A.E TO THE WORLD">
                <BKC B30="G" Q13="8" B31="Y" B52="GIF" Q3S="9" SB2="ET"/>
                <SUR A01="AUH" A02="SYD" N0F="F" C40="NUC" C69="103.45" S03="FUEL"/>
                <FAT PAW="T" N1L="F" Q0D="2" P2F="T"/>
                <FDS A01="AUH" A02="SYD" A11="AUH" A12="SYD" P2M="T" PAW="T" P0F="F" Q0D="2" B30="G" Q13="8" B31="Y" P2F="T"/>
                <CAT>10</CAT>
              </FDC>
              <FDC Q20="1" A01="SYD" A02="YEG" A11="SYD" A12="YEA" B00="VA" B50="NLE0OVUR" B70="ADT" C40="AUD" C50="942.10" C51="1130.00" A60="PA" S70="FR" P0F="F" P04="T" P05="F" N0K="P" D00="2015-03-17" D05="2016-03-10" SB2="SV" SB3="SAVER" SC0="VAG" SC2="LONG HAUL - LEVEL 1">
                <BKC B30="N" Q13="8" B31="Y" B52="NLE0OVUR" Q3S="9" SB2="SV"/>
                <BKC B30="G" Q13="8" B31="Y" B52="NLE0OVUR" Q3S="9" SB2="SV"/>
                <SUR A01="SYD" A02="LAX" N0F="Q" C40="NUC" C69="13.13" S03="MISCELLANEOUS/OTHER"/>
                <FAT PAW="T" N1L="F" Q0D="2"/>
                <FAT PAW="T" Q0D="2" P2F="T"/>
                <FDS A01="SYD" A02="LAX" A11="SYD" A12="LAX" P2M="T" PAW="T" P0F="F" Q0D="2" B30="N" Q13="8" B31="Y"/>
                <FDS A01="LAX" A02="YEG" A11="LAX" A12="YEA" P2H="T" PAW="T" P0F="F" Q0D="2" B30="G" Q13="8" B31="Y" P2F="T"/>
                <CAT>2 3 4 5 7 8 9 10 15 16 18</CAT>
              </FDC>
              <TAD C40="USD">
                <TAX BC0="US2" C6B="17.70" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="SYD" C41="USD" C6A="17.70" A40="US"/>
                <TAX BC0="US2" C6B="17.70" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="LAX" C41="USD" C6A="17.70" A40="US"/>
                <TAX BC0="YC" C6B="5.50" S04="US CUSTOMS USER FEE" S05="SYD" C41="USD" C6A="5.50" A40="US"/>
                <TAX BC0="XY" C6B="7.00" S04="US FEDERAL INSPECTION FEE" S05="SYD" C41="USD" C6A="7.00" A40="US"/>
                <TAX BC0="XA" C6B="5.00" S04="US APHIS USER FEE" S05="SYD" C41="USD" C6A="5.00" A40="US"/>
                <TAX BC0="AY" C6B="5.60" S04="US SECURITY FEE" S05="LAX" C41="USD" C6A="5.60" A40="US"/>
                <TAX BC0="AE" C6B="20.40" S04="PASSENGER SERVICE CHARGE" S05="AUH" C41="AED" C6A="75" A40="AE"/>
                <TAX BC0="TP" C6B="1.40" S04="PASSENGER SECURITY AND SAFETY FEE" S05="AUH" C41="AED" C6A="5" A40="AE"/>
                <TAX BC0="AU" C6B="42.80" S04="PASSENGER MOVEMENT CHARGE" S05="SYD" C41="AUD" C6A="55.00" A40="AU"/>
                <TAX BC0="WY" C6B="22.10" S04="PASSENGER SERVICE CHARGE" S05="SYD" C41="AUD" C6A="28.42" A40="AU"/>
                <TAX BC0="WY" C6B="22.10" S04="PASSENGER SERVICE CHARGE" S05="AUH" C41="AUD" C6A="28.42" A40="AU"/>
                <TAX BC0="XF" C6B="4.50" S04="PASSENGER FACILITY CHARGES" S05="LAX" C41="USD" C6A="4.50" A40="US"/>
                <TSM BC0="US2" C6B="35.40" S05="SYD" S04="US INTERNATIONAL TRANSPORTATION TAX" C6A="17.70" C41="USD" A40="US"/>
                <TSM BC0="YC" C6B="5.50" S05="SYD" S04="US CUSTOMS USER FEE" C6A="5.50" C41="USD" A40="US"/>
                <TSM BC0="XY" C6B="7.00" S05="SYD" S04="US FEDERAL INSPECTION FEE" C6A="7.00" C41="USD" A40="US"/>
                <TSM BC0="XA" C6B="5.00" S05="SYD" S04="US APHIS USER FEE" C6A="5.00" C41="USD" A40="US"/>
                <TSM BC0="AY" C6B="5.60" S05="LAX" S04="US SECURITY FEE" C6A="5.60" C41="USD" A40="US"/>
                <TSM BC0="AE" C6B="20.40" S05="AUH" S04="PASSENGER SERVICE CHARGE" C6A="75" C41="AED" A40="AE"/>
                <TSM BC0="TP" C6B="1.40" S05="AUH" S04="PASSENGER SECURITY AND SAFETY FEE" C6A="5" C41="AED" A40="AE"/>
                <TSM BC0="AU" C6B="42.80" S05="SYD" S04="PASSENGER MOVEMENT CHARGE" C6A="55.00" C41="AUD" A40="AU"/>
                <TSM BC0="WY" C6B="44.20" S05="SYD" S04="PASSENGER SERVICE CHARGE" C6A="28.42" C41="AUD" A40="AU"/>
                <TSM BC0="XF" C6B="4.50" S05="LAX" S04="PASSENGER FACILITY CHARGE" C6A="4.50" C41="USD" A40="US"/>
              </TAD>
              <CCD C41="AED" C42="USD" C54="3.6732" Q05="4" N02="O"/>
              <MSG N06="N" Q0K="0" B00="VA">RESTRICTIONS APPLY/NONEND/PENALTIES APPLY</MSG>
              <MSG N06="W" Q0K="0" Q0M="D">VALIDATING CARRIER - VA</MSG>
              <MSG N06="W" Q0K="0" Q0M="D">CAT 15 SALES RESTRICTIONS FREE TEXT FOUND - VERIFY RULES</MSG>
            </PSG>
            <PSG Q0U="1" B70="CNN" C43="NUC" C5E="2818.08" C40="AED" C5A="10360" C46="USD" C66="2949.00" C65="129.00" S07="AUH EY SYD Q103.45 1994.93VA LAX WS YEA Q SYDYEA13.13 706.57NUC2818.08END ROE3.67305 XFLAX4.5" C54="3.67305000" Q05="8" P27="F" C5D="0.00" C5B="0.00">
              <FDC Q20="2" A01="AUH" A02="SYD" A11="AUH" A12="SYD" B00="EY" B50="GIF/CH25" B70="CNN" C40="AED" C50="1994.93" C51="7330" A60="EH" S70="FR" P0F="F" BE0="CH25" P04="T" P05="F" N0K="P" D00="2015-03-10" D05="2016-03-10" SB2="ET" SB3="ECONOMY TEST" SC0="EYU" SC2="U.A.E TO THE WORLD">
                <BKC B30="G" Q13="8" B31="Y" B52="GIF/CH25" Q3S="9" SB2="ET"/>
                <SUR A01="AUH" A02="SYD" N0F="F" C40="NUC" C69="103.45" S03="FUEL"/>
                <FAT PAW="T" N1L="F" Q0D="2" P2F="T"/>
                <FDS A01="AUH" A02="SYD" A11="AUH" A12="SYD" P2M="T" PAW="T" P0F="F" Q0D="2" B30="G" Q13="8" B31="Y" P2F="T"/>
                <CAT>10 19</CAT>
              </FDC>
              <FDC Q20="3" A01="SYD" A02="YEG" A11="SYD" A12="YEA" B00="VA" B50="NLFFWEBCH" B70="CNN" C40="AUD" C50="706.57" C51="848.00" A60="PA" S70="FR" P0F="F" P04="T" P05="F" N0K="P" D00="2015-03-17" D05="2016-03-10" SB2="SV" SB3="SAVER" SC0="VAG" SC2="LONG HAUL - LEVEL 1">
                <BKC B30="N" Q13="8" B31="Y" B52="NLFFWEBCH" Q3S="9" SB2="SV"/>
                <BKC B30="G" Q13="8" B31="Y" B52="NLFFWEBCH" Q3S="9" SB2="SV"/>
                <SUR A01="SYD" A02="LAX" N0F="Q" C40="NUC" C69="13.13" S03="MISCELLANEOUS/OTHER"/>
                <FAT PAW="T" N1L="F" Q0D="2"/>
                <FAT PAW="T" Q0D="2" P2F="T"/>
                <FDS A01="SYD" A02="LAX" A11="SYD" A12="LAX" P2M="T" PAW="T" P0F="F" Q0D="2" B30="N" Q13="8" B31="Y"/>
                <FDS A01="LAX" A02="YEG" A11="LAX" A12="YEA" P2H="T" PAW="T" P0F="F" Q0D="2" B30="G" Q13="8" B31="Y" P2F="T"/>
                <CAT>3 4 5 7 8 9 10 15 16 18 19</CAT>
              </FDC>
              <TAD C40="USD">
                <TAX BC0="US2" C6B="17.70" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="SYD" C41="USD" C6A="17.70" A40="US"/>
                <TAX BC0="US2" C6B="17.70" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="LAX" C41="USD" C6A="17.70" A40="US"/>
                <TAX BC0="YC" C6B="5.50" S04="US CUSTOMS USER FEE" S05="SYD" C41="USD" C6A="5.50" A40="US"/>
                <TAX BC0="XY" C6B="7.00" S04="US FEDERAL INSPECTION FEE" S05="SYD" C41="USD" C6A="7.00" A40="US"/>
                <TAX BC0="XA" C6B="5.00" S04="US APHIS USER FEE" S05="SYD" C41="USD" C6A="5.00" A40="US"/>
                <TAX BC0="AY" C6B="5.60" S04="US SECURITY FEE" S05="LAX" C41="USD" C6A="5.60" A40="US"/>
                <TAX BC0="AE" C6B="20.40" S04="PASSENGER SERVICE CHARGE" S05="AUH" C41="AED" C6A="75" A40="AE"/>
                <TAX BC0="TP" C6B="1.40" S04="PASSENGER SECURITY AND SAFETY FEE" S05="AUH" C41="AED" C6A="5" A40="AE"/>
                <TAX BC0="WY" C6B="22.10" S04="PASSENGER SERVICE CHARGE" S05="SYD" C41="AUD" C6A="28.42" A40="AU"/>
                <TAX BC0="WY" C6B="22.10" S04="PASSENGER SERVICE CHARGE" S05="AUH" C41="AUD" C6A="28.42" A40="AU"/>
                <TAX BC0="XF" C6B="4.50" S04="PASSENGER FACILITY CHARGES" S05="LAX" C41="USD" C6A="4.50" A40="US"/>
                <TSM BC0="US2" C6B="35.40" S05="SYD" S04="US INTERNATIONAL TRANSPORTATION TAX" C6A="17.70" C41="USD" A40="US"/>
                <TSM BC0="YC" C6B="5.50" S05="SYD" S04="US CUSTOMS USER FEE" C6A="5.50" C41="USD" A40="US"/>
                <TSM BC0="XY" C6B="7.00" S05="SYD" S04="US FEDERAL INSPECTION FEE" C6A="7.00" C41="USD" A40="US"/>
                <TSM BC0="XA" C6B="5.00" S05="SYD" S04="US APHIS USER FEE" C6A="5.00" C41="USD" A40="US"/>
                <TSM BC0="AY" C6B="5.60" S05="LAX" S04="US SECURITY FEE" C6A="5.60" C41="USD" A40="US"/>
                <TSM BC0="AE" C6B="20.40" S05="AUH" S04="PASSENGER SERVICE CHARGE" C6A="75" C41="AED" A40="AE"/>
                <TSM BC0="TP" C6B="1.40" S05="AUH" S04="PASSENGER SECURITY AND SAFETY FEE" C6A="5" C41="AED" A40="AE"/>
                <TSM BC0="WY" C6B="44.20" S05="SYD" S04="PASSENGER SERVICE CHARGE" C6A="28.42" C41="AUD" A40="AU"/>
                <TSM BC0="XF" C6B="4.50" S05="LAX" S04="PASSENGER FACILITY CHARGE" C6A="4.50" C41="USD" A40="US"/>
              </TAD>
              <CCD C41="AED" C42="USD" C54="3.6732" Q05="4" N02="O"/>
              <MSG N06="N" Q0K="0" B00="VA">RESTRICTIONS APPLY/NONEND/PENALTIES APPLY</MSG>
              <MSG N06="W" Q0K="0">SEG1 EACH CNN REQUIRES ACCOMPANYING ADT</MSG>
              <MSG N06="W" Q0K="0">SEG2,3 EACH CNN REQUIRES ACCOMPANYING SAME CABIN ADT</MSG>
              <MSG N06="W" Q0K="0" Q0M="D">VALIDATING CARRIER - VA</MSG>
              <MSG N06="W" Q0K="0" Q0M="D">CAT 15 SALES RESTRICTIONS FREE TEXT FOUND - VERIFY RULES</MSG>
            </PSG>
            <PSG Q0U="1" B70="INF" C43="NUC" C5E="476.78" C40="AED" C5A="1760" C46="USD" C66="537.50" C65="58.50" S07="AUH EY SYD Q103.45 265.99VA LAX WS YEA Q SYDYEA13.13 94.21NUC476.78END ROE3.67305" C54="3.67305000" Q05="8" P27="T" C5D="0.00" C5B="0.00">
              <FDC Q20="4" A01="AUH" A02="SYD" A11="AUH" A12="SYD" B00="EY" B50="GIF/IN90" B70="INF" C40="AED" C50="265.99" C51="980" A60="EH" S70="FR" P0F="F" BE0="IN90" P04="T" P05="F" N0K="P" D00="2015-03-10" D05="2016-03-10" SB2="ET" SB3="ECONOMY TEST" SC0="EYU" SC2="U.A.E TO THE WORLD">
                <BKC B30="G" Q13="8" B31="Y" B52="GIF/IN90" Q3S="9" SB2="ET"/>
                <SUR A01="AUH" A02="SYD" N0F="F" C40="NUC" C69="103.45" S03="FUEL"/>
                <FAT PAW="T" N1L="F" Q0D="2" P2F="T"/>
                <FDS A01="AUH" A02="SYD" A11="AUH" A12="SYD" P2M="T" PAW="T" P0F="F" Q0D="2" B30="G" Q13="8" B31="Y" P2F="T"/>
                <CAT>10 19</CAT>
              </FDC>
              <FDC Q20="5" A01="SYD" A02="YEG" A11="SYD" A12="YEA" B00="VA" B50="NLE0OVURIN" B70="INF" C40="AUD" C50="94.21" C51="113.00" A60="PA" S70="FR" P0F="F" P04="T" P05="F" N0K="P" D00="2015-03-17" D05="2016-03-10" SB2="SV" SB3="SAVER" SC0="VAG" SC2="LONG HAUL - LEVEL 1">
                <BKC B30="N" Q13="8" B31="Y" B52="NLE0OVURIN" Q3S="9" SB2="SV"/>
                <BKC B30="G" Q13="8" B31="Y" B52="NLE0OVURIN" Q3S="9" SB2="SV"/>
                <SUR A01="SYD" A02="LAX" N0F="Q" C40="NUC" C69="13.13" S03="MISCELLANEOUS/OTHER"/>
                <FAT PAW="T" N1L="F" Q0D="2"/>
                <FAT PAW="T" Q0D="2" P2F="T"/>
                <FDS A01="SYD" A02="LAX" A11="SYD" A12="LAX" P2M="T" PAW="T" P0F="F" Q0D="2" B30="N" Q13="8" B31="Y"/>
                <FDS A01="LAX" A02="YEG" A11="LAX" A12="YEA" P2H="T" PAW="T" P0F="F" Q0D="2" B30="G" Q13="8" B31="Y" P2F="T"/>
                <CAT>2 3 4 5 7 8 9 10 15 16 18 19</CAT>
              </FDC>
              <TAD C40="USD">
                <TAX BC0="US2" C6B="17.70" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="SYD" C41="USD" C6A="17.70" A40="US"/>
                <TAX BC0="US2" C6B="17.70" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="LAX" C41="USD" C6A="17.70" A40="US"/>
                <TAX BC0="YC" C6B="5.50" S04="US CUSTOMS USER FEE" S05="SYD" C41="USD" C6A="5.50" A40="US"/>
                <TAX BC0="XY" C6B="7.00" S04="US FEDERAL INSPECTION FEE" S05="SYD" C41="USD" C6A="7.00" A40="US"/>
                <TAX BC0="XA" C6B="5.00" S04="US APHIS USER FEE" S05="SYD" C41="USD" C6A="5.00" A40="US"/>
                <TAX BC0="AY" C6B="5.60" S04="US SECURITY FEE" S05="LAX" C41="USD" C6A="5.60" A40="US"/>
                <TSM BC0="US2" C6B="35.40" S05="SYD" S04="US INTERNATIONAL TRANSPORTATION TAX" C6A="17.70" C41="USD" A40="US"/>
                <TSM BC0="YC" C6B="5.50" S05="SYD" S04="US CUSTOMS USER FEE" C6A="5.50" C41="USD" A40="US"/>
                <TSM BC0="XY" C6B="7.00" S05="SYD" S04="US FEDERAL INSPECTION FEE" C6A="7.00" C41="USD" A40="US"/>
                <TSM BC0="XA" C6B="5.00" S05="SYD" S04="US APHIS USER FEE" C6A="5.00" C41="USD" A40="US"/>
                <TSM BC0="AY" C6B="5.60" S05="LAX" S04="US SECURITY FEE" C6A="5.60" C41="USD" A40="US"/>
              </TAD>
              <CCD C41="AED" C42="USD" C54="3.6732" Q05="4" N02="O"/>
              <MSG N06="N" Q0K="0" B00="VA">RESTRICTIONS APPLY/NONEND/PENALTIES APPLY</MSG>
              <MSG N06="W" Q0K="0">EACH INF REQUIRES ACCOMPANYING ADT PASSENGER</MSG>
              <MSG N06="W" Q0K="0" Q0M="D">VALIDATING CARRIER - VA</MSG>
              <MSG N06="W" Q0K="0" Q0M="D">CAT 15 SALES RESTRICTIONS FREE TEXT FOUND - VERIFY RULES</MSG>
            </PSG>
            <TOT C43="NUC" C5E="10732.04" C40="AED" C5A="39440" C45="USD" C5F="10737.00" C46="USD" C65="531.10" C56="11268.10"/>
            <VCL SM0="ARC" VC0="T">
              <DCX B00="VA"/>
            </VCL>
            <MMS I10="F"/>
          </ITN>
          <ITN NUM="3" FML="M" B05="VA" D00="2015-03-04" PBC="F" D14="2015-03-04" D16="2015-03-04" P0J="T" VTA="F" PVT="F" FBR="F" STI="F">
            <SID Q14="0" Q15="1"/>
            <SID Q14="1" Q15="0"/>
            <SID Q14="2" Q15="0"/>
            <SEG P2M="T">
              <BKC B30="G" Q13="8" B31="Y"/>
            </SEG>
            <SEG P2M="T">
              <BKC B30="N" Q13="8" B31="Y"/>
            </SEG>
            <SEG P2H="T">
              <BKC B30="G" Q13="8" B31="Y"/>
            </SEG>
            <PSG Q0U="2" B70="ADT" C43="NUC" C5E="3718.59" C40="AED" C5A="13660" C46="USD" C66="3890.80" C65="171.80" S07="AUH EY SYD Q103.45 2659.91VA LAX WS YEA Q SYDYEA13.13 942.10NUC3718.59END ROE3.67305 XFLAX4.5" C54="3.67305000" Q05="8" P27="T" C5D="0.00" C5B="0.00">
              <FDC Q20="6" A01="AUH" A02="SYD" A11="AUH" A12="SYD" B00="EY" B50="GIF" B70="ADT" C40="AED" C50="2659.91" C51="9770" A60="EH" S70="FR" P0F="F" P04="T" P05="F" N0K="P" D00="2015-03-10" D05="2016-03-10" SB2="ET" SB3="ECONOMY TEST" SC0="EYU" SC2="U.A.E TO THE WORLD">
                <BKC B30="G" Q13="8" B31="Y" B52="GIF" Q3S="9" SB2="ET"/>
                <SUR A01="AUH" A02="SYD" N0F="F" C40="NUC" C69="103.45" S03="FUEL"/>
                <FAT PAW="T" N1L="F" Q0D="2" P2F="T"/>
                <FDS A01="AUH" A02="SYD" A11="AUH" A12="SYD" P2M="T" PAW="T" P0F="F" Q0D="2" B30="G" Q13="8" B31="Y" P2F="T"/>
                <CAT>10</CAT>
              </FDC>
              <FDC Q20="7" A01="SYD" A02="YEG" A11="SYD" A12="YEA" B00="VA" B50="NLE0OVUR" B70="ADT" C40="AUD" C50="942.10" C51="1130.00" A60="PA" S70="FR" P0F="F" P04="T" P05="F" N0K="P" D00="2015-03-17" D05="2016-03-10" SB2="SV" SB3="SAVER" SC0="VAG" SC2="LONG HAUL - LEVEL 1">
                <BKC B30="N" Q13="8" B31="Y" B52="NLE0OVUR" Q3S="9" SB2="SV"/>
                <BKC B30="G" Q13="8" B31="Y" B52="NLE0OVUR" Q3S="9" SB2="SV"/>
                <SUR A01="SYD" A02="LAX" N0F="Q" C40="NUC" C69="13.13" S03="MISCELLANEOUS/OTHER"/>
                <FAT PAW="T" N1L="F" Q0D="2"/>
                <FAT PAW="T" Q0D="2" P2F="T"/>
                <FDS A01="SYD" A02="LAX" A11="SYD" A12="LAX" P2M="T" PAW="T" P0F="F" Q0D="2" B30="N" Q13="8" B31="Y"/>
                <FDS A01="LAX" A02="YEG" A11="LAX" A12="YEA" P2H="T" PAW="T" P0F="F" Q0D="2" B30="G" Q13="8" B31="Y" P2F="T"/>
                <CAT>2 3 4 5 7 8 9 10 15 16 18</CAT>
              </FDC>
              <TAD C40="USD">
                <TAX BC0="US2" C6B="17.70" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="SYD" C41="USD" C6A="17.70" A40="US"/>
                <TAX BC0="US2" C6B="17.70" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="LAX" C41="USD" C6A="17.70" A40="US"/>
                <TAX BC0="YC" C6B="5.50" S04="US CUSTOMS USER FEE" S05="SYD" C41="USD" C6A="5.50" A40="US"/>
                <TAX BC0="XY" C6B="7.00" S04="US FEDERAL INSPECTION FEE" S05="SYD" C41="USD" C6A="7.00" A40="US"/>
                <TAX BC0="XA" C6B="5.00" S04="US APHIS USER FEE" S05="SYD" C41="USD" C6A="5.00" A40="US"/>
                <TAX BC0="AY" C6B="5.60" S04="US SECURITY FEE" S05="LAX" C41="USD" C6A="5.60" A40="US"/>
                <TAX BC0="AE" C6B="20.40" S04="PASSENGER SERVICE CHARGE" S05="AUH" C41="AED" C6A="75" A40="AE"/>
                <TAX BC0="TP" C6B="1.40" S04="PASSENGER SECURITY AND SAFETY FEE" S05="AUH" C41="AED" C6A="5" A40="AE"/>
                <TAX BC0="AU" C6B="42.80" S04="PASSENGER MOVEMENT CHARGE" S05="SYD" C41="AUD" C6A="55.00" A40="AU"/>
                <TAX BC0="WY" C6B="22.10" S04="PASSENGER SERVICE CHARGE" S05="SYD" C41="AUD" C6A="28.42" A40="AU"/>
                <TAX BC0="WY" C6B="22.10" S04="PASSENGER SERVICE CHARGE" S05="AUH" C41="AUD" C6A="28.42" A40="AU"/>
                <TAX BC0="XF" C6B="4.50" S04="PASSENGER FACILITY CHARGES" S05="LAX" C41="USD" C6A="4.50" A40="US"/>
                <TSM BC0="US2" C6B="35.40" S05="SYD" S04="US INTERNATIONAL TRANSPORTATION TAX" C6A="17.70" C41="USD" A40="US"/>
                <TSM BC0="YC" C6B="5.50" S05="SYD" S04="US CUSTOMS USER FEE" C6A="5.50" C41="USD" A40="US"/>
                <TSM BC0="XY" C6B="7.00" S05="SYD" S04="US FEDERAL INSPECTION FEE" C6A="7.00" C41="USD" A40="US"/>
                <TSM BC0="XA" C6B="5.00" S05="SYD" S04="US APHIS USER FEE" C6A="5.00" C41="USD" A40="US"/>
                <TSM BC0="AY" C6B="5.60" S05="LAX" S04="US SECURITY FEE" C6A="5.60" C41="USD" A40="US"/>
                <TSM BC0="AE" C6B="20.40" S05="AUH" S04="PASSENGER SERVICE CHARGE" C6A="75" C41="AED" A40="AE"/>
                <TSM BC0="TP" C6B="1.40" S05="AUH" S04="PASSENGER SECURITY AND SAFETY FEE" C6A="5" C41="AED" A40="AE"/>
                <TSM BC0="AU" C6B="42.80" S05="SYD" S04="PASSENGER MOVEMENT CHARGE" C6A="55.00" C41="AUD" A40="AU"/>
                <TSM BC0="WY" C6B="44.20" S05="SYD" S04="PASSENGER SERVICE CHARGE" C6A="28.42" C41="AUD" A40="AU"/>
                <TSM BC0="XF" C6B="4.50" S05="LAX" S04="PASSENGER FACILITY CHARGE" C6A="4.50" C41="USD" A40="US"/>
              </TAD>
              <CCD C41="AED" C42="USD" C54="3.6732" Q05="4" N02="O"/>
              <MSG N06="N" Q0K="0" B00="VA">RESTRICTIONS APPLY/NONEND/PENALTIES APPLY</MSG>
              <MSG N06="W" Q0K="0" Q0M="D">VALIDATING CARRIER - VA</MSG>
              <MSG N06="W" Q0K="0" Q0M="D">CAT 15 SALES RESTRICTIONS FREE TEXT FOUND - VERIFY RULES</MSG>
            </PSG>
            <PSG Q0U="1" B70="CNN" C43="NUC" C5E="2818.08" C40="AED" C5A="10360" C46="USD" C66="2949.00" C65="129.00" S07="AUH EY SYD Q103.45 1994.93VA LAX WS YEA Q SYDYEA13.13 706.57NUC2818.08END ROE3.67305 XFLAX4.5" C54="3.67305000" Q05="8" P27="F" C5D="0.00" C5B="0.00">
              <FDC Q20="8" A01="AUH" A02="SYD" A11="AUH" A12="SYD" B00="EY" B50="GIF/CH25" B70="CNN" C40="AED" C50="1994.93" C51="7330" A60="EH" S70="FR" P0F="F" BE0="CH25" P04="T" P05="F" N0K="P" D00="2015-03-10" D05="2016-03-10" SB2="ET" SB3="ECONOMY TEST" SC0="EYU" SC2="U.A.E TO THE WORLD">
                <BKC B30="G" Q13="8" B31="Y" B52="GIF/CH25" Q3S="9" SB2="ET"/>
                <SUR A01="AUH" A02="SYD" N0F="F" C40="NUC" C69="103.45" S03="FUEL"/>
                <FAT PAW="T" N1L="F" Q0D="2" P2F="T"/>
                <FDS A01="AUH" A02="SYD" A11="AUH" A12="SYD" P2M="T" PAW="T" P0F="F" Q0D="2" B30="G" Q13="8" B31="Y" P2F="T"/>
                <CAT>10 19</CAT>
              </FDC>
              <FDC Q20="9" A01="SYD" A02="YEG" A11="SYD" A12="YEA" B00="VA" B50="NLFFWEBCH" B70="CNN" C40="AUD" C50="706.57" C51="848.00" A60="PA" S70="FR" P0F="F" P04="T" P05="F" N0K="P" D00="2015-03-17" D05="2016-03-10" SB2="SV" SB3="SAVER" SC0="VAG" SC2="LONG HAUL - LEVEL 1">
                <BKC B30="N" Q13="8" B31="Y" B52="NLFFWEBCH" Q3S="9" SB2="SV"/>
                <BKC B30="G" Q13="8" B31="Y" B52="NLFFWEBCH" Q3S="9" SB2="SV"/>
                <SUR A01="SYD" A02="LAX" N0F="Q" C40="NUC" C69="13.13" S03="MISCELLANEOUS/OTHER"/>
                <FAT PAW="T" N1L="F" Q0D="2"/>
                <FAT PAW="T" Q0D="2" P2F="T"/>
                <FDS A01="SYD" A02="LAX" A11="SYD" A12="LAX" P2M="T" PAW="T" P0F="F" Q0D="2" B30="N" Q13="8" B31="Y"/>
                <FDS A01="LAX" A02="YEG" A11="LAX" A12="YEA" P2H="T" PAW="T" P0F="F" Q0D="2" B30="G" Q13="8" B31="Y" P2F="T"/>
                <CAT>3 4 5 7 8 9 10 15 16 18 19</CAT>
              </FDC>
              <TAD C40="USD">
                <TAX BC0="US2" C6B="17.70" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="SYD" C41="USD" C6A="17.70" A40="US"/>
                <TAX BC0="US2" C6B="17.70" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="LAX" C41="USD" C6A="17.70" A40="US"/>
                <TAX BC0="YC" C6B="5.50" S04="US CUSTOMS USER FEE" S05="SYD" C41="USD" C6A="5.50" A40="US"/>
                <TAX BC0="XY" C6B="7.00" S04="US FEDERAL INSPECTION FEE" S05="SYD" C41="USD" C6A="7.00" A40="US"/>
                <TAX BC0="XA" C6B="5.00" S04="US APHIS USER FEE" S05="SYD" C41="USD" C6A="5.00" A40="US"/>
                <TAX BC0="AY" C6B="5.60" S04="US SECURITY FEE" S05="LAX" C41="USD" C6A="5.60" A40="US"/>
                <TAX BC0="AE" C6B="20.40" S04="PASSENGER SERVICE CHARGE" S05="AUH" C41="AED" C6A="75" A40="AE"/>
                <TAX BC0="TP" C6B="1.40" S04="PASSENGER SECURITY AND SAFETY FEE" S05="AUH" C41="AED" C6A="5" A40="AE"/>
                <TAX BC0="WY" C6B="22.10" S04="PASSENGER SERVICE CHARGE" S05="SYD" C41="AUD" C6A="28.42" A40="AU"/>
                <TAX BC0="WY" C6B="22.10" S04="PASSENGER SERVICE CHARGE" S05="AUH" C41="AUD" C6A="28.42" A40="AU"/>
                <TAX BC0="XF" C6B="4.50" S04="PASSENGER FACILITY CHARGES" S05="LAX" C41="USD" C6A="4.50" A40="US"/>
                <TSM BC0="US2" C6B="35.40" S05="SYD" S04="US INTERNATIONAL TRANSPORTATION TAX" C6A="17.70" C41="USD" A40="US"/>
                <TSM BC0="YC" C6B="5.50" S05="SYD" S04="US CUSTOMS USER FEE" C6A="5.50" C41="USD" A40="US"/>
                <TSM BC0="XY" C6B="7.00" S05="SYD" S04="US FEDERAL INSPECTION FEE" C6A="7.00" C41="USD" A40="US"/>
                <TSM BC0="XA" C6B="5.00" S05="SYD" S04="US APHIS USER FEE" C6A="5.00" C41="USD" A40="US"/>
                <TSM BC0="AY" C6B="5.60" S05="LAX" S04="US SECURITY FEE" C6A="5.60" C41="USD" A40="US"/>
                <TSM BC0="AE" C6B="20.40" S05="AUH" S04="PASSENGER SERVICE CHARGE" C6A="75" C41="AED" A40="AE"/>
                <TSM BC0="TP" C6B="1.40" S05="AUH" S04="PASSENGER SECURITY AND SAFETY FEE" C6A="5" C41="AED" A40="AE"/>
                <TSM BC0="WY" C6B="44.20" S05="SYD" S04="PASSENGER SERVICE CHARGE" C6A="28.42" C41="AUD" A40="AU"/>
                <TSM BC0="XF" C6B="4.50" S05="LAX" S04="PASSENGER FACILITY CHARGE" C6A="4.50" C41="USD" A40="US"/>
              </TAD>
              <CCD C41="AED" C42="USD" C54="3.6732" Q05="4" N02="O"/>
              <MSG N06="N" Q0K="0" B00="VA">RESTRICTIONS APPLY/NONEND/PENALTIES APPLY</MSG>
              <MSG N06="W" Q0K="0">SEG6 EACH CNN REQUIRES ACCOMPANYING ADT</MSG>
              <MSG N06="W" Q0K="0">SEG2,3 EACH CNN REQUIRES ACCOMPANYING SAME CABIN ADT</MSG>
              <MSG N06="W" Q0K="0" Q0M="D">VALIDATING CARRIER - VA</MSG>
              <MSG N06="W" Q0K="0" Q0M="D">CAT 15 SALES RESTRICTIONS FREE TEXT FOUND - VERIFY RULES</MSG>
            </PSG>
            <PSG Q0U="1" B70="INF" C43="NUC" C5E="476.78" C40="AED" C5A="1760" C46="USD" C66="537.50" C65="58.50" S07="AUH EY SYD Q103.45 265.99VA LAX WS YEA Q SYDYEA13.13 94.21NUC476.78END ROE3.67305" C54="3.67305000" Q05="8" P27="T" C5D="0.00" C5B="0.00">
              <FDC Q20="10" A01="AUH" A02="SYD" A11="AUH" A12="SYD" B00="EY" B50="GIF/IN90" B70="INF" C40="AED" C50="265.99" C51="980" A60="EH" S70="FR" P0F="F" BE0="IN90" P04="T" P05="F" N0K="P" D00="2015-03-10" D05="2016-03-10" SB2="ET" SB3="ECONOMY TEST" SC0="EYU" SC2="U.A.E TO THE WORLD">
                <BKC B30="G" Q13="8" B31="Y" B52="GIF/IN90" Q3S="9" SB2="ET"/>
                <SUR A01="AUH" A02="SYD" N0F="F" C40="NUC" C69="103.45" S03="FUEL"/>
                <FAT PAW="T" N1L="F" Q0D="2" P2F="T"/>
                <FDS A01="AUH" A02="SYD" A11="AUH" A12="SYD" P2M="T" PAW="T" P0F="F" Q0D="2" B30="G" Q13="8" B31="Y" P2F="T"/>
                <CAT>10 19</CAT>
              </FDC>
              <FDC Q20="11" A01="SYD" A02="YEG" A11="SYD" A12="YEA" B00="VA" B50="NLE0OVURIN" B70="INF" C40="AUD" C50="94.21" C51="113.00" A60="PA" S70="FR" P0F="F" P04="T" P05="F" N0K="P" D00="2015-03-17" D05="2016-03-10" SB2="SV" SB3="SAVER" SC0="VAG" SC2="LONG HAUL - LEVEL 1">
                <BKC B30="N" Q13="8" B31="Y" B52="NLE0OVURIN" Q3S="9" SB2="SV"/>
                <BKC B30="G" Q13="8" B31="Y" B52="NLE0OVURIN" Q3S="9" SB2="SV"/>
                <SUR A01="SYD" A02="LAX" N0F="Q" C40="NUC" C69="13.13" S03="MISCELLANEOUS/OTHER"/>
                <FAT PAW="T" N1L="F" Q0D="2"/>
                <FAT PAW="T" Q0D="2" P2F="T"/>
                <FDS A01="SYD" A02="LAX" A11="SYD" A12="LAX" P2M="T" PAW="T" P0F="F" Q0D="2" B30="N" Q13="8" B31="Y"/>
                <FDS A01="LAX" A02="YEG" A11="LAX" A12="YEA" P2H="T" PAW="T" P0F="F" Q0D="2" B30="G" Q13="8" B31="Y" P2F="T"/>
                <CAT>2 3 4 5 7 8 9 10 15 16 18 19</CAT>
              </FDC>
              <TAD C40="USD">
                <TAX BC0="US2" C6B="17.70" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="SYD" C41="USD" C6A="17.70" A40="US"/>
                <TAX BC0="US2" C6B="17.70" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="LAX" C41="USD" C6A="17.70" A40="US"/>
                <TAX BC0="YC" C6B="5.50" S04="US CUSTOMS USER FEE" S05="SYD" C41="USD" C6A="5.50" A40="US"/>
                <TAX BC0="XY" C6B="7.00" S04="US FEDERAL INSPECTION FEE" S05="SYD" C41="USD" C6A="7.00" A40="US"/>
                <TAX BC0="XA" C6B="5.00" S04="US APHIS USER FEE" S05="SYD" C41="USD" C6A="5.00" A40="US"/>
                <TAX BC0="AY" C6B="5.60" S04="US SECURITY FEE" S05="LAX" C41="USD" C6A="5.60" A40="US"/>
                <TSM BC0="US2" C6B="35.40" S05="SYD" S04="US INTERNATIONAL TRANSPORTATION TAX" C6A="17.70" C41="USD" A40="US"/>
                <TSM BC0="YC" C6B="5.50" S05="SYD" S04="US CUSTOMS USER FEE" C6A="5.50" C41="USD" A40="US"/>
                <TSM BC0="XY" C6B="7.00" S05="SYD" S04="US FEDERAL INSPECTION FEE" C6A="7.00" C41="USD" A40="US"/>
                <TSM BC0="XA" C6B="5.00" S05="SYD" S04="US APHIS USER FEE" C6A="5.00" C41="USD" A40="US"/>
                <TSM BC0="AY" C6B="5.60" S05="LAX" S04="US SECURITY FEE" C6A="5.60" C41="USD" A40="US"/>
              </TAD>
              <CCD C41="AED" C42="USD" C54="3.6732" Q05="4" N02="O"/>
              <MSG N06="N" Q0K="0" B00="VA">RESTRICTIONS APPLY/NONEND/PENALTIES APPLY</MSG>
              <MSG N06="W" Q0K="0">EACH INF REQUIRES ACCOMPANYING ADT PASSENGER</MSG>
              <MSG N06="W" Q0K="0" Q0M="D">VALIDATING CARRIER - VA</MSG>
              <MSG N06="W" Q0K="0" Q0M="D">CAT 15 SALES RESTRICTIONS FREE TEXT FOUND - VERIFY RULES</MSG>
            </PSG>
            <TOT C43="NUC" C5E="10732.04" C40="AED" C5A="39440" C45="USD" C5F="10737.00" C46="USD" C65="531.10" C56="11268.10"/>
            <VCL SM0="ARC" VC0="T">
              <DCX B00="VA"/>
            </VCL>
            <MMS I10="F"/>
          </ITN>
        </ShoppingResponse><br>
Example after:
        <?xml version="1.0" encoding="UTF-8"?><ShoppingResponse STK="picli304:27033 2015-02-24T03:38:57 11161" Q0S="2" Q0F="2">
          <ITN NUM="0" FML="M" B05="VA" D00="2015-03-04" PBC="F" D14="2015-03-04" D16="2015-03-04" P0J="T" VTA="F" PVT="F" FBR="F" STI="F" P35="T">
            <SID Q14="0" Q15="0"/>
            <SID Q14="1" Q15="0"/>
            <SID Q14="2" Q15="0"/>
            <SEG P2M="T">
              <BKC B30="G" Q13="8" B31="Y"/>
            </SEG>
            <SEG P2M="T">
              <BKC B30="N" Q13="8" B31="Y"/>
            </SEG>
            <SEG P2H="T">
              <BKC B30="G" Q13="8" B31="Y"/>
            </SEG>
            <PSG Q0U="2" B70="ADT" C43="NUC" C5E="3718.59" C40="AED" C5A="13660" C46="USD" C66="3890.80" C65="171.80" S07="AUH EY SYD Q103.45 2659.91VA LAX WS YEA Q SYDYEA13.13 942.10NUC3718.59END ROE3.67305 XFLAX4.5" C54="3.67305000" Q05="8" P27="F" C5D="0.00" C5B="0.00">
              <FDC Q20="0" A01="AUH" A02="SYD" A11="AUH" A12="SYD" B00="EY" B50="GIF" B70="ADT" C40="AED" C50="2659.91" C51="9770" A60="EH" S70="FR" P0F="F" P04="T" P05="F" N0K="P" D00="2015-03-10" D05="2016-03-10" SB2="ET" SB3="ECONOMY TEST" SC0="EYU" SC2="U.A.E TO THE WORLD">
                <BKC B30="G" Q13="8" B31="Y" B52="GIF" Q3S="9" SB2="ET"/>
                <SUR A01="AUH" A02="SYD" N0F="F" C40="NUC" C69="103.45" S03="FUEL"/>
                <FAT PAW="T" N1L="F" Q0D="2" P2F="T"/>
                <FDS A01="AUH" A02="SYD" A11="AUH" A12="SYD" P2M="T" PAW="T" P0F="F" Q0D="2" B30="G" Q13="8" B31="Y" P2F="T"/>
                <CAT>10</CAT>
              </FDC>
              <FDC Q20="1" A01="SYD" A02="YEG" A11="SYD" A12="YEA" B00="VA" B50="NLFFWEB" B70="ADT" C40="AUD" C50="942.10" C51="1130.00" A60="PA" S70="FR" P0F="F" P04="T" P05="F" N0K="P" D00="2015-03-17" D05="2016-03-10" SB2="SV" SB3="SAVER" SC0="VAG" SC2="LONG HAUL - LEVEL 1">
                <BKC B30="N" Q13="8" B31="Y" B52="NLFFWEB" Q3S="9" SB2="SV"/>
                <BKC B30="G" Q13="8" B31="Y" B52="NLFFWEB" Q3S="9" SB2="SV"/>
                <SUR A01="SYD" A02="LAX" N0F="Q" C40="NUC" C69="13.13" S03="MISCELLANEOUS/OTHER"/>
                <FAT PAW="T" N1L="F" Q0D="2"/>
                <FAT PAW="T" Q0D="2" P2F="T"/>
                <FDS A01="SYD" A02="LAX" A11="SYD" A12="LAX" P2M="T" PAW="T" P0F="F" Q0D="2" B30="N" Q13="8" B31="Y"/>
                <FDS A01="LAX" A02="YEG" A11="LAX" A12="YEA" P2H="T" PAW="T" P0F="F" Q0D="2" B30="G" Q13="8" B31="Y" P2F="T"/>
                <CAT>3 4 5 7 8 9 10 15 16 18</CAT>
              </FDC>
              <TAD C40="USD">
                <TAX BC0="US2" C6B="17.70" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="SYD" C41="USD" C6A="17.70" A40="US"/>
                <TAX BC0="US2" C6B="17.70" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="LAX" C41="USD" C6A="17.70" A40="US"/>
                <TAX BC0="YC" C6B="5.50" S04="US CUSTOMS USER FEE" S05="SYD" C41="USD" C6A="5.50" A40="US"/>
                <TAX BC0="XY" C6B="7.00" S04="US FEDERAL INSPECTION FEE" S05="SYD" C41="USD" C6A="7.00" A40="US"/>
                <TAX BC0="XA" C6B="5.00" S04="US APHIS USER FEE" S05="SYD" C41="USD" C6A="5.00" A40="US"/>
                <TAX BC0="AY" C6B="5.60" S04="US SECURITY FEE" S05="LAX" C41="USD" C6A="5.60" A40="US"/>
                <TAX BC0="AE" C6B="20.40" S04="PASSENGER SERVICE CHARGE" S05="AUH" C41="AED" C6A="75" A40="AE"/>
                <TAX BC0="TP" C6B="1.40" S04="PASSENGER SECURITY AND SAFETY FEE" S05="AUH" C41="AED" C6A="5" A40="AE"/>
                <TAX BC0="AU" C6B="42.80" S04="PASSENGER MOVEMENT CHARGE" S05="SYD" C41="AUD" C6A="55.00" A40="AU"/>
                <TAX BC0="WY" C6B="22.10" S04="PASSENGER SERVICE CHARGE" S05="SYD" C41="AUD" C6A="28.42" A40="AU"/>
                <TAX BC0="WY" C6B="22.10" S04="PASSENGER SERVICE CHARGE" S05="AUH" C41="AUD" C6A="28.42" A40="AU"/>
                <TAX BC0="XF" C6B="4.50" S04="PASSENGER FACILITY CHARGES" S05="LAX" C41="USD" C6A="4.50" A40="US"/>
                <TSM BC0="US2" C6B="35.40" S05="SYD" S04="US INTERNATIONAL TRANSPORTATION TAX" C6A="17.70" C41="USD" A40="US"/>
                <TSM BC0="YC" C6B="5.50" S05="SYD" S04="US CUSTOMS USER FEE" C6A="5.50" C41="USD" A40="US"/>
                <TSM BC0="XY" C6B="7.00" S05="SYD" S04="US FEDERAL INSPECTION FEE" C6A="7.00" C41="USD" A40="US"/>
                <TSM BC0="XA" C6B="5.00" S05="SYD" S04="US APHIS USER FEE" C6A="5.00" C41="USD" A40="US"/>
                <TSM BC0="AY" C6B="5.60" S05="LAX" S04="US SECURITY FEE" C6A="5.60" C41="USD" A40="US"/>
                <TSM BC0="AE" C6B="20.40" S05="AUH" S04="PASSENGER SERVICE CHARGE" C6A="75" C41="AED" A40="AE"/>
                <TSM BC0="TP" C6B="1.40" S05="AUH" S04="PASSENGER SECURITY AND SAFETY FEE" C6A="5" C41="AED" A40="AE"/>
                <TSM BC0="AU" C6B="42.80" S05="SYD" S04="PASSENGER MOVEMENT CHARGE" C6A="55.00" C41="AUD" A40="AU"/>
                <TSM BC0="WY" C6B="44.20" S05="SYD" S04="PASSENGER SERVICE CHARGE" C6A="28.42" C41="AUD" A40="AU"/>
                <TSM BC0="XF" C6B="4.50" S05="LAX" S04="PASSENGER FACILITY CHARGE" C6A="4.50" C41="USD" A40="US"/>
              </TAD>
              <CCD C41="AED" C42="USD" C54="3.6732" Q05="4" N02="O"/>
              <MSG N06="N" Q0K="0" B00="VA">NON ENDORSABLE</MSG>
              <MSG N06="W" Q0K="0" Q0M="D">VALIDATING CARRIER - VA</MSG>
              <MSG N06="W" Q0K="0" Q0M="D">CAT 15 SALES RESTRICTIONS FREE TEXT FOUND - VERIFY RULES</MSG>
            </PSG>
            <PSG Q0U="1" B70="CNN" C43="NUC" C5E="2818.08" C40="AED" C5A="10360" C46="USD" C66="2949.00" C65="129.00" S07="AUH EY SYD Q103.45 1994.93VA LAX WS YEA Q SYDYEA13.13 706.57NUC2818.08END ROE3.67305 XFLAX4.5" C54="3.67305000" Q05="8" P27="F" C5D="0.00" C5B="0.00">
              <FDC Q20="2" A01="AUH" A02="SYD" A11="AUH" A12="SYD" B00="EY" B50="GIF/CH25" B70="CNN" C40="AED" C50="1994.93" C51="7330" A60="EH" S70="FR" P0F="F" BE0="CH25" P04="T" P05="F" N0K="P" D00="2015-03-10" D05="2016-03-10" SB2="ET" SB3="ECONOMY TEST" SC0="EYU" SC2="U.A.E TO THE WORLD">
                <BKC B30="G" Q13="8" B31="Y" B52="GIF/CH25" Q3S="9" SB2="ET"/>
                <SUR A01="AUH" A02="SYD" N0F="F" C40="NUC" C69="103.45" S03="FUEL"/>
                <FAT PAW="T" N1L="F" Q0D="2" P2F="T"/>
                <FDS A01="AUH" A02="SYD" A11="AUH" A12="SYD" P2M="T" PAW="T" P0F="F" Q0D="2" B30="G" Q13="8" B31="Y" P2F="T"/>
                <CAT>10 19</CAT>
              </FDC>
              <FDC Q20="3" A01="SYD" A02="YEG" A11="SYD" A12="YEA" B00="VA" B50="NLFFWEBCH" B70="CNN" C40="AUD" C50="706.57" C51="848.00" A60="PA" S70="FR" P0F="F" P04="T" P05="F" N0K="P" D00="2015-03-17" D05="2016-03-10" SB2="SV" SB3="SAVER" SC0="VAG" SC2="LONG HAUL - LEVEL 1">
                <BKC B30="N" Q13="8" B31="Y" B52="NLFFWEBCH" Q3S="9" SB2="SV"/>
                <BKC B30="G" Q13="8" B31="Y" B52="NLFFWEBCH" Q3S="9" SB2="SV"/>
                <SUR A01="SYD" A02="LAX" N0F="Q" C40="NUC" C69="13.13" S03="MISCELLANEOUS/OTHER"/>
                <FAT PAW="T" N1L="F" Q0D="2"/>
                <FAT PAW="T" Q0D="2" P2F="T"/>
                <FDS A01="SYD" A02="LAX" A11="SYD" A12="LAX" P2M="T" PAW="T" P0F="F" Q0D="2" B30="N" Q13="8" B31="Y"/>
                <FDS A01="LAX" A02="YEG" A11="LAX" A12="YEA" P2H="T" PAW="T" P0F="F" Q0D="2" B30="G" Q13="8" B31="Y" P2F="T"/>
                <CAT>3 4 5 7 8 9 10 15 16 18 19</CAT>
              </FDC>
              <TAD C40="USD">
                <TAX BC0="US2" C6B="17.70" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="SYD" C41="USD" C6A="17.70" A40="US"/>
                <TAX BC0="US2" C6B="17.70" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="LAX" C41="USD" C6A="17.70" A40="US"/>
                <TAX BC0="YC" C6B="5.50" S04="US CUSTOMS USER FEE" S05="SYD" C41="USD" C6A="5.50" A40="US"/>
                <TAX BC0="XY" C6B="7.00" S04="US FEDERAL INSPECTION FEE" S05="SYD" C41="USD" C6A="7.00" A40="US"/>
                <TAX BC0="XA" C6B="5.00" S04="US APHIS USER FEE" S05="SYD" C41="USD" C6A="5.00" A40="US"/>
                <TAX BC0="AY" C6B="5.60" S04="US SECURITY FEE" S05="LAX" C41="USD" C6A="5.60" A40="US"/>
                <TAX BC0="AE" C6B="20.40" S04="PASSENGER SERVICE CHARGE" S05="AUH" C41="AED" C6A="75" A40="AE"/>
                <TAX BC0="TP" C6B="1.40" S04="PASSENGER SECURITY AND SAFETY FEE" S05="AUH" C41="AED" C6A="5" A40="AE"/>
                <TAX BC0="WY" C6B="22.10" S04="PASSENGER SERVICE CHARGE" S05="SYD" C41="AUD" C6A="28.42" A40="AU"/>
                <TAX BC0="WY" C6B="22.10" S04="PASSENGER SERVICE CHARGE" S05="AUH" C41="AUD" C6A="28.42" A40="AU"/>
                <TAX BC0="XF" C6B="4.50" S04="PASSENGER FACILITY CHARGES" S05="LAX" C41="USD" C6A="4.50" A40="US"/>
                <TSM BC0="US2" C6B="35.40" S05="SYD" S04="US INTERNATIONAL TRANSPORTATION TAX" C6A="17.70" C41="USD" A40="US"/>
                <TSM BC0="YC" C6B="5.50" S05="SYD" S04="US CUSTOMS USER FEE" C6A="5.50" C41="USD" A40="US"/>
                <TSM BC0="XY" C6B="7.00" S05="SYD" S04="US FEDERAL INSPECTION FEE" C6A="7.00" C41="USD" A40="US"/>
                <TSM BC0="XA" C6B="5.00" S05="SYD" S04="US APHIS USER FEE" C6A="5.00" C41="USD" A40="US"/>
                <TSM BC0="AY" C6B="5.60" S05="LAX" S04="US SECURITY FEE" C6A="5.60" C41="USD" A40="US"/>
                <TSM BC0="AE" C6B="20.40" S05="AUH" S04="PASSENGER SERVICE CHARGE" C6A="75" C41="AED" A40="AE"/>
                <TSM BC0="TP" C6B="1.40" S05="AUH" S04="PASSENGER SECURITY AND SAFETY FEE" C6A="5" C41="AED" A40="AE"/>
                <TSM BC0="WY" C6B="44.20" S05="SYD" S04="PASSENGER SERVICE CHARGE" C6A="28.42" C41="AUD" A40="AU"/>
                <TSM BC0="XF" C6B="4.50" S05="LAX" S04="PASSENGER FACILITY CHARGE" C6A="4.50" C41="USD" A40="US"/>
              </TAD>
              <CCD C41="AED" C42="USD" C54="3.6732" Q05="4" N02="O"/>
              <MSG N06="N" Q0K="0" B00="VA">NON ENDORSABLE</MSG>
              <MSG N06="W" Q0K="0">SEG1 EACH CNN REQUIRES ACCOMPANYING ADT</MSG>
              <MSG N06="W" Q0K="0">SEG2,3 EACH CNN REQUIRES ACCOMPANYING SAME CABIN ADT</MSG>
              <MSG N06="W" Q0K="0" Q0M="D">VALIDATING CARRIER - VA</MSG>
              <MSG N06="W" Q0K="0" Q0M="D">CAT 15 SALES RESTRICTIONS FREE TEXT FOUND - VERIFY RULES</MSG>
            </PSG>
            <PSG Q0U="1" B70="INF" C43="NUC" C5E="410.35" C40="AED" C5A="1510" C46="USD" C66="469.50" C65="58.50" S07="AUH EY SYD303.01VA LAX WS YEA Q SYDYEA13.13 94.21NUC410.35END ROE3.67305" C54="3.67305000" Q05="8" P27="F" C5D="0.00" C5B="0.00">
              <FDC Q20="4" A01="AUH" A02="SYD" A11="AUH" A12="SYD" B00="EY" B50="YOW11IN10" B70="INF" C40="AED" C50="303.01" C51="1120" A60="EH" S70="FR" P0F="F" P04="T" P05="F" N0K="P" D00="2015-03-10" D05="2016-03-10" SB2="ET" SB3="ECONOMY TEST" SC0="EYU" SC2="U.A.E TO THE WORLD">
                <BKC B30="Y" Q13="8" B31="Y" B52="YOW11IN10" Q3S="9" SB2="ET"/>
                <FAT PAW="T" N1L="F" Q0D="2" P2F="T"/>
                <FDS A01="AUH" A02="SYD" A11="AUH" A12="SYD" P2M="T" PAW="T" P0F="F" Q0D="2" B30="Y" Q13="8" B31="Y" P2F="T"/>
                <CAT>7 8 9 10 16 19 23</CAT>
              </FDC>
              <FDC Q20="5" A01="SYD" A02="YEG" A11="SYD" A12="YEA" B00="VA" B50="NLFFWEBIN" B70="INF" C40="AUD" C50="94.21" C51="113.00" A60="PA" S70="FR" P0F="F" P04="T" P05="F" N0K="P" D00="2015-03-17" D05="2016-03-10" SB2="SV" SB3="SAVER" SC0="VAG" SC2="LONG HAUL - LEVEL 1">
                <BKC B30="N" Q13="8" B31="Y" B52="NLFFWEBIN" Q3S="9" SB2="SV"/>
                <BKC B30="G" Q13="8" B31="Y" B52="NLFFWEBIN" Q3S="9" SB2="SV"/>
                <SUR A01="SYD" A02="LAX" N0F="Q" C40="NUC" C69="13.13" S03="MISCELLANEOUS/OTHER"/>
                <FAT PAW="T" N1L="F" Q0D="2"/>
                <FAT PAW="T" Q0D="2" P2F="T"/>
                <FDS A01="SYD" A02="LAX" A11="SYD" A12="LAX" P2M="T" PAW="T" P0F="F" Q0D="2" B30="N" Q13="8" B31="Y"/>
                <FDS A01="LAX" A02="YEG" A11="LAX" A12="YEA" P2H="T" PAW="T" P0F="F" Q0D="2" B30="G" Q13="8" B31="Y" P2F="T"/>
                <CAT>3 4 5 7 8 9 10 15 16 18 19</CAT>
              </FDC>
              <TAD C40="USD">
                <TAX BC0="US2" C6B="17.70" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="SYD" C41="USD" C6A="17.70" A40="US"/>
                <TAX BC0="US2" C6B="17.70" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="LAX" C41="USD" C6A="17.70" A40="US"/>
                <TAX BC0="YC" C6B="5.50" S04="US CUSTOMS USER FEE" S05="SYD" C41="USD" C6A="5.50" A40="US"/>
                <TAX BC0="XY" C6B="7.00" S04="US FEDERAL INSPECTION FEE" S05="SYD" C41="USD" C6A="7.00" A40="US"/>
                <TAX BC0="XA" C6B="5.00" S04="US APHIS USER FEE" S05="SYD" C41="USD" C6A="5.00" A40="US"/>
                <TAX BC0="AY" C6B="5.60" S04="US SECURITY FEE" S05="LAX" C41="USD" C6A="5.60" A40="US"/>
                <TSM BC0="US2" C6B="35.40" S05="SYD" S04="US INTERNATIONAL TRANSPORTATION TAX" C6A="17.70" C41="USD" A40="US"/>
                <TSM BC0="YC" C6B="5.50" S05="SYD" S04="US CUSTOMS USER FEE" C6A="5.50" C41="USD" A40="US"/>
                <TSM BC0="XY" C6B="7.00" S05="SYD" S04="US FEDERAL INSPECTION FEE" C6A="7.00" C41="USD" A40="US"/>
                <TSM BC0="XA" C6B="5.00" S05="SYD" S04="US APHIS USER FEE" C6A="5.00" C41="USD" A40="US"/>
                <TSM BC0="AY" C6B="5.60" S05="LAX" S04="US SECURITY FEE" C6A="5.60" C41="USD" A40="US"/>
              </TAD>
              <CCD C41="AED" C42="USD" C54="3.6732" Q05="4" N02="O"/>
              <MSG N06="N" Q0K="0" B00="VA">NON ENDORSABLE</MSG>
              <MSG N06="W" Q0K="0">EACH INF REQUIRES ACCOMPANYING ADT PASSENGER</MSG>
              <MSG N06="W" Q0K="0" Q0M="D">VALIDATING CARRIER - VA</MSG>
              <MSG N06="W" Q0K="0" Q0M="D">CAT 15 SALES RESTRICTIONS FREE TEXT FOUND - VERIFY RULES</MSG>
            </PSG>
            <TOT C43="NUC" C5E="10665.61" C40="AED" C5A="39190" C45="USD" C5F="10669.00" C46="USD" C65="531.10" C56="11200.10"/>
            <VCL SM0="ARC" VC0="T">
              <DCX B00="VA"/>
            </VCL>
            <MMS I10="F"/>
          </ITN>
          <ITN NUM="3" FML="M" B05="VA" D00="2015-03-04" PBC="F" D14="2015-03-04" D16="2015-03-04" P0J="T" VTA="F" PVT="F" FBR="F" STI="F" P35="T">
            <SID Q14="0" Q15="1"/>
            <SID Q14="1" Q15="0"/>
            <SID Q14="2" Q15="0"/>
            <SEG P2M="T">
              <BKC B30="G" Q13="8" B31="Y"/>
            </SEG>
            <SEG P2M="T">
              <BKC B30="N" Q13="8" B31="Y"/>
            </SEG>
            <SEG P2H="T">
              <BKC B30="G" Q13="8" B31="Y"/>
            </SEG>
            <PSG Q0U="2" B70="ADT" C43="NUC" C5E="3718.59" C40="AED" C5A="13660" C46="USD" C66="3890.80" C65="171.80" S07="AUH EY SYD Q103.45 2659.91VA LAX WS YEA Q SYDYEA13.13 942.10NUC3718.59END ROE3.67305 XFLAX4.5" C54="3.67305000" Q05="8" P27="F" C5D="0.00" C5B="0.00">
              <FDC Q20="6" A01="AUH" A02="SYD" A11="AUH" A12="SYD" B00="EY" B50="GIF" B70="ADT" C40="AED" C50="2659.91" C51="9770" A60="EH" S70="FR" P0F="F" P04="T" P05="F" N0K="P" D00="2015-03-10" D05="2016-03-10" SB2="ET" SB3="ECONOMY TEST" SC0="EYU" SC2="U.A.E TO THE WORLD">
                <BKC B30="G" Q13="8" B31="Y" B52="GIF" Q3S="9" SB2="ET"/>
                <SUR A01="AUH" A02="SYD" N0F="F" C40="NUC" C69="103.45" S03="FUEL"/>
                <FAT PAW="T" N1L="F" Q0D="2" P2F="T"/>
                <FDS A01="AUH" A02="SYD" A11="AUH" A12="SYD" P2M="T" PAW="T" P0F="F" Q0D="2" B30="G" Q13="8" B31="Y" P2F="T"/>
                <CAT>10</CAT>
              </FDC>
              <FDC Q20="7" A01="SYD" A02="YEG" A11="SYD" A12="YEA" B00="VA" B50="NLFFWEB" B70="ADT" C40="AUD" C50="942.10" C51="1130.00" A60="PA" S70="FR" P0F="F" P04="T" P05="F" N0K="P" D00="2015-03-17" D05="2016-03-10" SB2="SV" SB3="SAVER" SC0="VAG" SC2="LONG HAUL - LEVEL 1">
                <BKC B30="N" Q13="8" B31="Y" B52="NLFFWEB" Q3S="9" SB2="SV"/>
                <BKC B30="G" Q13="8" B31="Y" B52="NLFFWEB" Q3S="9" SB2="SV"/>
                <SUR A01="SYD" A02="LAX" N0F="Q" C40="NUC" C69="13.13" S03="MISCELLANEOUS/OTHER"/>
                <FAT PAW="T" N1L="F" Q0D="2"/>
                <FAT PAW="T" Q0D="2" P2F="T"/>
                <FDS A01="SYD" A02="LAX" A11="SYD" A12="LAX" P2M="T" PAW="T" P0F="F" Q0D="2" B30="N" Q13="8" B31="Y"/>
                <FDS A01="LAX" A02="YEG" A11="LAX" A12="YEA" P2H="T" PAW="T" P0F="F" Q0D="2" B30="G" Q13="8" B31="Y" P2F="T"/>
                <CAT>3 4 5 7 8 9 10 15 16 18</CAT>
              </FDC>
              <TAD C40="USD">
                <TAX BC0="US2" C6B="17.70" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="SYD" C41="USD" C6A="17.70" A40="US"/>
                <TAX BC0="US2" C6B="17.70" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="LAX" C41="USD" C6A="17.70" A40="US"/>
                <TAX BC0="YC" C6B="5.50" S04="US CUSTOMS USER FEE" S05="SYD" C41="USD" C6A="5.50" A40="US"/>
                <TAX BC0="XY" C6B="7.00" S04="US FEDERAL INSPECTION FEE" S05="SYD" C41="USD" C6A="7.00" A40="US"/>
                <TAX BC0="XA" C6B="5.00" S04="US APHIS USER FEE" S05="SYD" C41="USD" C6A="5.00" A40="US"/>
                <TAX BC0="AY" C6B="5.60" S04="US SECURITY FEE" S05="LAX" C41="USD" C6A="5.60" A40="US"/>
                <TAX BC0="AE" C6B="20.40" S04="PASSENGER SERVICE CHARGE" S05="AUH" C41="AED" C6A="75" A40="AE"/>
                <TAX BC0="TP" C6B="1.40" S04="PASSENGER SECURITY AND SAFETY FEE" S05="AUH" C41="AED" C6A="5" A40="AE"/>
                <TAX BC0="AU" C6B="42.80" S04="PASSENGER MOVEMENT CHARGE" S05="SYD" C41="AUD" C6A="55.00" A40="AU"/>
                <TAX BC0="WY" C6B="22.10" S04="PASSENGER SERVICE CHARGE" S05="SYD" C41="AUD" C6A="28.42" A40="AU"/>
                <TAX BC0="WY" C6B="22.10" S04="PASSENGER SERVICE CHARGE" S05="AUH" C41="AUD" C6A="28.42" A40="AU"/>
                <TAX BC0="XF" C6B="4.50" S04="PASSENGER FACILITY CHARGES" S05="LAX" C41="USD" C6A="4.50" A40="US"/>
                <TSM BC0="US2" C6B="35.40" S05="SYD" S04="US INTERNATIONAL TRANSPORTATION TAX" C6A="17.70" C41="USD" A40="US"/>
                <TSM BC0="YC" C6B="5.50" S05="SYD" S04="US CUSTOMS USER FEE" C6A="5.50" C41="USD" A40="US"/>
                <TSM BC0="XY" C6B="7.00" S05="SYD" S04="US FEDERAL INSPECTION FEE" C6A="7.00" C41="USD" A40="US"/>
                <TSM BC0="XA" C6B="5.00" S05="SYD" S04="US APHIS USER FEE" C6A="5.00" C41="USD" A40="US"/>
                <TSM BC0="AY" C6B="5.60" S05="LAX" S04="US SECURITY FEE" C6A="5.60" C41="USD" A40="US"/>
                <TSM BC0="AE" C6B="20.40" S05="AUH" S04="PASSENGER SERVICE CHARGE" C6A="75" C41="AED" A40="AE"/>
                <TSM BC0="TP" C6B="1.40" S05="AUH" S04="PASSENGER SECURITY AND SAFETY FEE" C6A="5" C41="AED" A40="AE"/>
                <TSM BC0="AU" C6B="42.80" S05="SYD" S04="PASSENGER MOVEMENT CHARGE" C6A="55.00" C41="AUD" A40="AU"/>
                <TSM BC0="WY" C6B="44.20" S05="SYD" S04="PASSENGER SERVICE CHARGE" C6A="28.42" C41="AUD" A40="AU"/>
                <TSM BC0="XF" C6B="4.50" S05="LAX" S04="PASSENGER FACILITY CHARGE" C6A="4.50" C41="USD" A40="US"/>
              </TAD>
              <CCD C41="AED" C42="USD" C54="3.6732" Q05="4" N02="O"/>
              <MSG N06="N" Q0K="0" B00="VA">NON ENDORSABLE</MSG>
              <MSG N06="W" Q0K="0" Q0M="D">VALIDATING CARRIER - VA</MSG>
              <MSG N06="W" Q0K="0" Q0M="D">CAT 15 SALES RESTRICTIONS FREE TEXT FOUND - VERIFY RULES</MSG>
            </PSG>
            <PSG Q0U="1" B70="CNN" C43="NUC" C5E="2818.08" C40="AED" C5A="10360" C46="USD" C66="2949.00" C65="129.00" S07="AUH EY SYD Q103.45 1994.93VA LAX WS YEA Q SYDYEA13.13 706.57NUC2818.08END ROE3.67305 XFLAX4.5" C54="3.67305000" Q05="8" P27="F" C5D="0.00" C5B="0.00">
              <FDC Q20="8" A01="AUH" A02="SYD" A11="AUH" A12="SYD" B00="EY" B50="GIF/CH25" B70="CNN" C40="AED" C50="1994.93" C51="7330" A60="EH" S70="FR" P0F="F" BE0="CH25" P04="T" P05="F" N0K="P" D00="2015-03-10" D05="2016-03-10" SB2="ET" SB3="ECONOMY TEST" SC0="EYU" SC2="U.A.E TO THE WORLD">
                <BKC B30="G" Q13="8" B31="Y" B52="GIF/CH25" Q3S="9" SB2="ET"/>
                <SUR A01="AUH" A02="SYD" N0F="F" C40="NUC" C69="103.45" S03="FUEL"/>
                <FAT PAW="T" N1L="F" Q0D="2" P2F="T"/>
                <FDS A01="AUH" A02="SYD" A11="AUH" A12="SYD" P2M="T" PAW="T" P0F="F" Q0D="2" B30="G" Q13="8" B31="Y" P2F="T"/>
                <CAT>10 19</CAT>
              </FDC>
              <FDC Q20="9" A01="SYD" A02="YEG" A11="SYD" A12="YEA" B00="VA" B50="NLFFWEBCH" B70="CNN" C40="AUD" C50="706.57" C51="848.00" A60="PA" S70="FR" P0F="F" P04="T" P05="F" N0K="P" D00="2015-03-17" D05="2016-03-10" SB2="SV" SB3="SAVER" SC0="VAG" SC2="LONG HAUL - LEVEL 1">
                <BKC B30="N" Q13="8" B31="Y" B52="NLFFWEBCH" Q3S="9" SB2="SV"/>
                <BKC B30="G" Q13="8" B31="Y" B52="NLFFWEBCH" Q3S="9" SB2="SV"/>
                <SUR A01="SYD" A02="LAX" N0F="Q" C40="NUC" C69="13.13" S03="MISCELLANEOUS/OTHER"/>
                <FAT PAW="T" N1L="F" Q0D="2"/>
                <FAT PAW="T" Q0D="2" P2F="T"/>
                <FDS A01="SYD" A02="LAX" A11="SYD" A12="LAX" P2M="T" PAW="T" P0F="F" Q0D="2" B30="N" Q13="8" B31="Y"/>
                <FDS A01="LAX" A02="YEG" A11="LAX" A12="YEA" P2H="T" PAW="T" P0F="F" Q0D="2" B30="G" Q13="8" B31="Y" P2F="T"/>
                <CAT>3 4 5 7 8 9 10 15 16 18 19</CAT>
              </FDC>
              <TAD C40="USD">
                <TAX BC0="US2" C6B="17.70" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="SYD" C41="USD" C6A="17.70" A40="US"/>
                <TAX BC0="US2" C6B="17.70" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="LAX" C41="USD" C6A="17.70" A40="US"/>
                <TAX BC0="YC" C6B="5.50" S04="US CUSTOMS USER FEE" S05="SYD" C41="USD" C6A="5.50" A40="US"/>
                <TAX BC0="XY" C6B="7.00" S04="US FEDERAL INSPECTION FEE" S05="SYD" C41="USD" C6A="7.00" A40="US"/>
                <TAX BC0="XA" C6B="5.00" S04="US APHIS USER FEE" S05="SYD" C41="USD" C6A="5.00" A40="US"/>
                <TAX BC0="AY" C6B="5.60" S04="US SECURITY FEE" S05="LAX" C41="USD" C6A="5.60" A40="US"/>
                <TAX BC0="AE" C6B="20.40" S04="PASSENGER SERVICE CHARGE" S05="AUH" C41="AED" C6A="75" A40="AE"/>
                <TAX BC0="TP" C6B="1.40" S04="PASSENGER SECURITY AND SAFETY FEE" S05="AUH" C41="AED" C6A="5" A40="AE"/>
                <TAX BC0="WY" C6B="22.10" S04="PASSENGER SERVICE CHARGE" S05="SYD" C41="AUD" C6A="28.42" A40="AU"/>
                <TAX BC0="WY" C6B="22.10" S04="PASSENGER SERVICE CHARGE" S05="AUH" C41="AUD" C6A="28.42" A40="AU"/>
                <TAX BC0="XF" C6B="4.50" S04="PASSENGER FACILITY CHARGES" S05="LAX" C41="USD" C6A="4.50" A40="US"/>
                <TSM BC0="US2" C6B="35.40" S05="SYD" S04="US INTERNATIONAL TRANSPORTATION TAX" C6A="17.70" C41="USD" A40="US"/>
                <TSM BC0="YC" C6B="5.50" S05="SYD" S04="US CUSTOMS USER FEE" C6A="5.50" C41="USD" A40="US"/>
                <TSM BC0="XY" C6B="7.00" S05="SYD" S04="US FEDERAL INSPECTION FEE" C6A="7.00" C41="USD" A40="US"/>
                <TSM BC0="XA" C6B="5.00" S05="SYD" S04="US APHIS USER FEE" C6A="5.00" C41="USD" A40="US"/>
                <TSM BC0="AY" C6B="5.60" S05="LAX" S04="US SECURITY FEE" C6A="5.60" C41="USD" A40="US"/>
                <TSM BC0="AE" C6B="20.40" S05="AUH" S04="PASSENGER SERVICE CHARGE" C6A="75" C41="AED" A40="AE"/>
                <TSM BC0="TP" C6B="1.40" S05="AUH" S04="PASSENGER SECURITY AND SAFETY FEE" C6A="5" C41="AED" A40="AE"/>
                <TSM BC0="WY" C6B="44.20" S05="SYD" S04="PASSENGER SERVICE CHARGE" C6A="28.42" C41="AUD" A40="AU"/>
                <TSM BC0="XF" C6B="4.50" S05="LAX" S04="PASSENGER FACILITY CHARGE" C6A="4.50" C41="USD" A40="US"/>
              </TAD>
              <CCD C41="AED" C42="USD" C54="3.6732" Q05="4" N02="O"/>
              <MSG N06="N" Q0K="0" B00="VA">NON ENDORSABLE</MSG>
              <MSG N06="W" Q0K="0">SEG6 EACH CNN REQUIRES ACCOMPANYING ADT</MSG>
              <MSG N06="W" Q0K="0">SEG2,3 EACH CNN REQUIRES ACCOMPANYING SAME CABIN ADT</MSG>
              <MSG N06="W" Q0K="0" Q0M="D">VALIDATING CARRIER - VA</MSG>
              <MSG N06="W" Q0K="0" Q0M="D">CAT 15 SALES RESTRICTIONS FREE TEXT FOUND - VERIFY RULES</MSG>
            </PSG>
            <PSG Q0U="1" B70="INF" C43="NUC" C5E="410.35" C40="AED" C5A="1510" C46="USD" C66="469.50" C65="58.50" S07="AUH EY SYD303.01VA LAX WS YEA Q SYDYEA13.13 94.21NUC410.35END ROE3.67305" C54="3.67305000" Q05="8" P27="F" C5D="0.00" C5B="0.00">
              <FDC Q20="10" A01="AUH" A02="SYD" A11="AUH" A12="SYD" B00="EY" B50="YOW11IN10" B70="INF" C40="AED" C50="303.01" C51="1120" A60="EH" S70="FR" P0F="F" P04="T" P05="F" N0K="P" D00="2015-03-10" D05="2016-03-10" SB2="ET" SB3="ECONOMY TEST" SC0="EYU" SC2="U.A.E TO THE WORLD">
                <BKC B30="Y" Q13="8" B31="Y" B52="YOW11IN10" Q3S="9" SB2="ET"/>
                <FAT PAW="T" N1L="F" Q0D="2" P2F="T"/>
                <FDS A01="AUH" A02="SYD" A11="AUH" A12="SYD" P2M="T" PAW="T" P0F="F" Q0D="2" B30="Y" Q13="8" B31="Y" P2F="T"/>
                <CAT>7 8 9 10 16 19 23</CAT>
              </FDC>
              <FDC Q20="11" A01="SYD" A02="YEG" A11="SYD" A12="YEA" B00="VA" B50="NLFFWEBIN" B70="INF" C40="AUD" C50="94.21" C51="113.00" A60="PA" S70="FR" P0F="F" P04="T" P05="F" N0K="P" D00="2015-03-17" D05="2016-03-10" SB2="SV" SB3="SAVER" SC0="VAG" SC2="LONG HAUL - LEVEL 1">
                <BKC B30="N" Q13="8" B31="Y" B52="NLFFWEBIN" Q3S="9" SB2="SV"/>
                <BKC B30="G" Q13="8" B31="Y" B52="NLFFWEBIN" Q3S="9" SB2="SV"/>
                <SUR A01="SYD" A02="LAX" N0F="Q" C40="NUC" C69="13.13" S03="MISCELLANEOUS/OTHER"/>
                <FAT PAW="T" N1L="F" Q0D="2"/>
                <FAT PAW="T" Q0D="2" P2F="T"/>
                <FDS A01="SYD" A02="LAX" A11="SYD" A12="LAX" P2M="T" PAW="T" P0F="F" Q0D="2" B30="N" Q13="8" B31="Y"/>
                <FDS A01="LAX" A02="YEG" A11="LAX" A12="YEA" P2H="T" PAW="T" P0F="F" Q0D="2" B30="G" Q13="8" B31="Y" P2F="T"/>
                <CAT>3 4 5 7 8 9 10 15 16 18 19</CAT>
              </FDC>
              <TAD C40="USD">
                <TAX BC0="US2" C6B="17.70" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="SYD" C41="USD" C6A="17.70" A40="US"/>
                <TAX BC0="US2" C6B="17.70" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="LAX" C41="USD" C6A="17.70" A40="US"/>
                <TAX BC0="YC" C6B="5.50" S04="US CUSTOMS USER FEE" S05="SYD" C41="USD" C6A="5.50" A40="US"/>
                <TAX BC0="XY" C6B="7.00" S04="US FEDERAL INSPECTION FEE" S05="SYD" C41="USD" C6A="7.00" A40="US"/>
                <TAX BC0="XA" C6B="5.00" S04="US APHIS USER FEE" S05="SYD" C41="USD" C6A="5.00" A40="US"/>
                <TAX BC0="AY" C6B="5.60" S04="US SECURITY FEE" S05="LAX" C41="USD" C6A="5.60" A40="US"/>
                <TSM BC0="US2" C6B="35.40" S05="SYD" S04="US INTERNATIONAL TRANSPORTATION TAX" C6A="17.70" C41="USD" A40="US"/>
                <TSM BC0="YC" C6B="5.50" S05="SYD" S04="US CUSTOMS USER FEE" C6A="5.50" C41="USD" A40="US"/>
                <TSM BC0="XY" C6B="7.00" S05="SYD" S04="US FEDERAL INSPECTION FEE" C6A="7.00" C41="USD" A40="US"/>
                <TSM BC0="XA" C6B="5.00" S05="SYD" S04="US APHIS USER FEE" C6A="5.00" C41="USD" A40="US"/>
                <TSM BC0="AY" C6B="5.60" S05="LAX" S04="US SECURITY FEE" C6A="5.60" C41="USD" A40="US"/>
              </TAD>
              <CCD C41="AED" C42="USD" C54="3.6732" Q05="4" N02="O"/>
              <MSG N06="N" Q0K="0" B00="VA">NON ENDORSABLE</MSG>
              <MSG N06="W" Q0K="0">EACH INF REQUIRES ACCOMPANYING ADT PASSENGER</MSG>
              <MSG N06="W" Q0K="0" Q0M="D">VALIDATING CARRIER - VA</MSG>
              <MSG N06="W" Q0K="0" Q0M="D">CAT 15 SALES RESTRICTIONS FREE TEXT FOUND - VERIFY RULES</MSG>
            </PSG>
            <TOT C43="NUC" C5E="10665.61" C40="AED" C5A="39190" C45="USD" C5F="10669.00" C46="USD" C65="531.10" C56="11200.10"/>
            <VCL SM0="ARC" VC0="T">
              <DCX B00="VA"/>
            </VCL>
            <MMS I10="F"/>
          </ITN>
        </ShoppingResponse><br>
Files updated:
        Common/FallBack.cpp
        Pricing/GroupFarePathFactory.cpp
Unit tests files:
        N/A
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Piotr Bartosik
Code reviewers: Piotr Szyba, Robert Olejnik
BA: 
QA: ?ukasz Rak

Title: P_94769  - Total Price Concept  - hardening
Date: 02/25/2015
Description:
        The delivery fixes a problem with exception handling during YQ/YR precalculation for Total Price. Before the fix an exception reported by data access layer could be mishandled and could kill the server.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        Server down
Example after:
        Server unable to handle transaction.
Files updated:
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [X] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Cholewiak
Code reviewers: Grzegorz Lisowski
BA: 
QA: 

Title: [Tech initiative] Falback removal
Date: 02/26/2015
Description:
        FALLBACK_SECTION\APM530_MISSED_FARES
            FALLBACK_SECTION\APO13723_DISC_CURRNCY
            FALLBACK_SECTION\APO35426_INHIBIT_FOR_ADDON
            FALLBACK_SECTION\APO36179_SEASONALITY_FQ
            FALLBACK_SECTION\APO36527_CMD_PRICING
            FALLBACK_SECTION\APO36559_WPRD_MULTIAIRPORT
            FALLBACK_SECTION\FALLBACK_BC_SET_F_WHEN_RET_PASS
            FALLBACK_SECTION\FALLBACK_CAT_10_OVERIDE_CAT_25_PHASE_1
            FALLBACK_SECTION\FALLBACK_CAT_10_OVERIDE_CAT_25_PHASE_2
            FALLBACK_SECTION\FALLBACK_NUM_FARES_FOR_CAT12_ESTIMATION_FROM_REQUEST
            FALLBACK_SECTION\LDC_EXCEPTION
            FALLBACK_SECTION\ROUTING_DAO_OPT<br>
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        <FAM=atsev2>    tseserver    DYNAMIC_LOADABLE\FALLBACK_SECTION::APM530_MISSED_FARES    Y        =    SCALAR    N/A    N    N    REMOVED
        <FAM=atsev2>    tseserver    DYNAMIC_LOADABLE\FALLBACK_SECTION::APO13723_DISC_CURRNCY    Y        =    SCALAR    N/A    N    N    REMOVED
        <FAM=atsev2>    tseserver    DYNAMIC_LOADABLE\FALLBACK_SECTION::APO36179_SEASONALITY_FQ    Y        =    SCALAR    N/A    N    N    REMOVED
        <FAM=atsev2>    tseserver    DYNAMIC_LOADABLE\FALLBACK_SECTION::APO36527_CMD_PRICING    Y        =    SCALAR    N/A    N    N    REMOVED
        <FAM=atsev2>    tseserver    DYNAMIC_LOADABLE\FALLBACK_SECTION::APO36559_WPRD_MULTIAIRPORT    Y        =    SCALAR    N/A    N    N    REMOVED
        <FAM=atsev2>    tseserver    DYNAMIC_LOADABLE\FALLBACK_SECTION::FALLBACK_BC_SET_F_WHEN_RET_PASS    Y        =    SCALAR    N/A    N    N    REMOVED
        <FAM=atsev2>    tseserver    DYNAMIC_LOADABLE\FALLBACK_SECTION::FALLBACK_CAT_10_OVERIDE_CAT_25_PHASE_1    Y    Dynamic    =    SCALAR    N/A    N    N    REMOVED
        <FAM=atsev2>    tseserver    DYNAMIC_LOADABLE\FALLBACK_SECTION::FALLBACK_CAT_10_OVERIDE_CAT_25_PHASE_2    Y        =    SCALAR    N/A    N    N    REMOVED
        <FAM=atsev2>    tseserver    DYNAMIC_LOADABLE\FALLBACK_SECTION::FALLBACK_NUM_FARES_FOR_CAT12_ESTIMATION_FROM_REQUEST    Y        =    SCALAR    N/A    N    N    REMOVED
        <FAM=atsev2>    tseserver    FALLBACK_SECTION\APM530_MISSED_FARES    N        =    SCALAR    N/A    N    N    REMOVED
        <FAM=atsev2>    tseserver    FALLBACK_SECTION\APO13723_DISC_CURRNCY    N        =    SCALAR    N/A    N    N    REMOVED
        <FAM=atsev2>    tseserver    FALLBACK_SECTION\APO35426_INHIBIT_FOR_ADDON    N        =    SCALAR    N/A    N    N    REMOVED
        <FAM=atsev2>    tseserver    FALLBACK_SECTION\APO36179_SEASONALITY_FQ    N        =    SCALAR    N/A    N    N    REMOVED
        <FAM=atsev2>    tseserver    FALLBACK_SECTION\APO36527_CMD_PRICING    N        =    SCALAR    N/A    N    N    REMOVED
        <FAM=atsev2>    tseserver    FALLBACK_SECTION\APO36559_WPRD_MULTIAIRPORT    N        =    SCALAR    N/A    N    N    REMOVED
        <FAM=atsev2>    tseserver    FALLBACK_SECTION\FALLBACK_BC_SET_F_WHEN_RET_PASS    N        =    SCALAR    N/A    N    N    REMOVED
        <FAM=atsev2>    tseserver    FALLBACK_SECTION\FALLBACK_CAT_10_OVERIDE_CAT_25_PHASE_1    N    fallbackCat10OverrideCat25Phase1    =    SCALAR    N/A    N    N    REMOVED
        <FAM=atsev2>    tseserver    FALLBACK_SECTION\FALLBACK_CAT_10_OVERIDE_CAT_25_PHASE_2    N        =    SCALAR    N/A    N    N    REMOVED
        <FAM=atsev2>    tseserver    FALLBACK_SECTION\FALLBACK_NUM_FARES_FOR_CAT12_ESTIMATION_FROM_REQUEST    N        =    SCALAR    N/A    N    N    REMOVED
        <FAM=atsev2>    tseserver    FALLBACK_SECTION\LDC_EXCEPTION    N        =    SCALAR    N/A    N    N    REMOVED
        <FAM=atsev2>    tseserver    FALLBACK_SECTION\ROUTING_DAO_OPT    N        =    SCALAR    N/A    N    N    REMOVED
Resolution/QA recommendation:
        N/A
Entry/XML to recreate:
        N/A
Example before:
        N/A
Example after:
        N/A
Files updated:
        BookingCode/FareBookingCodeValidator.cpp
        BookingCode/MixedClassController.cpp
        BrandedFares/S8BrandingResponseParser.cpp
        Common/BrandingUtil.cpp
        Common/FallBack.cpp
        Common/TrxUtil.cpp
        Common/ValidatingCxrUtil.cpp
        DBAccess/DiskCache.cpp
        DBAccess/FDAddOnFareDAO.cpp
        DBAccess/Queries/QueryGetMarketSQLStatement.h
        DBAccess/Queries/QueryGetRoutingSQLStatement.h
        DataModel/ERDFareComp.cpp
        DataModel/ExcItin.cpp
        DataModel/FarePath.h
        DataModel/PaxTypeFare.h
        DataModel/RexPricingTrx.cpp
        Diagnostic/Diag535Collector.cpp
        Diagnostic/Diag923Collector.cpp
        Diagnostic/DiagCollector.cpp
        Fares/DiscountedFareController.cpp
        Fares/NegFareCalc.cpp
        FreeBagService/AllowanceDataStrategy.cpp
        FreeBagService/AncillaryResultProcessor.h
        FreeBagService/BaggageItinAnalyzer.cpp
        FreeBagService/FreeBagService.cpp
        ItinAnalyzer/ExcItinUtil.cpp
        ItinAnalyzer/ItinAnalyzerServiceShopping.cpp
        ItinAnalyzer/ItinAnalyzerUtils.cpp
        Pricing/Combinations.cpp
        Pricing/CombinationsSubCat106.cpp
        Pricing/PUPathMatrix.cpp
        Pricing/PaxFarePathFactory.cpp
        Pricing/PaxFarePathFactory.h
        Pricing/PreserveRestoreRuleBasedFares.cpp
        Pricing/PreserveRestoreRuleBasedFares.h
        Pricing/PricingOrchestrator.cpp
        Pricing/PricingUnitFactory.cpp
        Pricing/PricingUnitFactoryOld.cpp
        Pricing/Shopping/IBF/V2IbfManager.cpp
        Pricing/Shopping/PQ/SoloSurcharges.cpp
        Pricing/test/PreserveRestoreRuleBasedFaresTest.cpp
        Rules/AdvanceResTkt.cpp
        Rules/CategoryRuleItem.cpp
        Rules/Commissions.cpp
        Rules/NegotiatedFareRuleUtil.cpp
        Rules/SalesRestrictionRule.cpp
        Rules/StopoverMaxExceeed.cpp
        Rules/SurchargesRule.cpp
        Rules/Transfers1.cpp
        Taxes/LegacyTaxes/AdjustTax.cpp
        Taxes/LegacyTaxes/TaxCA01.cpp
        Taxes/LegacyTaxes/TaxItem.cpp
        Taxes/LegacyTaxes/TaxSW03.cpp
        Taxes/LegacyTaxes/TaxSW1_03.cpp
        Taxes/LegacyTaxes/TaxZP_00.cpp
        TicketingFee/SecurityValidator.cpp
        Xform/AncillaryBaggageResponseFormatter.cpp
        Xform/AncillaryPricingResponseFormatterPostTkt.cpp
        Xform/FareDisplayResponseFormatter.cpp
        Xform/STLTktFeesPricingResponseFormatter.cpp
        Xform/XMLShoppingHandler.cpp
        Xform/XMLShoppingSoloCarnivalResponse.cpp
        Xform/XformClientXML.cpp
        Xform/XformTaxXML.cpp<br>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Slawomir Machowicz
Code reviewers: N/A
BA: N/A
QA: N/A


Title: [Exchange][cat35+mum]  SSDAREX-66: Missing Fare Calc in ERIR Lrec 80
Date: 02/26/2015
Description:
        Fix jira log
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_SECTION.EXCHANGE_CAT35_AND_MARK_UP_MANAGER
Resolution/QA recommendation:
        regression
Entry/XML to recreate:
        <REXPRICINGREQUEST S96="AR" SA8="FE" N25="A" N26="A">
          <AGI A10="DFW" A20="97Q7" A21="97Q7" AB0="9999999" AB1="9999999" A90="H3=" N0G="*" A80="97Q7" B00="1S" C40="USD" Q01="34" AE0="1S" />
          <BIL S0R="PSS" A20="97Q7" AE0="AA" AD0="024F91" A22="97Q7" AA0="H3=" C20="INTLCT31" C01="111736472199172609" A70="WFR" />
          <PRO B05="AA" C45="USD" D92="2015-02-23" D93="2015-02-23" D07="2015-02-23" D54="0292" PBK="T" AE0="AA" PBZ="T" Q0P="1" C5A="45.00" PCG="N" S11="ZAM01" Q16="03" P0J="T" SM0="ARC" RTW="F" S13="FBYOVS" S14="WF" S15="CRSAGT" AP1="DFW" P69="T" C10="" />
          <PXI B70="ADT" Q0U="01" Q79="01" />
          <EXC>
            <AGI A10="DFW" A20="97Q7" A80="97Q7" A21="97Q7" AB0="9999999" AB1="9999999" A90="SYK" N0G="*" B00="1S" C40="USD" AE0="1S" />
            <PRO B05="AA" C6P="USD" C6Y="USD" D92="2015-02-23" D07="2015-02-23" D54="0292" PBK="T" AE0="AA" PBZ="T" Q0P="1" C5A="45.00" PCG="F" S11="ZAM01" Q16="03" P0J="F" PY6="T" S13="FBYOVS" S14="WF" S15="CRSAGT" P59="T" P60="T" P69="T" />
            <PXI B70="ADT" Q0U="01" />
            <SGI Q0C="01" B50="MC35MUM" C50="22.50" A01="DFW" A02="MIA" Q6D="01" PCI="F" S89="900" S90="001Y" S37="15X0" P74="T" C48="USD" B09="AA">
              <FLI Q0C="01" N03="A" B00="AA" B01="AA" A01="DFW" A02="MIA" B30="M" D01="2015-02-28" Q0B="1462" D02="2015-02-28" D00="2015-02-23" D30="0725" D31="0725" D32="0944" BB2="HK" BB0="OK" />
            </SGI>
            <SGI Q0C="02" B50="MC35MUM" C50="22.50" A01="MIA" A02="DFW" Q6D="02" PCI="F" S89="900" S90="001Y" S37="15X0" P74="T" C48="USD" B09="AA">
              <FLI Q0C="02" N03="A" B00="AA" B01="AA" A01="MIA" A02="DFW" B30="M" D01="2015-03-07" Q0B="1605" D02="2015-03-07" D00="2015-02-23" D30="0810" D31="0810" D32="0949" BB2="HK" BB0="OK" />
            </SGI>
          </EXC>
          <SGI Q0C="01" A01="DFW" A02="MIA" PCI="F" C48="USD">
            <FLI Q0C="01" N03="A" B00="AA" B01="AA" A01="DFW" A02="MIA" B30="B" D01="2015-02-28" Q0B="1462" D02="2015-02-28" D00="2015-02-23" D30="0150" D31="0725" D32="0944" BB2="HK" BB0="OK" />
          </SGI>
          <SGI Q0C="02" A01="MIA" A02="DFW" PCI="F" C48="USD">
            <FLI Q0C="02" N03="A" B00="AA" B01="AA" A01="MIA" A02="DFW" B30="B" D01="2015-03-07" Q0B="1605" D02="2015-03-07" D00="2015-02-23" D30="0150" D31="0810" D32="0949" BB2="HK" BB0="OK" />
          </SGI>
          <RES>
            <IDS B00="AA" Q0B="1462" B30="B" D01="2015-02-28" D31="1205" A01="DFW" D02="2015-02-28" D32="1544" A02="MIA" A70="HK" Q0U="01" N0V="J" P2X="ET" />
            <IDS B00="AA" Q0B="1605" B30="B" D01="2015-03-07" D31="1330" A01="MIA" D02="2015-03-07" D32="1549" A02="DFW" A70="HK" Q0U="01" N0V="J" P2X="ET" />
            <POC A03="DFW" D01="2015-02-28" D02="1205" />
          </RES>
        </REXPRICINGREQUEST>
Example before:
        <RexPricingResponse S96="AR">
          <AGI A10="DFW" A20="97Q7" A21="97Q7" AB0="9999999" AB1="9999999" A90="H3=" N0G="*" A80="97Q7" B00="1S" C40="USD" Q01="34" AE0="1S" />
          <BIL A20="97Q7" AE0="AA" AD0="024F91" C20="INTLCT31" A22="97Q7" AA0="H3=" A70="WFRAR" />
          <SUM C56="171.00" C40="USD" Q6F="0" D07="2015-02-23" D54="292" S69="SITI" AO0="DFW" AF0="DFW" B00="AA" N27="2" D95="2015-02-23" T95="04:52" PBC="F" PAR="F" S79="pithli120">
            <VCL P3L="F" SM0="ARC" VC0="T">
              <DCX B00="AA" TT0="ETKTPREF" />
            </VCL>
            <PXI B70="ADT" C43="USD" C5E="171.00" C5N="95.00" PY6="T" S85="ADT 1 ADT 0 2 1 1 8 BC35MUM 001Y 900 B  2 2 8 BC35MUM 001Y 900 B " PBS="F" USI="3" B71="ADT" Q4P="1" C40="USD" C5A="171.00" C54="1.00000000000000" Q05="13" C46="USD" C66="212.02" C5P="130.32" C65="41.02" C5O="35.32" C5D="999.9999" C5B="76.00" C64="41.02" S66="DFW AA MIA85.50AA DFW85.50USD171.00END ZPDFWMIA XFDFW4.5MIA4.5" P27="T" NRA="171.00" S83="15X0" P26="T" S01="IT" C62="95.00" C5G="95.00" C5M="95.00" C61="999.9999" C60="76.00" Q0W="1" Q0V="0">
              <MSG N06="N" Q0K="0" S18="USD171.00 NONREFUNDABLE" />
              <MSG N06="N" Q0K="0" B00="AA" S18="SABRE TEST FARE" />
              <MSG N06="W" Q0K="0" S18="PRIVATE FARE APPLIED - CHECK RULES FOR CORRECT TICKETING" />
              <MSG N06="W" Q0K="0" S18="VALIDATING CARRIER SPECIFIED - AA" />
              <MSG N06="W" Q0K="0" S18="CAT 15 SALES RESTRICTIONS FREE TEXT FOUND - VERIFY RULES" />
              <MSG N06="B" Q0K="0" S18="BAG ALLOWANCE     -DFWMIA-NIL/AA" />
              <MSG N06="B" Q0K="0" S18="1STCHECKED BAG FEE-DFWMIA-USD25.00/AA/UP TO 50 POUNDS/23 KILOGR" />
              <MSG N06="B" Q0K="0" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="2NDCHECKED BAG FEE-DFWMIA-USD35.00/AA/UP TO 50 POUNDS/23 KILOGR" />
              <MSG N06="B" Q0K="0" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="BAG ALLOWANCE     -MIADFW-NIL/AA" />
              <MSG N06="B" Q0K="0" S18="1STCHECKED BAG FEE-MIADFW-USD25.00/AA/UP TO 50 POUNDS/23 KILOGR" />
              <MSG N06="B" Q0K="0" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="2NDCHECKED BAG FEE-MIADFW-USD35.00/AA/UP TO 50 POUNDS/23 KILOGR" />
              <MSG N06="B" Q0K="0" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="CARRY ON ALLOWANCE" />
              <MSG N06="B" Q0K="0" S18="DFWMIA MIADFW-02P/AA" />
              <MSG N06="B" Q0K="0" S18="01/SMALL PERSONAL ITEM" />
              <MSG N06="B" Q0K="0" S18="01/UP TO 45 LINEAR INCHES/115 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY DEPENDING ON" />
              <MSG N06="B" Q0K="0" S18="FLYER-SPECIFIC FACTORS /E.G. FREQUENT FLYER STATUS/MILITARY/" />
              <MSG N06="B" Q0K="0" S18="CREDIT CARD FORM OF PAYMENT/EARLY PURCHASE OVER INTERNET,ETC./" />
              <MSG N06="B" Q0K="0" S18="EMBARGOES-APPLY TO EACH PASSENGER" />
              <MSG N06="B" Q0K="0" S18="DFWMIA MIADFW-AA" />
              <MSG N06="B" Q0K="0" S18="OVER 100 POUNDS/45 KILOGRAMS NOT PERMITTED" />
              <TAX BC0="US1" C6B="12.82" C40="USD" S05="DFW" S04="US DOMESTIC TRANSPORTATION TAX" C6A="0.07" C41="USD" A40="US" />
              <TAX BC0="ZP" C6B="8.00" C40="USD" S05="DFW" S04="SEGMENT TAX" C6A="4.00" C41="USD" A40="US" />
              <TAX BC0="AY" C6B="11.20" C40="USD" S05="DFW" S04="US SECURITY FEE" C6A="5.60" C41="USD" A40="US" />
              <TAX BC0="XF" C6B="9.00" C40="USD" S04="PASSENGER FACILITY CHARGE" C6A="4.50" C41="USD" A40="US" />
              <TBD BC0="US1" C6B="6.41" C41="USD" C6A="6.41" A04="AA" S05="DFW" C40="USD" A06="P" A40="US" S04="US DOMESTIC TRANSPORTATION TAX" PXF="F" PXG="F" PXH="T" A05="P" C6F="0.075" />
              <TBD BC0="US1" C6B="6.41" C41="USD" C6A="6.41" A04="AA" S05="MIA" C40="USD" A06="P" A40="US" S04="US DOMESTIC TRANSPORTATION TAX" PXF="F" PXG="F" PXH="T" A05="P" C6F="0.075" />
              <TBD BC0="ZP" C6B="4.00" C41="USD" C6A="4.00" A04="AA" S05="DFW" C40="USD" A06="F" A40="US" S04="SEGMENT TAX" PXF="F" PXG="F" PXH="T" A05="F" C6F="4.00" />
              <TBD BC0="ZP" C6B="4.00" C41="USD" C6A="4.00" A04="AA" S05="MIA" C40="USD" A06="F" A40="US" S04="SEGMENT TAX" PXF="F" PXG="F" PXH="T" A05="F" C6F="4.00" />
              <TBD BC0="AY" C6B="5.60" C41="USD" C6A="5.60" A04="AA" S05="DFW" C40="USD" A06="F" A40="US" S04="US SECURITY FEE" PXF="F" PXG="F" PXH="T" A05="F" C6E="11.20" C47="USD" C6F="5.60" />
              <TBD BC0="AY" C6B="5.60" C41="USD" C6A="5.60" A04="AA" S05="MIA" C40="USD" A06="F" A40="US" S04="US SECURITY FEE" PXF="F" PXG="F" PXH="T" A05="F" C6E="11.20" C47="USD" C6F="5.60" />
              <TBD BC0="XF" C6B="4.50" C40="USD" C6A="4.50" S05="DFW" A40="US" S04="PASSENGER FACILITY CHARGES" C41="USD" />
              <TBD BC0="XF" C6B="4.50" C40="USD" C6A="4.50" S05="MIA" A40="US" S04="PASSENGER FACILITY CHARGES" C41="USD" />
              <CAL A11="DFW" A01="DFW" B08="AA" A12="MIA" A02="MIA" C50="85.50" B50="BC35MUM" Q04="7" C5R="47.50" B71="ADT" B02="AA" N00="Y" A41="US" A51="1" A31="USTX" A42="US" A52="1" A32="USFL" C51="85.50" C40="USD" P04="F" P05="T" D00="2015-02-28" N0K="N" P2M="F" PAY="F" PAZ="T" Q4J="1" N1K="R" S70="FR" A60="WH" AC0="ZAM01" FTY="0C" S53="EAP">
                <CAT>1 10 14 15 16 18 35</CAT>
                <SEG A11="DFW" C6I="DFW" A12="MIA" A02="MIA" S37="15X0" B09="AA" S89="900" S90="001Y" P72="B" Q0Z="01" S12="WH" C11="US" C12="US" C13="D" D06="2015-02-28" D05="2015-02-28" P2F="T" P2I="F" PAW="T" B00="AA" B01="AA" N00="Y" N1L="L" SHR="32B" P2M="T" P2H="F" Q0Y="1" B20="NI" N0D=" " P26="F" PAX="F" />
              </CAL>
              <CAL A11="MIA" A01="MIA" B08="AA" A12="DFW" A02="DFW" C50="85.50" B50="BC35MUM" Q04="7" C5R="47.50" B71="ADT" B02="AA" N00="Y" A41="US" A51="1" A31="USFL" A42="US" A52="1" A32="USTX" C51="85.50" C40="USD" P04="F" P05="T" D00="2015-02-28" N0K="N" P2M="F" PAY="F" PAZ="T" Q4J="1" N1K="R" S70="TO" A60="WH" AC0="ZAM01" FTY="0C" S53="EAP">
                <CAT>1 10 14 15 16 18 35</CAT>
                <SEG A11="MIA" C6I="MIA" A12="DFW" A02="DFW" S37="15X0" B09="AA" S89="900" S90="001Y" P72="B" Q0Z="02" S12="WH" C11="US" C12="US" C13="D" D06="2015-03-07" D05="2015-03-07" P2F="T" P2I="F" PAW="T" B00="AA" B01="AA" N00="Y" N1L="L" SHR="757" P2M="T" P2H="F" Q0Y="1" B20="NI" N0D=" " P26="F" PAX="F" />
              </CAL>
              <NET C61="999.9999" C60="0.00" />
              <NET>
                <TAX BC0="US1" C6B="7.12" C40="USD" S05="DFW" S04="US DOMESTIC TRANSPORTATION TAX" C6A="0.07" C41="USD" A40="US" />
                <TAX BC0="ZP" C6B="8.00" C40="USD" S05="DFW" S04="SEGMENT TAX" C6A="4.00" C41="USD" A40="US" />
                <TAX BC0="AY" C6B="11.20" C40="USD" S05="DFW" S04="US SECURITY FEE" C6A="5.60" C41="USD" A40="US" />
                <TAX BC0="XF" C6B="9.00" C40="USD" S04="PASSENGER FACILITY CHARGE" C6A="4.50" C41="USD" A40="US" />
                <TBD BC0="US1" C6B="3.56" C41="USD" C6A="3.56" A04="AA" S05="DFW" C40="USD" A06="P" A40="US" S04="US DOMESTIC TRANSPORTATION TAX" PXF="F" PXG="F" PXH="T" A05="P" C6F="0.075" />
                <TBD BC0="US1" C6B="3.56" C41="USD" C6A="3.56" A04="AA" S05="MIA" C40="USD" A06="P" A40="US" S04="US DOMESTIC TRANSPORTATION TAX" PXF="F" PXG="F" PXH="T" A05="P" C6F="0.075" />
                <TBD BC0="ZP" C6B="4.00" C41="USD" C6A="4.00" A04="AA" S05="DFW" C40="USD" A06="F" A40="US" S04="SEGMENT TAX" PXF="F" PXG="F" PXH="T" A05="F" C6F="4.00" />
                <TBD BC0="ZP" C6B="4.00" C41="USD" C6A="4.00" A04="AA" S05="MIA" C40="USD" A06="F" A40="US" S04="SEGMENT TAX" PXF="F" PXG="F" PXH="T" A05="F" C6F="4.00" />
                <TBD BC0="AY" C6B="5.60" C41="USD" C6A="5.60" A04="AA" S05="DFW" C40="USD" A06="F" A40="US" S04="US SECURITY FEE" PXF="F" PXG="F" PXH="T" A05="F" C6E="11.20" C47="USD" C6F="5.60" />
                <TBD BC0="AY" C6B="5.60" C41="USD" C6A="5.60" A04="AA" S05="MIA" C40="USD" A06="F" A40="US" S04="US SECURITY FEE" PXF="F" PXG="F" PXH="T" A05="F" C6E="11.20" C47="USD" C6F="5.60" />
                <TBD BC0="XF" C6B="4.50" C40="USD" C6A="4.50" S05="DFW" A40="US" S04="PASSENGER FACILITY CHARGES" C41="USD" />
                <TBD BC0="XF" C6B="4.50" C40="USD" C6A="4.50" S05="MIA" A40="US" S04="PASSENGER FACILITY CHARGES" C41="USD" />
              </NET>
              <ABL D16="20150116" S88="                              " S89="900    " S90="001Y" S83="15X0 " B02="AA" A20="15X0" B50="BC35MUM        " A11="DFW" A12="MIA" />
              <REX N1X="I" N20=" " PXM="F" PXY="F" PXZ="F">
                <CHG PXJ="T" C77="150.00" C78="USD" PXL="F" PXK="F" />
              </REX>
              <BDI BPT="A" SFK="AA" SHK="0DFAAAA" BPC="0">
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="C" SFK="AA" SHK="0GOACAA" OC1="1" OC2="1">
                <PFF N41="4" N45="N" P03="N" P04="Y" B70="ADT" C50="25.00" C51="25.00" C5A="USD" C52="25.00" C5B="USD" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="C" SFK="AA" SHK="0GOACAA" OC1="2" OC2="2">
                <PFF N41="4" N45="N" P03="N" P04="Y" B70="ADT" C50="35.00" C51="35.00" C5A="USD" C52="35.00" C5B="USD" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="A" SFK="AA" SHK="0DFAAAA" BPC="0">
                <Q00>2</Q00>
              </BDI>
              <BDI BPT="C" SFK="AA" SHK="0GOACAA" OC1="1" OC2="1">
                <PFF N41="4" N45="N" P03="N" P04="Y" B70="ADT" C50="25.00" C51="25.00" C5A="USD" C52="25.00" C5B="USD" />
                <Q00>2</Q00>
              </BDI>
              <BDI BPT="C" SFK="AA" SHK="0GOACAA" OC1="2" OC2="2">
                <PFF N41="4" N45="N" P03="N" P04="Y" B70="ADT" C50="35.00" C51="35.00" C5A="USD" C52="35.00" C5B="USD" />
                <Q00>2</Q00>
              </BDI>
              <BDI BPT="B" SFK="AA" SHK="0LNABAA" BPC="2">
                <ITR BPC="1" SHK="0L5ACAA" />
                <ITR BPC="1" SHK="0MUACAA" />
                <Q00>1</Q00>
                <Q00>2</Q00>
              </BDI>
              <BDI BPT="E" SFK="AA" SHK="0DQAEAA">
                <PFF N41=" " P01="T" N43="X" B70="ADT" C51="0.00" C5B="USD" />
                <Q00>1</Q00>
                <Q00>2</Q00>
              </BDI>
            </PXI>
          </SUM>
          <SUM C56="81.00" C40="USD" Q6F="1" D07="2015-02-23" D54="292" S69="SITI" AO0="DFW" AF0="DFW" B00="AA" N27="1" D95="2015-02-23" PBC="F" PAR="F" S79="pithli120">
            <VCL P3L="F" SM0="ARC" VC0="T">
              <DCX B00="AA" TT0="ETKTPREF" />
            </VCL>
            <PXI B70="ADT" C43="USD" C5E="81.00" C5N="45.00" PY6="T" S85="ADT 1 ADT 0 2 1 1 8 MC35MUM 001Y 900 M  2 2 8 MC35MUM 001Y 900 M " PBS="F" USI="3" B71="ADT" Q4P="1" C40="USD" C5A="81.00" C54="1.00000000000000" Q05="13" C46="USD" C66="115.28" C5P="76.58" C65="34.28" C5O="31.58" C5D="999.9999" C5B="36.00" C64="34.28" S66="DFW AA MIA40.50AA DFW40.50USD81.00END ZPDFWMIA XFDFW4.5MIA4.5" P27="T" NRA="81.00" S83="15X0" P26="T" S01="IT" C62="45.00" C5G="45.00" C5M="45.00" C61="999.9999" C60="36.00" Q0W="1" Q0V="0">
              <MSG N06="N" Q0K="0" S18="USD81.00 NONREFUNDABLE" />
              <MSG N06="N" Q0K="0" B00="AA" S18="SABRE TEST FARE" />
              <MSG N06="W" Q0K="0" S18="PRIVATE FARE APPLIED - CHECK RULES FOR CORRECT TICKETING" />
              <MSG N06="W" Q0K="0" S18="VALIDATING CARRIER SPECIFIED - AA" />
              <MSG N06="W" Q0K="0" S18="CAT 15 SALES RESTRICTIONS FREE TEXT FOUND - VERIFY RULES" />
              <MSG N06="B" Q0K="0" S18="BAG ALLOWANCE     -DFWMIA-NIL/AA" />
              <MSG N06="B" Q0K="0" S18="1STCHECKED BAG FEE-DFWMIA-USD25.00/AA/UP TO 50 POUNDS/23 KILOGR" />
              <MSG N06="B" Q0K="0" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="2NDCHECKED BAG FEE-DFWMIA-USD35.00/AA/UP TO 50 POUNDS/23 KILOGR" />
              <MSG N06="B" Q0K="0" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="BAG ALLOWANCE     -MIADFW-NIL/AA" />
              <MSG N06="B" Q0K="0" S18="1STCHECKED BAG FEE-MIADFW-USD25.00/AA/UP TO 50 POUNDS/23 KILOGR" />
              <MSG N06="B" Q0K="0" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="2NDCHECKED BAG FEE-MIADFW-USD35.00/AA/UP TO 50 POUNDS/23 KILOGR" />
              <MSG N06="B" Q0K="0" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="CARRY ON ALLOWANCE" />
              <MSG N06="B" Q0K="0" S18="DFWMIA MIADFW-02P/AA" />
              <MSG N06="B" Q0K="0" S18="01/SMALL PERSONAL ITEM" />
              <MSG N06="B" Q0K="0" S18="01/UP TO 45 LINEAR INCHES/115 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY DEPENDING ON" />
              <MSG N06="B" Q0K="0" S18="FLYER-SPECIFIC FACTORS /E.G. FREQUENT FLYER STATUS/MILITARY/" />
              <MSG N06="B" Q0K="0" S18="CREDIT CARD FORM OF PAYMENT/EARLY PURCHASE OVER INTERNET,ETC./" />
              <MSG N06="B" Q0K="0" S18="EMBARGOES-APPLY TO EACH PASSENGER" />
              <MSG N06="B" Q0K="0" S18="DFWMIA MIADFW-AA" />
              <MSG N06="B" Q0K="0" S18="OVER 100 POUNDS/45 KILOGRAMS NOT PERMITTED" />
              <MSG N06="W" Q0K="0" S18="CHANGE BOOKING CLASS -   1M 2M" />
              <TAX BC0="US1" C6B="6.08" C40="USD" S05="DFW" S04="US DOMESTIC TRANSPORTATION TAX" C6A="0.07" C41="USD" A40="US" />
              <TAX BC0="ZP" C6B="8.00" C40="USD" S05="DFW" S04="SEGMENT TAX" C6A="4.00" C41="USD" A40="US" />
              <TAX BC0="AY" C6B="11.20" C40="USD" S05="DFW" S04="US SECURITY FEE" C6A="5.60" C41="USD" A40="US" />
              <TAX BC0="XF" C6B="9.00" C40="USD" S04="PASSENGER FACILITY CHARGE" C6A="4.50" C41="USD" A40="US" />
              <TBD BC0="US1" C6B="3.04" C41="USD" C6A="3.04" A04="AA" S05="DFW" C40="USD" A06="P" A40="US" S04="US DOMESTIC TRANSPORTATION TAX" PXF="F" PXG="F" PXH="T" A05="P" C6F="0.075" />
              <TBD BC0="US1" C6B="3.04" C41="USD" C6A="3.04" A04="AA" S05="MIA" C40="USD" A06="P" A40="US" S04="US DOMESTIC TRANSPORTATION TAX" PXF="F" PXG="F" PXH="T" A05="P" C6F="0.075" />
              <TBD BC0="ZP" C6B="4.00" C41="USD" C6A="4.00" A04="AA" S05="DFW" C40="USD" A06="F" A40="US" S04="SEGMENT TAX" PXF="F" PXG="F" PXH="T" A05="F" C6F="4.00" />
              <TBD BC0="ZP" C6B="4.00" C41="USD" C6A="4.00" A04="AA" S05="MIA" C40="USD" A06="F" A40="US" S04="SEGMENT TAX" PXF="F" PXG="F" PXH="T" A05="F" C6F="4.00" />
              <TBD BC0="AY" C6B="5.60" C41="USD" C6A="5.60" A04="AA" S05="DFW" C40="USD" A06="F" A40="US" S04="US SECURITY FEE" PXF="F" PXG="F" PXH="T" A05="F" C6E="11.20" C47="USD" C6F="5.60" />
              <TBD BC0="AY" C6B="5.60" C41="USD" C6A="5.60" A04="AA" S05="MIA" C40="USD" A06="F" A40="US" S04="US SECURITY FEE" PXF="F" PXG="F" PXH="T" A05="F" C6E="11.20" C47="USD" C6F="5.60" />
              <TBD BC0="XF" C6B="4.50" C40="USD" C6A="4.50" S05="DFW" A40="US" S04="PASSENGER FACILITY CHARGES" C41="USD" />
              <TBD BC0="XF" C6B="4.50" C40="USD" C6A="4.50" S05="MIA" A40="US" S04="PASSENGER FACILITY CHARGES" C41="USD" />
              <CAL A11="DFW" A01="DFW" B08="AA" A12="MIA" A02="MIA" C50="40.50" B50="MC35MUM" Q04="7" C5R="22.50" B71="ADT" B02="AA" N00="Y" A41="US" A51="1" A31="USTX" A42="US" A52="1" A32="USFL" C51="40.50" C40="USD" P04="F" P05="T" D00="2015-02-28" N0K="N" P2M="F" PAY="F" PAZ="T" Q4J="1" N1K="R" S70="FR" A60="WH" AC0="ZAM01" FTY="0C" S53="EAP">
                <CAT>1 10 14 15 16 18 35</CAT>
                <SEG A11="DFW" C6I="DFW" A12="MIA" A02="MIA" S37="15X0" B09="AA" S89="900" S90="001Y" P72="M" Q0Z="01" S12="WH" C11="US" C12="US" C13="D" D06="2015-02-28" D05="2015-02-28" P2F="T" P2I="F" PAW="T" B00="AA" B01="AA" N00="Y" N1L="L" SHR="32B" P2M="T" P2H="F" Q0Y="1" B20="NI" N0D=" " P26="F" PAX="F" />
              </CAL>
              <CAL A11="MIA" A01="MIA" B08="AA" A12="DFW" A02="DFW" C50="40.50" B50="MC35MUM" Q04="7" C5R="22.50" B71="ADT" B02="AA" N00="Y" A41="US" A51="1" A31="USFL" A42="US" A52="1" A32="USTX" C51="40.50" C40="USD" P04="F" P05="T" D00="2015-02-28" N0K="N" P2M="F" PAY="F" PAZ="T" Q4J="1" N1K="R" S70="TO" A60="WH" AC0="ZAM01" FTY="0C" S53="EAP">
                <CAT>1 10 14 15 16 18 35</CAT>
                <SEG A11="MIA" C6I="MIA" A12="DFW" A02="DFW" S37="15X0" B09="AA" S89="900" S90="001Y" P72="M" Q0Z="02" S12="WH" C11="US" C12="US" C13="D" D06="2015-03-07" D05="2015-03-07" P2F="T" P2I="F" PAW="T" B00="AA" B01="AA" N00="Y" N1L="L" SHR="757" P2M="T" P2H="F" Q0Y="1" B20="NI" N0D=" " P26="F" PAX="F" />
              </CAL>
              <NET C61="999.9999" C60="0.00" />
              <NET>
                <TAX BC0="US1" C6B="3.38" C40="USD" S05="DFW" S04="US DOMESTIC TRANSPORTATION TAX" C6A="0.07" C41="USD" A40="US" />
                <TAX BC0="ZP" C6B="8.00" C40="USD" S05="DFW" S04="SEGMENT TAX" C6A="4.00" C41="USD" A40="US" />
                <TAX BC0="AY" C6B="11.20" C40="USD" S05="DFW" S04="US SECURITY FEE" C6A="5.60" C41="USD" A40="US" />
                <TAX BC0="XF" C6B="9.00" C40="USD" S04="PASSENGER FACILITY CHARGE" C6A="4.50" C41="USD" A40="US" />
                <TBD BC0="US1" C6B="1.69" C41="USD" C6A="1.69" A04="AA" S05="DFW" C40="USD" A06="P" A40="US" S04="US DOMESTIC TRANSPORTATION TAX" PXF="F" PXG="F" PXH="T" A05="P" C6F="0.075" />
                <TBD BC0="US1" C6B="1.69" C41="USD" C6A="1.69" A04="AA" S05="MIA" C40="USD" A06="P" A40="US" S04="US DOMESTIC TRANSPORTATION TAX" PXF="F" PXG="F" PXH="T" A05="P" C6F="0.075" />
                <TBD BC0="ZP" C6B="4.00" C41="USD" C6A="4.00" A04="AA" S05="DFW" C40="USD" A06="F" A40="US" S04="SEGMENT TAX" PXF="F" PXG="F" PXH="T" A05="F" C6F="4.00" />
                <TBD BC0="ZP" C6B="4.00" C41="USD" C6A="4.00" A04="AA" S05="MIA" C40="USD" A06="F" A40="US" S04="SEGMENT TAX" PXF="F" PXG="F" PXH="T" A05="F" C6F="4.00" />
                <TBD BC0="AY" C6B="5.60" C41="USD" C6A="5.60" A04="AA" S05="DFW" C40="USD" A06="F" A40="US" S04="US SECURITY FEE" PXF="F" PXG="F" PXH="T" A05="F" C6E="11.20" C47="USD" C6F="5.60" />
                <TBD BC0="AY" C6B="5.60" C41="USD" C6A="5.60" A04="AA" S05="MIA" C40="USD" A06="F" A40="US" S04="US SECURITY FEE" PXF="F" PXG="F" PXH="T" A05="F" C6E="11.20" C47="USD" C6F="5.60" />
                <TBD BC0="XF" C6B="4.50" C40="USD" C6A="4.50" S05="DFW" A40="US" S04="PASSENGER FACILITY CHARGES" C41="USD" />
                <TBD BC0="XF" C6B="4.50" C40="USD" C6A="4.50" S05="MIA" A40="US" S04="PASSENGER FACILITY CHARGES" C41="USD" />
              </NET>
              <ABL D16="20150116" S88="                              " S89="900    " S90="001Y" S83="15X0 " B02="AA" A20="15X0" B50="MC35MUM        " A11="DFW" A12="MIA" />
              <REX N1X="I" N20=" " PXM="F" PXY="F" PXZ="F">
                <CHG PXJ="T" C77="0.00" C78="USD" PXL="T" PXK="F" />
              </REX>
              <BDI BPT="A" SFK="AA" SHK="0DFAAAA" BPC="0">
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="C" SFK="AA" SHK="0GOACAA" OC1="1" OC2="1">
                <PFF N41="4" N45="N" P03="N" P04="Y" B70="ADT" C50="25.00" C51="25.00" C5A="USD" C52="25.00" C5B="USD" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="C" SFK="AA" SHK="0GOACAA" OC1="2" OC2="2">
                <PFF N41="4" N45="N" P03="N" P04="Y" B70="ADT" C50="35.00" C51="35.00" C5A="USD" C52="35.00" C5B="USD" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="A" SFK="AA" SHK="0DFAAAA" BPC="0">
                <Q00>2</Q00>
              </BDI>
              <BDI BPT="C" SFK="AA" SHK="0GOACAA" OC1="1" OC2="1">
                <PFF N41="4" N45="N" P03="N" P04="Y" B70="ADT" C50="25.00" C51="25.00" C5A="USD" C52="25.00" C5B="USD" />
                <Q00>2</Q00>
              </BDI>
              <BDI BPT="C" SFK="AA" SHK="0GOACAA" OC1="2" OC2="2">
                <PFF N41="4" N45="N" P03="N" P04="Y" B70="ADT" C50="35.00" C51="35.00" C5A="USD" C52="35.00" C5B="USD" />
                <Q00>2</Q00>
              </BDI>
              <BDI BPT="B" SFK="AA" SHK="0LNABAA" BPC="2">
                <ITR BPC="1" SHK="0L5ACAA" />
                <ITR BPC="1" SHK="0MUACAA" />
                <Q00>1</Q00>
                <Q00>2</Q00>
              </BDI>
              <BDI BPT="E" SFK="AA" SHK="0DQAEAA">
                <PFF N41=" " P01="T" N43="X" B70="ADT" C51="0.00" C5B="USD" />
                <Q00>1</Q00>
                <Q00>2</Q00>
              </BDI>
            </PXI>
          </SUM>
          <UFL C46="USD" C66="115.28" />
          <OSC SHK="0DFAAAA" SFF="ALLOWANCE" SF0="BG" N01="C" N02="4" />
          <OSC SHK="0DQAEAA" SFF="OVER100LB 45KG BAGGAGE" SF0="BG" DC1="1X" D01="OVER 100 POUNDS/45 KILOGRAMS" W01="100" WU1="L" W02="45" WU2="L" N02="4" />
          <OSC SHK="0GOACAA" SFF="UPTO50LB 23KG AND62LI 158LCM" SF0="BG" DC1="23" D01="UP TO 50 POUNDS/23 KILOGRAMS" DC2="6U" D02="UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" W03="50" WU3="L" W04="23" WU4="K" S03="62" SU3="I" S04="158" SU4="C" N01="C" N02="4" />
          <OSC SHK="0L5ACAA" SFF="SMALL PERSONAL ITEM" SF0="BG" ASG="CY" ASD="CARRY ON HAND BAGGAGE" N01="C" N02="4" />
          <OSC SHK="0LNABAA" SFF="CARRYON HAND BAGGAGE ALLOWANCE" SF0="BG" ASG="CY" ASD="CARRY ON HAND BAGGAGE" N02="4" />
          <OSC SHK="0MUACAA" SFF="CARRY ON UP TO 45 LI 115 LCM" SF0="BG" ASG="CY" ASD="CARRY ON HAND BAGGAGE" DC1="4U" D01="UP TO 45 LINEAR INCHES/115 LINEAR CENTIMETERS" S03="45" SU3="I" S04="115" SU4="C" N01="C" N02="4" />
        </RexPricingResponse>
Example after:
        <RexPricingResponse S96="AR">
          <AGI A10="DFW" A20="97Q7" A21="97Q7" AB0="9999999" AB1="9999999" A90="H3=" N0G="*" A80="97Q7" B00="1S" C40="USD" Q01="34" AE0="1S" />
          <BIL A20="97Q7" AE0="AA" AD0="024F91" C20="INTLCT31" A22="97Q7" AA0="H3=" A70="WFRAR" />
          <SUM C56="171.00" C40="USD" Q6F="0" D07="2015-02-23" D54="292" S69="SITI" AO0="DFW" AF0="DFW" B00="AA" N27="2" D95="2015-02-23" T95="04:52" PBC="F" PAR="F" S79="ltxl0248">
            <VCL P3L="F" SM0="ARC" VC0="T">
              <DCX B00="AA" TT0="ETKTPREF" />
            </VCL>
            <PXI B70="ADT" C43="USD" C5E="171.00" C5N="95.00" PY6="T" S85="ADT 1 ADT 0 2 1 1 8 BC35MUM 001Y 900 B  2 2 8 BC35MUM 001Y 900 B " PBS="F" USI="3" B71="ADT" Q4P="1" C40="USD" C5A="171.00" C54="1.00000000000000" Q05="13" C46="USD" C66="212.02" C5P="130.32" C65="41.02" C5O="35.32" C5D="999.9999" C5B="76.00" C64="41.02" S66="DFW AA MIA85.50AA DFW85.50USD171.00END ZPDFWMIA XFDFW4.5MIA4.5" P27="T" NRA="171.00" S83="15X0" P26="T" S01="IT" C62="95.00" C5G="95.00" C5M="95.00" C61="999.9999" C60="76.00" Q0W="1" Q0V="0">
              <MSG N06="N" Q0K="0" S18="USD171.00 NONREFUNDABLE" />
              <MSG N06="N" Q0K="0" B00="AA" S18="SABRE TEST FARE" />
              <MSG N06="W" Q0K="0" S18="PRIVATE FARE APPLIED - CHECK RULES FOR CORRECT TICKETING" />
              <MSG N06="W" Q0K="0" S18="VALIDATING CARRIER SPECIFIED - AA" />
              <MSG N06="W" Q0K="0" S18="CAT 15 SALES RESTRICTIONS FREE TEXT FOUND - VERIFY RULES" />
              <MSG N06="B" Q0K="0" S18="BAG ALLOWANCE     -DFWMIA-NIL/AA" />
              <MSG N06="B" Q0K="0" S18="1STCHECKED BAG FEE-DFWMIA-USD25.00/AA/UP TO 50 POUNDS/23 KILOGR" />
              <MSG N06="B" Q0K="0" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="2NDCHECKED BAG FEE-DFWMIA-USD35.00/AA/UP TO 50 POUNDS/23 KILOGR" />
              <MSG N06="B" Q0K="0" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="BAG ALLOWANCE     -MIADFW-NIL/AA" />
              <MSG N06="B" Q0K="0" S18="1STCHECKED BAG FEE-MIADFW-USD25.00/AA/UP TO 50 POUNDS/23 KILOGR" />
              <MSG N06="B" Q0K="0" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="2NDCHECKED BAG FEE-MIADFW-USD35.00/AA/UP TO 50 POUNDS/23 KILOGR" />
              <MSG N06="B" Q0K="0" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="CARRY ON ALLOWANCE" />
              <MSG N06="B" Q0K="0" S18="DFWMIA MIADFW-02P/AA" />
              <MSG N06="B" Q0K="0" S18="01/SMALL PERSONAL ITEM" />
              <MSG N06="B" Q0K="0" S18="01/UP TO 45 LINEAR INCHES/115 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY DEPENDING ON" />
              <MSG N06="B" Q0K="0" S18="FLYER-SPECIFIC FACTORS /E.G. FREQUENT FLYER STATUS/MILITARY/" />
              <MSG N06="B" Q0K="0" S18="CREDIT CARD FORM OF PAYMENT/EARLY PURCHASE OVER INTERNET,ETC./" />
              <MSG N06="B" Q0K="0" S18="EMBARGOES-APPLY TO EACH PASSENGER" />
              <MSG N06="B" Q0K="0" S18="DFWMIA MIADFW-AA" />
              <MSG N06="B" Q0K="0" S18="OVER 100 POUNDS/45 KILOGRAMS NOT PERMITTED" />
              <TAX BC0="US1" C6B="12.82" C40="USD" S05="DFW" S04="US DOMESTIC TRANSPORTATION TAX" C6A="0.07" C41="USD" A40="US" />
              <TAX BC0="ZP" C6B="8.00" C40="USD" S05="DFW" S04="SEGMENT TAX" C6A="4.00" C41="USD" A40="US" />
              <TAX BC0="AY" C6B="11.20" C40="USD" S05="DFW" S04="US SECURITY FEE" C6A="5.60" C41="USD" A40="US" />
              <TAX BC0="XF" C6B="9.00" C40="USD" S05="DFW" S04="PASSENGER FACILITY CHARGE" C6A="4.50" C41="USD" A40="US" />
              <TBD BC0="US1" C6B="6.41" C41="USD" C6A="6.41" A04="AA" S05="DFW" C40="USD" A06="P" A40="US" S04="US DOMESTIC TRANSPORTATION TAX" PXF="F" PXG="F" PXH="T" A05="P" C6F="0.075" />
              <TBD BC0="US1" C6B="6.41" C41="USD" C6A="6.41" A04="AA" S05="MIA" C40="USD" A06="P" A40="US" S04="US DOMESTIC TRANSPORTATION TAX" PXF="F" PXG="F" PXH="T" A05="P" C6F="0.075" />
              <TBD BC0="ZP" C6B="4.00" C41="USD" C6A="4.00" A04="AA" S05="DFW" C40="USD" A06="F" A40="US" S04="SEGMENT TAX" PXF="F" PXG="F" PXH="T" A05="F" C6F="4.00" />
              <TBD BC0="ZP" C6B="4.00" C41="USD" C6A="4.00" A04="AA" S05="MIA" C40="USD" A06="F" A40="US" S04="SEGMENT TAX" PXF="F" PXG="F" PXH="T" A05="F" C6F="4.00" />
              <TBD BC0="AY" C6B="5.60" C41="USD" C6A="5.60" A04="AA" S05="DFW" C40="USD" A06="F" A40="US" S04="US SECURITY FEE" PXF="F" PXG="F" PXH="T" A05="F" C6E="11.20" C47="USD" C6F="5.60" />
              <TBD BC0="AY" C6B="5.60" C41="USD" C6A="5.60" A04="AA" S05="MIA" C40="USD" A06="F" A40="US" S04="US SECURITY FEE" PXF="F" PXG="F" PXH="T" A05="F" C6E="11.20" C47="USD" C6F="5.60" />
              <TBD BC0="XF" C6B="4.50" C40="USD" C6A="4.50" S05="DFW" A40="US" S04="PASSENGER FACILITY CHARGES" C41="USD" />
              <TBD BC0="XF" C6B="4.50" C40="USD" C6A="4.50" S05="MIA" A40="US" S04="PASSENGER FACILITY CHARGES" C41="USD" />
              <CAL A11="DFW" A01="DFW" B08="AA" A12="MIA" A02="MIA" C50="85.50" B50="BC35MUM" Q04="7" C5R="47.50" B71="ADT" B02="AA" N00="Y" A41="US" A51="1" A31="USTX" A42="US" A52="1" A32="USFL" C51="85.50" C40="USD" P04="F" P05="T" D00="2015-02-28" N0K="N" P2M="F" PAY="F" PAZ="T" Q4J="1" N1K="R" S70="FR" A60="WH" AC0="ZAM01" FTY="0C" S53="EAP">
                <CAT>1 10 14 15 16 18 35</CAT>
                <SEG A11="DFW" C6I="DFW" A12="MIA" A02="MIA" S37="15X0" B09="AA" S89="900" S90="001Y" P72="B" Q0Z="01" S12="WH" C11="US" C12="US" C13="D" D06="2015-02-28" D05="2015-02-28" P2F="T" P2I="F" PAW="T" B00="AA" B01="AA" N00="Y" N1L="L" SHR="32B" P2M="T" P2H="F" Q0Y="1" B20="NI" N0D=" " P26="F" PAX="F" />
              </CAL>
              <CAL A11="MIA" A01="MIA" B08="AA" A12="DFW" A02="DFW" C50="85.50" B50="BC35MUM" Q04="7" C5R="47.50" B71="ADT" B02="AA" N00="Y" A41="US" A51="1" A31="USFL" A42="US" A52="1" A32="USTX" C51="85.50" C40="USD" P04="F" P05="T" D00="2015-02-28" N0K="N" P2M="F" PAY="F" PAZ="T" Q4J="1" N1K="R" S70="TO" A60="WH" AC0="ZAM01" FTY="0C" S53="EAP">
                <CAT>1 10 14 15 16 18 35</CAT>
                <SEG A11="MIA" C6I="MIA" A12="DFW" A02="DFW" S37="15X0" B09="AA" S89="900" S90="001Y" P72="B" Q0Z="02" S12="WH" C11="US" C12="US" C13="D" D06="2015-03-07" D05="2015-03-07" P2F="T" P2I="F" PAW="T" B00="AA" B01="AA" N00="Y" N1L="L" SHR="757" P2M="T" P2H="F" Q0Y="1" B20="NI" N0D=" " P26="F" PAX="F" />
              </CAL>
              <NET S66="DFW AA MIA47.50AA DFW47.50USD95.00END ZPDFWMIA XFDFW4.5MIA4.5" C61="999.9999" C60="0.00" />
              <NET>
                <TAX BC0="US1" C6B="7.12" C40="USD" S05="DFW" S04="US DOMESTIC TRANSPORTATION TAX" C6A="0.07" C41="USD" A40="US" />
                <TAX BC0="ZP" C6B="8.00" C40="USD" S05="DFW" S04="SEGMENT TAX" C6A="4.00" C41="USD" A40="US" />
                <TAX BC0="AY" C6B="11.20" C40="USD" S05="DFW" S04="US SECURITY FEE" C6A="5.60" C41="USD" A40="US" />
                <TAX BC0="XF" C6B="9.00" C40="USD" S05="DFW" S04="PASSENGER FACILITY CHARGE" C6A="4.50" C41="USD" A40="US" />
                <TBD BC0="US1" C6B="3.56" C41="USD" C6A="3.56" A04="AA" S05="DFW" C40="USD" A06="P" A40="US" S04="US DOMESTIC TRANSPORTATION TAX" PXF="F" PXG="F" PXH="T" A05="P" C6F="0.075" />
                <TBD BC0="US1" C6B="3.56" C41="USD" C6A="3.56" A04="AA" S05="MIA" C40="USD" A06="P" A40="US" S04="US DOMESTIC TRANSPORTATION TAX" PXF="F" PXG="F" PXH="T" A05="P" C6F="0.075" />
                <TBD BC0="ZP" C6B="4.00" C41="USD" C6A="4.00" A04="AA" S05="DFW" C40="USD" A06="F" A40="US" S04="SEGMENT TAX" PXF="F" PXG="F" PXH="T" A05="F" C6F="4.00" />
                <TBD BC0="ZP" C6B="4.00" C41="USD" C6A="4.00" A04="AA" S05="MIA" C40="USD" A06="F" A40="US" S04="SEGMENT TAX" PXF="F" PXG="F" PXH="T" A05="F" C6F="4.00" />
                <TBD BC0="AY" C6B="5.60" C41="USD" C6A="5.60" A04="AA" S05="DFW" C40="USD" A06="F" A40="US" S04="US SECURITY FEE" PXF="F" PXG="F" PXH="T" A05="F" C6E="11.20" C47="USD" C6F="5.60" />
                <TBD BC0="AY" C6B="5.60" C41="USD" C6A="5.60" A04="AA" S05="MIA" C40="USD" A06="F" A40="US" S04="US SECURITY FEE" PXF="F" PXG="F" PXH="T" A05="F" C6E="11.20" C47="USD" C6F="5.60" />
                <TBD BC0="XF" C6B="4.50" C40="USD" C6A="4.50" S05="DFW" A40="US" S04="PASSENGER FACILITY CHARGES" C41="USD" />
                <TBD BC0="XF" C6B="4.50" C40="USD" C6A="4.50" S05="MIA" A40="US" S04="PASSENGER FACILITY CHARGES" C41="USD" />
              </NET>
              <ABL D16="20150116" S88="                              " S89="900    " S90="001Y" S83="15X0 " B02="AA" A20="15X0" B50="BC35MUM        " A11="DFW" A12="MIA" />
              <REX N1X="I" N20=" " PXM="F" PXY="F" PXZ="F">
                <CHG PXJ="T" C77="150.00" C78="USD" PXL="F" PXK="F" />
              </REX>
              <BDI BPT="A" SFK="AA" SHK="0DFAAAA" BPC="0">
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="C" SFK="AA" SHK="0GOACAA" OC1="1" OC2="1">
                <PFF N41="4" N45="N" P03="N" P04="Y" B70="ADT" C50="25.00" C51="25.00" C5A="USD" C52="25.00" C5B="USD" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="C" SFK="AA" SHK="0GOACAA" OC1="2" OC2="2">
                <PFF N41="4" N45="N" P03="N" P04="Y" B70="ADT" C50="35.00" C51="35.00" C5A="USD" C52="35.00" C5B="USD" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="A" SFK="AA" SHK="0DFAAAA" BPC="0">
                <Q00>2</Q00>
              </BDI>
              <BDI BPT="C" SFK="AA" SHK="0GOACAA" OC1="1" OC2="1">
                <PFF N41="4" N45="N" P03="N" P04="Y" B70="ADT" C50="25.00" C51="25.00" C5A="USD" C52="25.00" C5B="USD" />
                <Q00>2</Q00>
              </BDI>
              <BDI BPT="C" SFK="AA" SHK="0GOACAA" OC1="2" OC2="2">
                <PFF N41="4" N45="N" P03="N" P04="Y" B70="ADT" C50="35.00" C51="35.00" C5A="USD" C52="35.00" C5B="USD" />
                <Q00>2</Q00>
              </BDI>
              <BDI BPT="B" SFK="AA" SHK="0LNABAA" BPC="2">
                <ITR BPC="1" SHK="0L5ACAA" />
                <ITR BPC="1" SHK="0MUACAA" />
                <Q00>1</Q00>
                <Q00>2</Q00>
              </BDI>
              <BDI BPT="E" SFK="AA" SHK="0DQAEAA">
                <PFF N41=" " P01="T" N43="X" B70="ADT" C51="0.00" C5B="USD" />
                <Q00>1</Q00>
                <Q00>2</Q00>
              </BDI>
            </PXI>
          </SUM>
          <SUM C56="81.00" C40="USD" Q6F="1" D07="2015-02-23" D54="292" S69="SITI" AO0="DFW" AF0="DFW" B00="AA" N27="1" D95="2015-02-23" PBC="F" PAR="F" S79="ltxl0248">
            <VCL P3L="F" SM0="ARC" VC0="T">
              <DCX B00="AA" TT0="ETKTPREF" />
            </VCL>
            <PXI B70="ADT" C43="USD" C5E="81.00" C5N="45.00" PY6="T" S85="ADT 1 ADT 0 2 1 1 8 MC35MUM 001Y 900 M  2 2 8 MC35MUM 001Y 900 M " PBS="F" USI="3" B71="ADT" Q4P="1" C40="USD" C5A="81.00" C54="1.00000000000000" Q05="13" C46="USD" C66="115.28" C5P="76.58" C65="34.28" C5O="31.58" C5D="999.9999" C5B="36.00" C64="34.28" S66="DFW AA MIA40.50AA DFW40.50USD81.00END ZPDFWMIA XFDFW4.5MIA4.5" P27="T" NRA="81.00" S83="15X0" P26="T" S01="IT" C62="45.00" C5G="45.00" C5M="45.00" C61="999.9999" C60="36.00" Q0W="1" Q0V="0">
              <MSG N06="N" Q0K="0" S18="USD81.00 NONREFUNDABLE" />
              <MSG N06="N" Q0K="0" B00="AA" S18="SABRE TEST FARE" />
              <MSG N06="W" Q0K="0" S18="PRIVATE FARE APPLIED - CHECK RULES FOR CORRECT TICKETING" />
              <MSG N06="W" Q0K="0" S18="VALIDATING CARRIER SPECIFIED - AA" />
              <MSG N06="W" Q0K="0" S18="CAT 15 SALES RESTRICTIONS FREE TEXT FOUND - VERIFY RULES" />
              <MSG N06="B" Q0K="0" S18="BAG ALLOWANCE     -DFWMIA-NIL/AA" />
              <MSG N06="B" Q0K="0" S18="1STCHECKED BAG FEE-DFWMIA-USD25.00/AA/UP TO 50 POUNDS/23 KILOGR" />
              <MSG N06="B" Q0K="0" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="2NDCHECKED BAG FEE-DFWMIA-USD35.00/AA/UP TO 50 POUNDS/23 KILOGR" />
              <MSG N06="B" Q0K="0" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="BAG ALLOWANCE     -MIADFW-NIL/AA" />
              <MSG N06="B" Q0K="0" S18="1STCHECKED BAG FEE-MIADFW-USD25.00/AA/UP TO 50 POUNDS/23 KILOGR" />
              <MSG N06="B" Q0K="0" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="2NDCHECKED BAG FEE-MIADFW-USD35.00/AA/UP TO 50 POUNDS/23 KILOGR" />
              <MSG N06="B" Q0K="0" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="CARRY ON ALLOWANCE" />
              <MSG N06="B" Q0K="0" S18="DFWMIA MIADFW-02P/AA" />
              <MSG N06="B" Q0K="0" S18="01/SMALL PERSONAL ITEM" />
              <MSG N06="B" Q0K="0" S18="01/UP TO 45 LINEAR INCHES/115 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY DEPENDING ON" />
              <MSG N06="B" Q0K="0" S18="FLYER-SPECIFIC FACTORS /E.G. FREQUENT FLYER STATUS/MILITARY/" />
              <MSG N06="B" Q0K="0" S18="CREDIT CARD FORM OF PAYMENT/EARLY PURCHASE OVER INTERNET,ETC./" />
              <MSG N06="B" Q0K="0" S18="EMBARGOES-APPLY TO EACH PASSENGER" />
              <MSG N06="B" Q0K="0" S18="DFWMIA MIADFW-AA" />
              <MSG N06="B" Q0K="0" S18="OVER 100 POUNDS/45 KILOGRAMS NOT PERMITTED" />
              <MSG N06="W" Q0K="0" S18="CHANGE BOOKING CLASS -   1M 2M" />
              <TAX BC0="US1" C6B="6.08" C40="USD" S05="DFW" S04="US DOMESTIC TRANSPORTATION TAX" C6A="0.07" C41="USD" A40="US" />
              <TAX BC0="ZP" C6B="8.00" C40="USD" S05="DFW" S04="SEGMENT TAX" C6A="4.00" C41="USD" A40="US" />
              <TAX BC0="AY" C6B="11.20" C40="USD" S05="DFW" S04="US SECURITY FEE" C6A="5.60" C41="USD" A40="US" />
              <TAX BC0="XF" C6B="9.00" C40="USD" S05="DFW" S04="PASSENGER FACILITY CHARGE" C6A="4.50" C41="USD" A40="US" />
              <TBD BC0="US1" C6B="3.04" C41="USD" C6A="3.04" A04="AA" S05="DFW" C40="USD" A06="P" A40="US" S04="US DOMESTIC TRANSPORTATION TAX" PXF="F" PXG="F" PXH="T" A05="P" C6F="0.075" />
              <TBD BC0="US1" C6B="3.04" C41="USD" C6A="3.04" A04="AA" S05="MIA" C40="USD" A06="P" A40="US" S04="US DOMESTIC TRANSPORTATION TAX" PXF="F" PXG="F" PXH="T" A05="P" C6F="0.075" />
              <TBD BC0="ZP" C6B="4.00" C41="USD" C6A="4.00" A04="AA" S05="DFW" C40="USD" A06="F" A40="US" S04="SEGMENT TAX" PXF="F" PXG="F" PXH="T" A05="F" C6F="4.00" />
              <TBD BC0="ZP" C6B="4.00" C41="USD" C6A="4.00" A04="AA" S05="MIA" C40="USD" A06="F" A40="US" S04="SEGMENT TAX" PXF="F" PXG="F" PXH="T" A05="F" C6F="4.00" />
              <TBD BC0="AY" C6B="5.60" C41="USD" C6A="5.60" A04="AA" S05="DFW" C40="USD" A06="F" A40="US" S04="US SECURITY FEE" PXF="F" PXG="F" PXH="T" A05="F" C6E="11.20" C47="USD" C6F="5.60" />
              <TBD BC0="AY" C6B="5.60" C41="USD" C6A="5.60" A04="AA" S05="MIA" C40="USD" A06="F" A40="US" S04="US SECURITY FEE" PXF="F" PXG="F" PXH="T" A05="F" C6E="11.20" C47="USD" C6F="5.60" />
              <TBD BC0="XF" C6B="4.50" C40="USD" C6A="4.50" S05="DFW" A40="US" S04="PASSENGER FACILITY CHARGES" C41="USD" />
              <TBD BC0="XF" C6B="4.50" C40="USD" C6A="4.50" S05="MIA" A40="US" S04="PASSENGER FACILITY CHARGES" C41="USD" />
              <CAL A11="DFW" A01="DFW" B08="AA" A12="MIA" A02="MIA" C50="40.50" B50="MC35MUM" Q04="7" C5R="22.50" B71="ADT" B02="AA" N00="Y" A41="US" A51="1" A31="USTX" A42="US" A52="1" A32="USFL" C51="40.50" C40="USD" P04="F" P05="T" D00="2015-02-28" N0K="N" P2M="F" PAY="F" PAZ="T" Q4J="1" N1K="R" S70="FR" A60="WH" AC0="ZAM01" FTY="0C" S53="EAP">
                <CAT>1 10 14 15 16 18 35</CAT>
                <SEG A11="DFW" C6I="DFW" A12="MIA" A02="MIA" S37="15X0" B09="AA" S89="900" S90="001Y" P72="M" Q0Z="01" S12="WH" C11="US" C12="US" C13="D" D06="2015-02-28" D05="2015-02-28" P2F="T" P2I="F" PAW="T" B00="AA" B01="AA" N00="Y" N1L="L" SHR="32B" P2M="T" P2H="F" Q0Y="1" B20="NI" N0D=" " P26="F" PAX="F" />
              </CAL>
              <CAL A11="MIA" A01="MIA" B08="AA" A12="DFW" A02="DFW" C50="40.50" B50="MC35MUM" Q04="7" C5R="22.50" B71="ADT" B02="AA" N00="Y" A41="US" A51="1" A31="USFL" A42="US" A52="1" A32="USTX" C51="40.50" C40="USD" P04="F" P05="T" D00="2015-02-28" N0K="N" P2M="F" PAY="F" PAZ="T" Q4J="1" N1K="R" S70="TO" A60="WH" AC0="ZAM01" FTY="0C" S53="EAP">
                <CAT>1 10 14 15 16 18 35</CAT>
                <SEG A11="MIA" C6I="MIA" A12="DFW" A02="DFW" S37="15X0" B09="AA" S89="900" S90="001Y" P72="M" Q0Z="02" S12="WH" C11="US" C12="US" C13="D" D06="2015-03-07" D05="2015-03-07" P2F="T" P2I="F" PAW="T" B00="AA" B01="AA" N00="Y" N1L="L" SHR="757" P2M="T" P2H="F" Q0Y="1" B20="NI" N0D=" " P26="F" PAX="F" />
              </CAL>
              <NET <bgcolor=yellow>S66="DFW AA MIA22.50AA DFW22.50USD45.00END ZPDFWMIA XFDFW4.5MIA4.5"</bgcolor> C61="999.9999" C60="0.00" />
              <NET>
                <TAX BC0="US1" C6B="3.38" C40="USD" S05="DFW" S04="US DOMESTIC TRANSPORTATION TAX" C6A="0.07" C41="USD" A40="US" />
                <TAX BC0="ZP" C6B="8.00" C40="USD" S05="DFW" S04="SEGMENT TAX" C6A="4.00" C41="USD" A40="US" />
                <TAX BC0="AY" C6B="11.20" C40="USD" S05="DFW" S04="US SECURITY FEE" C6A="5.60" C41="USD" A40="US" />
                <TAX BC0="XF" C6B="9.00" C40="USD" S05="DFW" S04="PASSENGER FACILITY CHARGE" C6A="4.50" C41="USD" A40="US" />
                <TBD BC0="US1" C6B="1.69" C41="USD" C6A="1.69" A04="AA" S05="DFW" C40="USD" A06="P" A40="US" S04="US DOMESTIC TRANSPORTATION TAX" PXF="F" PXG="F" PXH="T" A05="P" C6F="0.075" />
                <TBD BC0="US1" C6B="1.69" C41="USD" C6A="1.69" A04="AA" S05="MIA" C40="USD" A06="P" A40="US" S04="US DOMESTIC TRANSPORTATION TAX" PXF="F" PXG="F" PXH="T" A05="P" C6F="0.075" />
                <TBD BC0="ZP" C6B="4.00" C41="USD" C6A="4.00" A04="AA" S05="DFW" C40="USD" A06="F" A40="US" S04="SEGMENT TAX" PXF="F" PXG="F" PXH="T" A05="F" C6F="4.00" />
                <TBD BC0="ZP" C6B="4.00" C41="USD" C6A="4.00" A04="AA" S05="MIA" C40="USD" A06="F" A40="US" S04="SEGMENT TAX" PXF="F" PXG="F" PXH="T" A05="F" C6F="4.00" />
                <TBD BC0="AY" C6B="5.60" C41="USD" C6A="5.60" A04="AA" S05="DFW" C40="USD" A06="F" A40="US" S04="US SECURITY FEE" PXF="F" PXG="F" PXH="T" A05="F" C6E="11.20" C47="USD" C6F="5.60" />
                <TBD BC0="AY" C6B="5.60" C41="USD" C6A="5.60" A04="AA" S05="MIA" C40="USD" A06="F" A40="US" S04="US SECURITY FEE" PXF="F" PXG="F" PXH="T" A05="F" C6E="11.20" C47="USD" C6F="5.60" />
                <TBD BC0="XF" C6B="4.50" C40="USD" C6A="4.50" S05="DFW" A40="US" S04="PASSENGER FACILITY CHARGES" C41="USD" />
                <TBD BC0="XF" C6B="4.50" C40="USD" C6A="4.50" S05="MIA" A40="US" S04="PASSENGER FACILITY CHARGES" C41="USD" />
              </NET>
              <ABL D16="20150116" S88="                              " S89="900    " S90="001Y" S83="15X0 " B02="AA" A20="15X0" B50="MC35MUM        " A11="DFW" A12="MIA" />
              <REX N1X="I" N20=" " PXM="F" PXY="F" PXZ="F">
                <CHG PXJ="T" C77="0.00" C78="USD" PXL="T" PXK="F" />
              </REX>
              <BDI BPT="A" SFK="AA" SHK="0DFAAAA" BPC="0">
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="C" SFK="AA" SHK="0GOACAA" OC1="1" OC2="1">
                <PFF N41="4" N45="N" P03="N" P04="Y" B70="ADT" C50="25.00" C51="25.00" C5A="USD" C52="25.00" C5B="USD" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="C" SFK="AA" SHK="0GOACAA" OC1="2" OC2="2">
                <PFF N41="4" N45="N" P03="N" P04="Y" B70="ADT" C50="35.00" C51="35.00" C5A="USD" C52="35.00" C5B="USD" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="A" SFK="AA" SHK="0DFAAAA" BPC="0">
                <Q00>2</Q00>
              </BDI>
              <BDI BPT="C" SFK="AA" SHK="0GOACAA" OC1="1" OC2="1">
                <PFF N41="4" N45="N" P03="N" P04="Y" B70="ADT" C50="25.00" C51="25.00" C5A="USD" C52="25.00" C5B="USD" />
                <Q00>2</Q00>
              </BDI>
              <BDI BPT="C" SFK="AA" SHK="0GOACAA" OC1="2" OC2="2">
                <PFF N41="4" N45="N" P03="N" P04="Y" B70="ADT" C50="35.00" C51="35.00" C5A="USD" C52="35.00" C5B="USD" />
                <Q00>2</Q00>
              </BDI>
              <BDI BPT="B" SFK="AA" SHK="0LNABAA" BPC="2">
                <ITR BPC="1" SHK="0L5ACAA" />
                <ITR BPC="1" SHK="0MUACAA" />
                <Q00>1</Q00>
                <Q00>2</Q00>
              </BDI>
              <BDI BPT="E" SFK="AA" SHK="0DQAEAA">
                <PFF N41=" " P01="T" N43="X" B70="ADT" C51="0.00" C5B="USD" />
                <Q00>1</Q00>
                <Q00>2</Q00>
              </BDI>
            </PXI>
          </SUM>
          <UFL C46="USD" C66="115.28" />
          <OSC SHK="0DFAAAA" SFF="ALLOWANCE" SF0="BG" N01="C" N02="4" />
          <OSC SHK="0DQAEAA" SFF="OVER100LB 45KG BAGGAGE" SF0="BG" DC1="1X" D01="OVER 100 POUNDS/45 KILOGRAMS" W01="100" WU1="L" W02="45" WU2="L" N02="4" />
          <OSC SHK="0GOACAA" SFF="UPTO50LB 23KG AND62LI 158LCM" SF0="BG" DC1="23" D01="UP TO 50 POUNDS/23 KILOGRAMS" DC2="6U" D02="UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" W03="50" WU3="L" W04="23" WU4="K" S03="62" SU3="I" S04="158" SU4="C" N01="C" N02="4" />
          <OSC SHK="0L5ACAA" SFF="SMALL PERSONAL ITEM" SF0="BG" ASG="CY" ASD="CARRY ON HAND BAGGAGE" N01="C" N02="4" />
          <OSC SHK="0LNABAA" SFF="CARRYON HAND BAGGAGE ALLOWANCE" SF0="BG" ASG="CY" ASD="CARRY ON HAND BAGGAGE" N02="4" />
          <OSC SHK="0MUACAA" SFF="CARRY ON UP TO 45 LI 115 LCM" SF0="BG" ASG="CY" ASD="CARRY ON HAND BAGGAGE" DC1="4U" D01="UP TO 45 LINEAR INCHES/115 LINEAR CENTIMETERS" S03="45" SU3="I" S04="115" SU4="C" N01="C" N02="4" />
        </RexPricingResponse>
Files updated:
        Xform/PricingResponseFormatter.cpp<br>
Unit tests files:
        n/a
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [X] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Szwarc
Code reviewers: Grzegorz Wanke
BA: Karin Kron
QA: Alan Edwards

Title: [TNS] Fix core dump
Date: 02/26/2015
Description:
        Fixed core dump. There was a race condition in a rarely executed processing path.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
Entry/XML to recreate:
        <ShoppingRequest N06="M" D70="120" STK="picli304:27038 2015-02-23T13:32:18 6565f">
            <AGI A10="DFW" A20="W0H3" A21="W0H3" AB0="4553728" AB1="4553728" A90="H-2" N0G="*" B00="1S" C40="USD" Q01="9" A80="W0H3"/>
            <BIL A20="W0H3" A22="W0H3" A70="JR" Q03="5642" Q02="5996" AE0="AA" AD0="CC873D" AA0="H-2" C00="4029880056593992349" C01="4029880056593992349" C20="MANUAL" C21="SISXX019"/>
            <PXI B70="ADT"/>
            <PRO P69="T" C48="CAD" D54="0117" P0J="T" SEZ="T" SEV="T" VCX="F" BFA="32"/>
            <AAF Q1K="0" B00="AC" B01="AC" Q0B="227" S05="E90" P0Z="T">
                <BRD A01="YYC" D01="2015-06-15" D31="1930"/>
                <OFF A02="YVR" D02="2015-06-15" D32="1959"/>
            </AAF>
            <AAF Q1K="1" B00="AC" B01="AC" Q0B="33" S05="77L" P0Z="T">
                <BRD A01="YVR" D01="2015-06-15" D31="2340"/>
                <OFF A02="SYD" D02="2015-06-17" D32="0815"/>
            </AAF>
            <AAF Q1K="2" B00="VA" B01="VA" Q0B="65" S05="738" P0Z="T">
                <BRD A01="SYD" D01="2015-06-17" D31="1135"/>
                <OFF A02="DPS" D02="2015-06-17" D32="1620"/>
            </AAF>
            <AAF Q1K="3" B00="VA" B01="VA" Q0B="70" S05="738" P0Z="T">
                <BRD A01="DPS" D01="2015-07-08" D31="2210"/>
                <OFF A02="SYD" D02="2015-07-09" D32="0615"/>
            </AAF>
            <AAF Q1K="4" B00="AC" B01="AC" Q0B="34" S05="77L" P0Z="T">
                <BRD A01="SYD" D01="2015-07-09" D31="1020"/>
                <OFF A02="YVR" D02="2015-07-09" D32="0735"/>
            </AAF>
            <AAF Q1K="5" B00="AC" B01="AC" Q0B="206" S05="E90" P0Z="T">
                <BRD A01="YVR" D01="2015-07-09" D31="0900"/>
                <OFF A02="YYC" D02="2015-07-09" D32="1127"/>
            </AAF>
            <AAF Q1K="6" B00="AC" B01="AC" Q0B="225" S05="E90" P0Z="T">
                <BRD A01="YYC" D01="2015-06-15" D31="1815"/>
                <OFF A02="YVR" D02="2015-06-15" D32="1844"/>
            </AAF>
            <AAF Q1K="7" B00="AC" B01="AC" Q0B="223" S05="E90" P0Z="T">
                <BRD A01="YYC" D01="2015-06-15" D31="1715"/>
                <OFF A02="YVR" D02="2015-06-15" D32="1744"/>
            </AAF>
            <AAF Q1K="8" B00="AC" B01="AC" Q0B="208" S05="E90" P0Z="T">
                <BRD A01="YVR" D01="2015-07-09" D31="1000"/>
                <OFF A02="YYC" D02="2015-07-09" D32="1227"/>
            </AAF>
            <AAF Q1K="9" B00="AC" B01="AC" Q0B="210" S05="319" P0Z="T">
                <BRD A01="YVR" D01="2015-07-09" D31="1100"/>
                <OFF A02="YYC" D02="2015-07-09" D32="1327"/>
            </AAF>
            <AAF Q1K="10" B00="AC" B01="AC" Q0B="212" S05="E90" P0Z="T">
                <BRD A01="YVR" D01="2015-07-09" D31="1200"/>
                <OFF A02="YYC" D02="2015-07-09" D32="1427"/>
            </AAF>
            <AVL Q16="0" A01="YYC" A02="YVR">
                <FBK Q1K="0" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
            </AVL>
            <AVL Q16="1" A01="YVR" A02="SYD">
                <FBK Q1K="1" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
            </AVL>
            <AVL Q16="2" A01="SYD" A02="DPS">
                <FBK Q1K="2" Q17="J7|C7|D6|I0|Y7|B7|H7|K7|L7|E7|N7|V7|Q7|T7|S7|M7"/>
            </AVL>
            <AVL Q16="3" A01="YYC" A02="SYD">
                <FBK Q1K="0" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
                <FBK Q1K="1" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
            </AVL>
            <AVL Q16="4" A01="YVR" A02="DPS">
                <FBK Q1K="1" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
                <FBK Q1K="2" Q17="J7|C7|D6|I0|Y7|B7|H7|K7|L7|E7|N7|V7|Q7|T7|S7|M7"/>
            </AVL>
            <AVL Q16="5" A01="YYC" A02="DPS">
                <FBK Q1K="0" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
                <FBK Q1K="1" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
                <FBK Q1K="2" Q17="J7|C7|D6|I0|Y7|B7|H7|K7|L7|E7|N7|V7|Q7|T7|S7|M7"/>
            </AVL>
            <AVL Q16="6" A01="DPS" A02="SYD">
                <FBK Q1K="3" Q17="J7|C7|D6|I4|Y7|B7|H7|K7|L7|E7|N7|V1|Q1|T1|S0|M1"/>
            </AVL>
            <AVL Q16="7" A01="SYD" A02="YVR">
                <FBK Q1K="4" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
            </AVL>
            <AVL Q16="8" A01="YVR" A02="YYC">
                <FBK Q1K="5" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
            </AVL>
            <AVL Q16="9" A01="DPS" A02="YVR">
                <FBK Q1K="3" Q17="J7|C7|D6|I4|Y7|B7|H7|K7|L7|E7|N7|V1|Q1|T1|S0|M1"/>
                <FBK Q1K="4" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
            </AVL>
            <AVL Q16="10" A01="SYD" A02="YYC">
                <FBK Q1K="4" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
                <FBK Q1K="5" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
            </AVL>
            <AVL Q16="11" A01="DPS" A02="YYC">
                <FBK Q1K="3" Q17="J7|C7|D6|I4|Y7|B7|H7|K7|L7|E7|N7|V1|Q1|T1|S0|M1"/>
                <FBK Q1K="4" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
                <FBK Q1K="5" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
            </AVL>
            <AVL Q16="12" A01="YYC" A02="YVR">
                <FBK Q1K="6" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
            </AVL>
            <AVL Q16="13" A01="YYC" A02="SYD">
                <FBK Q1K="6" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
                <FBK Q1K="1" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
            </AVL>
            <AVL Q16="14" A01="YYC" A02="DPS">
                <FBK Q1K="6" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
                <FBK Q1K="1" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
                <FBK Q1K="2" Q17="J7|C7|D6|I0|Y7|B7|H7|K7|L7|E7|N7|V7|Q7|T7|S7|M7"/>
            </AVL>
            <AVL Q16="15" A01="YYC" A02="YVR">
                <FBK Q1K="7" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
            </AVL>
            <AVL Q16="16" A01="YYC" A02="SYD">
                <FBK Q1K="7" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
                <FBK Q1K="1" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
            </AVL>
            <AVL Q16="17" A01="YYC" A02="DPS">
                <FBK Q1K="7" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
                <FBK Q1K="1" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
                <FBK Q1K="2" Q17="J7|C7|D6|I0|Y7|B7|H7|K7|L7|E7|N7|V7|Q7|T7|S7|M7"/>
            </AVL>
            <AVL Q16="18" A01="YVR" A02="YYC">
                <FBK Q1K="8" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
            </AVL>
            <AVL Q16="19" A01="SYD" A02="YYC">
                <FBK Q1K="4" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
                <FBK Q1K="8" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
            </AVL>
            <AVL Q16="20" A01="DPS" A02="YYC">
                <FBK Q1K="3" Q17="J7|C7|D6|I4|Y7|B7|H7|K7|L7|E7|N7|V1|Q1|T1|S0|M1"/>
                <FBK Q1K="4" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
                <FBK Q1K="8" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
            </AVL>
            <AVL Q16="21" A01="YVR" A02="YYC">
                <FBK Q1K="9" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
            </AVL>
            <AVL Q16="22" A01="SYD" A02="YYC">
                <FBK Q1K="4" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
                <FBK Q1K="9" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
            </AVL>
            <AVL Q16="23" A01="DPS" A02="YYC">
                <FBK Q1K="3" Q17="J7|C7|D6|I4|Y7|B7|H7|K7|L7|E7|N7|V1|Q1|T1|S0|M1"/>
                <FBK Q1K="4" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
                <FBK Q1K="9" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
            </AVL>
            <AVL Q16="24" A01="YVR" A02="YYC">
                <FBK Q1K="10" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
            </AVL>
            <AVL Q16="25" A01="SYD" A02="YYC">
                <FBK Q1K="4" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
                <FBK Q1K="10" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
            </AVL>
            <AVL Q16="26" A01="DPS" A02="YYC">
                <FBK Q1K="3" Q17="J7|C7|D6|I4|Y7|B7|H7|K7|L7|E7|N7|V1|Q1|T1|S0|M1"/>
                <FBK Q1K="4" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
                <FBK Q1K="10" Q17="J7|C7|D7|Z7|P7|Y7|B7|M7|U7|H7|Q7|V7|W7|G7|S7|T7|L7|A7|K7|R7"/>
            </AVL>
            <LEG Q14="0" B31="Y">
                <SOP Q15="0">
                    <FID Q1K="0"/>
                    <FID Q1K="1"/>
                    <FID Q1K="2"/>
                    <AID Q16="0"/>
                    <AID Q16="1"/>
                    <AID Q16="2"/>
                    <AID Q16="3"/>
                    <AID Q16="4"/>
                    <AID Q16="5"/>
                </SOP>
                <SOP Q15="1">
                    <FID Q1K="6"/>
                    <FID Q1K="1"/>
                    <FID Q1K="2"/>
                    <AID Q16="12"/>
                    <AID Q16="1"/>
                    <AID Q16="2"/>
                    <AID Q16="13"/>
                    <AID Q16="4"/>
                    <AID Q16="14"/>
                </SOP>
                <SOP Q15="2">
                    <FID Q1K="7"/>
                    <FID Q1K="1"/>
                    <FID Q1K="2"/>
                    <AID Q16="15"/>
                    <AID Q16="1"/>
                    <AID Q16="2"/>
                    <AID Q16="16"/>
                    <AID Q16="4"/>
                    <AID Q16="17"/>
                </SOP>
            </LEG>
            <LEG Q14="1" B31="Y">
                <SOP Q15="0">
                    <FID Q1K="3"/>
                    <FID Q1K="4"/>
                    <FID Q1K="5"/>
                    <AID Q16="6"/>
                    <AID Q16="7"/>
                    <AID Q16="8"/>
                    <AID Q16="9"/>
                    <AID Q16="10"/>
                    <AID Q16="11"/>
                </SOP>
                <SOP Q15="1">
                    <FID Q1K="3"/>
                    <FID Q1K="4"/>
                    <FID Q1K="8"/>
                    <AID Q16="6"/>
                    <AID Q16="7"/>
                    <AID Q16="18"/>
                    <AID Q16="9"/>
                    <AID Q16="19"/>
                    <AID Q16="20"/>
                </SOP>
                <SOP Q15="2">
                    <FID Q1K="3"/>
                    <FID Q1K="4"/>
                    <FID Q1K="9"/>
                    <AID Q16="6"/>
                    <AID Q16="7"/>
                    <AID Q16="21"/>
                    <AID Q16="9"/>
                    <AID Q16="22"/>
                    <AID Q16="23"/>
                </SOP>
                <SOP Q15="3">
                    <FID Q1K="3"/>
                    <FID Q1K="4"/>
                    <FID Q1K="10"/>
                    <AID Q16="6"/>
                    <AID Q16="7"/>
                    <AID Q16="24"/>
                    <AID Q16="9"/>
                    <AID Q16="25"/>
                    <AID Q16="26"/>
                </SOP>
            </LEG>
            <ITN NUM="0" Q5Q="0" C65="0">
                <SID Q14="0" Q15="0">
                    <BKK B30="T" B31="Y"/>
                    <BKK B30="T" B31="Y"/>
                    <BKK B30="Y" B31="Y"/>
                </SID>
                <SID Q14="1" Q15="0">
                    <BKK B30="Y" B31="Y"/>
                    <BKK B30="T" B31="Y"/>
                    <BKK B30="T" B31="Y"/>
                </SID>
            </ITN>
            <ITN NUM="1" Q5Q="1" C65="0">
                <SID Q14="0" Q15="1">
                    <BKK B30="T" B31="Y"/>
                    <BKK B30="T" B31="Y"/>
                    <BKK B30="Y" B31="Y"/>
                </SID>
                <SID Q14="1" Q15="0">
                    <BKK B30="Y" B31="Y"/>
                    <BKK B30="T" B31="Y"/>
                    <BKK B30="T" B31="Y"/>
                </SID>
            </ITN>
            <ITN NUM="2" Q5Q="2" C65="0">
                <SID Q14="0" Q15="2">
                    <BKK B30="T" B31="Y"/>
                    <BKK B30="T" B31="Y"/>
                    <BKK B30="Y" B31="Y"/>
                </SID>
                <SID Q14="1" Q15="1">
                    <BKK B30="Y" B31="Y"/>
                    <BKK B30="T" B31="Y"/>
                    <BKK B30="T" B31="Y"/>
                </SID>
            </ITN>
            <ITN NUM="3" Q5Q="3" C65="0">
                <SID Q14="0" Q15="0">
                    <BKK B30="T" B31="Y"/>
                    <BKK B30="T" B31="Y"/>
                    <BKK B30="Y" B31="Y"/>
                </SID>
                <SID Q14="1" Q15="2">
                    <BKK B30="Y" B31="Y"/>
                    <BKK B30="T" B31="Y"/>
                    <BKK B30="T" B31="Y"/>
                </SID>
            </ITN>
            <ITN NUM="4" Q5Q="4" C65="0">
                <SID Q14="0" Q15="1">
                    <BKK B30="T" B31="Y"/>
                    <BKK B30="T" B31="Y"/>
                    <BKK B30="Y" B31="Y"/>
                </SID>
                <SID Q14="1" Q15="3">
                    <BKK B30="Y" B31="Y"/>
                    <BKK B30="T" B31="Y"/>
                    <BKK B30="T" B31="Y"/>
                </SID>
            </ITN>
            <OND A01="YYC" A02="DPS" D01="2015-06-15"/>
            <OND A01="DPS" A02="YYC" D01="2015-07-08"/>
        </ShoppingRequest><br>
Example before:
        core dump
Example after:
        Normal response returned
Files updated:
        DataModel/FareMarket.cpp
        DataModel/FareMarket.h
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Artur de Sousa Rocha
Code reviewers: Janusz Jagodzinski
BA: 
QA: 

Title: FALLBACK_APO35339_C104_IF108 fallback removal
Date: 02/26/2015
Description:
        FALLBACK_APO35339_C104_IF108 fallback removal in R4
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        <FAM=atsev2> tseserver DYNAMIC_LOADABLE\FALLBACK_SECTION::FALLBACK_APO35339_C104_IF108 Y added in Rel1  = SCALAR N/A N N REMOVED
        <FAM=atsev2> tseserver FALLBACK_SECTION\FALLBACK_APO35339_C104_IF108 N added in Rel1 = SCALAR N/A N N REMOVED
Resolution/QA recommendation:
        n/a
Entry/XML to recreate:
        n/a
Example before:
        n/a
Example after:
        n/a
Files updated:
        Fallback.cpp
        Combinations.cpp
Unit tests files:
        n/a
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [ ] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Vladimir Koliasnikov
Code reviewers: Nakamon Thamsiriboon
BA: 
QA: 

Title: [JIRA] (APO-39049) PL 271855 TW41509/HK56630 - INCORRECT cat 9 charge amount FOR CHILD - C08
Date: 02/26/2015
Description:
        Cat 9 incorrectly process child with specified age.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        <FAM=atsev2>    tseserver    FALLBACK_SECTION\PAX_TYPE_WITH_SPECIFIED_AGE    N        =    SCALAR    N/A    N    N    CREATED
Resolution/QA recommendation:
        Fix is applied for all possible areas/categories.
Entry/XML to recreate:
        <b>AAAO508</b>
        1 CX 812R 13JUN HKGBOS GK2   600P  930P
         ARUNK BOSJFK
        2 CX 889R 19JUL JFKYVR GK2   955P  045A
        3 CX 889R 10AUG YVRHKG GK2   200A  610A<br>
        <b>WPPC10</b>
Example before:
        PSGR TYPE  C10 - 01
             CXR RES DATE  FARE BASIS      NVB   NVA    BG
         HKG
         BOS CX  R   13JUN R1YHK/CH25            13JUN 02P
         NYC     S U R F A C E
         YVR CX  R   19JUL R1YHK/CH25            13JUN 02P
         HKG CX  R   10AUG R1YHK/CH25            13JUN 02P
        FARE  HKD    <color=red> 23660</color> 
        TAX   HKD       278US HKD        43YC HKD      1345XT
        TOTAL HKD     <color=red>25326</color>
        C10-02  R1YHK/CH25
         HKG CX BOS Q5.80 1490.93/-NYC CX YVR <color=red>S64.50CX</color> HKG1490.93NUC
        <color=red> 3052.16END</color> ROE7.75183
        XT HKD55XY HKD40XA HKD44AY HKD208CA HKD161SQ HKD8XG HKD793YR
        XT HKD36XFJFK4.5
Example after:
        PSGR TYPE  C10 - 01
             CXR RES DATE  FARE BASIS      NVB   NVA    BG
         HKG
         BOS CX  R   13JUN R1YHK/CH25            13JUN 02P
         NYC     S U R F A C E
         YVR CX  R   19JUL R1YHK/CH25            13JUN 02P
         HKG CX  R   10AUG R1YHK/CH25            13JUN 02P
        FARE  HKD     <bgcolor=#00ff00>23540 </bgcolor>
        TAX   HKD       278US HKD        43YC HKD      1345XT
        TOTAL HKD    <bgcolor=#00ff00> 25206</bgcolor>
        C10-02  R1YHK/CH25
         HKG CX BOS Q5.80 1490.93/-NYC CX YVR <bgcolor=#00ff00>S48.37CX</bgcolor> HKG1490.93NUC
        <bgcolor=#00ff00> 3036.03END</bgcolor> ROE7.75183
        XT HKD55XY HKD40XA HKD44AY HKD208CA HKD161SQ HKD8XG HKD793YR
        XT HKD36XFJFK4.5
Files updated:
        Common/FallBack.cpp
        Common/PaxTypeUtil.cpp
        Common/PaxTypeUtil.h
        DataModel/ERDFareComp.cpp
        DataModel/ERDFareComp.h
        Xform/ERDRequestProcessor.cpp<br>
Unit tests files:
        Common/test/PaxTypeUtilTest.cpp
        DataModel/test/ERDFareCompTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Slawomir Machowicz
Code reviewers: Damian Krolik, Konrad Koch, GrzegorzLisowski
BA: 
QA: Maintenance/Early Check-In

Title: [ValidatingCxr] Refactor ValidatingCxrGSAData for Multi Settlement Plans
Date: 02/26/2015
Description:
        Renaming names and methods to avoid confusion and reduce code compliexit.<br>
            Change-Id: I23ec38eb642d6ff03f34a723d9f0334b715cfbbc<br>
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        None
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        None
Example after:
        None
Files updated:
        Common/MultiTicketUtil.cpp
        Common/ValidatingCarrierUpdater.cpp
        Common/ValidatingCarrierUpdater.h
        Common/ValidatingCxrUtil.cpp
        Common/ValidatingCxrUtil.h
        DataModel/Itin.cpp
        DataModel/Itin.h
        DataModel/PricingTrx.h
        DataModel/ValidatingCxrGSAData.h
        Diagnostic/Diag191Collector.cpp
        Diagnostic/Diag199Collector.cpp
        ItinAnalyzer/ItinAnalyzerService.cpp
        ItinAnalyzer/ItinAnalyzerServiceShopping.cpp
        Pricing/Shopping/PQ/SoloItinGenerator.cpp
        Rules/SalesRestrictionRule.cpp
        Xform/PricingResponseFormatter.cpp<br>
Unit tests files:
        Common/test/MultiTicketUtilTest.cpp
        Common/test/ValidatingCarrierUpdaterTest.cpp
        Common/test/ValidatingCxrUtilTest.cpp
        DataModel/test/ItinTest.cpp
        DataModel/test/ValidatingCxrGSADataTest.cpp
        Diagnostic/test/Diag199CollectorTest.cpp
        FareCalc/test/FcCollectorTest.cpp
        ItinAnalyzer/test/ItinAnalyzerServiceTest.cpp
        Pricing/test/PricingOrchestratorTest.cpp
        Pricing/test/PricingUnitFactoryTest.cpp
        Rules/test/SalesRestrictionTest.cpp
        Taxes/LegacyTaxes/test/TaxItineraryTest.cpp
        Xform/test/PricingResponseFormatterTest.cpp<br>
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Mohammed Azam
Code reviewers: https://atsegen01.sgdcelab.sabre.com/#/c/7869/
BA: 
QA: 

Title: Fix SHM-1338, SHM-1339 - Daily not match to IntA
Date: 02/26/2015
Description:
        Fix for SHM-1338 - Daily return more expensive itins than IntA; SHM-1339 - Daily return less options than IntA.  Both have the same root issue.
        The issue was introduced by code change delivered for the RBD T999 Dual Inventory project. The new param was defined as a default and was inserted before the last default param in the method signature. That method was called multiple times in the source code. In the majority of the calls all default params are omitted. And, in few places the default params should provide a different value vs. default. Thus, the new param by accident was not populated.
        The fix was done to correct the issue.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
        Please retest SHM-1338, SHM-1339
Entry/XML to recreate:
        They are shopping IS requests, and available at SHM-1338, SHM-1339
Example before:
        <b>INT-A</b>
        Results for queue 'ME':
        SEQ LEG PU CX/FARE BASIS           /TOTAL AMOUNT/ AMT CUR/GI
          1                                   TOTAL /  156.60 NUC (0.00 NUC)
            0  0 ME <b>VE1GB</b>           LHR-CAI/  78.30 /   50.00 GBP/EH
            1  0 ME VE1GB           CAI-LHR/  78.30 /   50.00 GBP/EH<br>
        P EH A GB04 VE1GB           22  R O    50.00 GBP XPC *** 0050 
        <b>--</b>44<br>
        <b>Daily</b>
        Results for queue 'ME':
        SEQ LEG PU CX/FARE BASIS           /TOTAL AMOUNT/ AMT CUR/GI
          1                                   TOTAL /  289.71 NUC (0.00 NUC)
            0  0 ME <b>LLRNGB</b>          LHR-CAI/ 211.41 /  135.00 GBP/EH
            1  0 ME VE1GB           CAI-LHR/  78.30 /   50.00 GBP/EH<br>
        P EH A GB04 VE1GB           22  R O    50.00 GBP XPC *** CAT-4
        <b>BB</b>44
Example after:
        BASE SOLUTION (30,28)
        LHR-BEY  ME204   1000PM  450AM
        BEY-CAI  ME304    830AM 1000AM
        CAI-BEY  ME305   1100AM 1215PM
        BEY-LHR  ME203    535PM  850PM
        13                                   TOTAL /  156.60 NUC (156.60 NUC)
            0  0 ME <b>VE1GB</b>           LHR-CAI/  78.30 /   50.00 GBP/EH
            1  0 ME VE1GB           CAI-LHR/  78.30 /   50.00 GBP/EH<br>
        BASE SOLUTION (71,28)
        LHR-BEY  ME204   1000PM  450AM
        BEY-CAI  ME306    545PM  715PM
        CAI-BEY  ME305   1100AM 1215PM
        BEY-LHR  ME203    535PM  850PM
        14                                   TOTAL /  156.60 NUC (156.60 NUC)
            0  0 ME <b>VE1GB</b>           LHR-CAI/  78.30 /   50.00 GBP/EH
            1  0 ME VE1GB           CAI-LHR/  78.30 /   50.00 GBP/EH<br>
        BASE SOLUTION (30,86)
        LHR-BEY  ME204   1000PM  450AM
        BEY-CAI  ME304    830AM 1000AM
        CAI-BEY  ME307    815PM  930PM
        BEY-LHR  ME201    735AM 1045AM
        15                                   TOTAL /  156.60 NUC (156.60 NUC)
            0  0 ME <b>VE1GB</b>           LHR-CAI/  78.30 /   50.00 GBP/EH
            1  0 ME VE1GB           CAI-LHR/  78.30 /   50.00 GBP/EH<br>
        BASE SOLUTION (71,86)
        LHR-BEY  ME204   1000PM  450AM
        BEY-CAI  ME306    545PM  715PM
        CAI-BEY  ME307    815PM  930PM
        BEY-LHR  ME201    735AM 1045AM
        16                                   TOTAL /  156.60 NUC (156.60 NUC)
            0  0 ME <b>VE1GB</b>           LHR-CAI/  78.30 /   50.00 GBP/EH
            1  0 ME VE1GB           CAI-LHR/  78.30 /   50.00 GBP/EH
Files updated:
        BookingCode/BookingCodeExceptionValidator.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [ ] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Alexander Zagrebin 
Code reviewers: Kuprasertkul, Thinnakon (Lek) <Thinnakon.Kuprasertkul@sabre.com>
BA: 
QA: 

Title: [ATPCO Tax][S-326928] Ticketing Order Processing
Date: 02/27/2015
Description:
        Ticketing order processing for ATPCO taking into account the TaxType.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        ACMS: ATPCO_TAXES_ON_ITIN_ENABLED = Y
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [X] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Wojciech Franczyk
Code reviewers: Piotr Lach
BA: 
QA: 

Title: RAT-199, D8-New Malaysia tax
Date: 02/27/2015
Description:
        https://jira.sabre.com/browse/RAT-199
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        SPN 216 in sequence 200 activates new code
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        https://jira.sabre.com/browse/RAT-199
Example after:
        https://jira.sabre.com/browse/RAT-199
Files updated:
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Marcin Skalski
Code reviewers: Grzegorz Szczurek, Grzegorz Szwarc
BA: Gary.Nash@sabre.com, Lee.Anna.Sedgwick@sabre.com
QA: Mussuto, Helene <Helene.Mussuto@sabre.com>

Title: Fallbacks removal
Date: 02/27/2015
Description:
        remove unused fallbacks
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_SECTION\FALLBACK_AY_TAX_CAP
        FALLBACK_SECTION\FALLBACK_SW_TAX_INF
        FALLBACK_SECTION\FALLBACK_SW_TAX_INS
        FALLBACK_SECTION\FIX_TKT_DESIGNATOR_EXEMPT_ORDER
        FALLBACK_SECTION\FALLBACK_FIX_ISNOTEFFECTIVEHIST
        FALLBACK_SECTION\TAX_CA_MISSING_ON_DOMESTIC_SEGMENTS
        FALLBACK_SECTION\TAX_ZP_ON_END_TRAVEL
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Marcin Skalski
Code reviewers: Michal Malek
BA: 
QA: 

Title: [RTW-206] Ignore T976 orig/dest indicator for embedded surfaces
Date: 02/27/2015
Description:
        Origin/destination indicator coded in table 976 is applicable only to fare break surface while validating CAT9 and it should be ignored for embedded surfaces (even though it's considered bad coding).
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_SECTION\IGNORE_CAT9_ORIGIN_DEST = N
Resolution/QA recommendation:
        Affects RTW CAT9 embedded surface validation.
Entry/XML to recreate:
        n/a
Example before:
        n/a
Example after:
        n/a
Files updated:
        Common/FallBack.cpp
        Rules/Transfers1.cpp
        Rules/Transfers1.h
Unit tests files:
        Rules/test/TransfersTest1.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [ ] Shopping
        [ ] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Damian Krolik
Code reviewers: Slawomir Machowicz, Michal Jedros
BA: Richard Rummell, Magda Filipska
QA: Grzegorz Panasiuk

Title: [NewFareSelection] Long IA tuning
Date: 02/27/2015
Description:
        Enhancing the process of gathering gov carriers for code share validation. Instead of iterating through every SOP, we would visit only direct itins to get the governing carriers.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_CODE_SHARE_VALIDATION_TUNING = N
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        NA
Example after:
        NA
Files updated:
        Common/FallBack.cpp
        ItinAnalyzer/CodeShareValidatorSOL.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [X] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Masud Khan
Code reviewers: Okan
BA: 
QA: Regression test only

Title: Remove FALLBACK_APM641_WPAE
Date: 02/27/2015
Description:
        Remove FALLBACK_APM641_WPAE
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        Remove_FALLBACK_APM641_WPAE-sg218090 sg218090 true atsev2.2015.04.00 2015-02-27 09:53:05
        <FAM=atsev2> tseserver DYNAMIC_LOADABLE\FALLBACK_SECTION::FALLBACK_APM641_WPAE Y added in 2015 R1 by Brajesh Tiwari = SCALAR N/A N N REMOVED
        <FAM=atsev2> tseserver FALLBACK_SECTION\FALLBACK_APM641_WPAE N added in 2015 R1 by Brajesh Tiwari = SCALAR N/A N N REMOVED
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        Common/FallBack.cpp
        ItinAnalyzer/ItinAnalyzerService.cpp
Unit tests files:
        ItinAnalyzer/test/ItinAnalyzerServiceTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Brajesh Tiwari
Code reviewers: Piotr.Szyba@sabre.com
BA: 
QA: 

Title: load on update:refactoring for thread pool usage
Date: 02/27/2015
Description:
        load on update:refactoring for thread pool usage
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_CONDITIONAL_LOAD_ON_UPDATE = N
        FALLBACK_LOAD_ON_UPDATE_NEW_ROUTE = N
        FALLBACK_LOAD_ON_UPDATE_THREAD_POOL = N
Resolution/QA recommendation:
        regression all applications
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
        <a href=#> Common</a> <a href=#Common/LOUFallbacks.cpp> LOUFallbacks.cpp</a> <a href=#Common/LOUFallbacks.h> LOUFallbacks.h</a> <a href=#Common/Makefile.sources> Makefile.sources</a> <a href=#> DataModel</a> <a href=#DataModel/DelayedUpdates.cpp> DelayedUpdates.cpp</a> <a href=#DataModel/DelayedUpdates.h> DelayedUpdates.h</a>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Ilya Entin
Code reviewers: Alexahder Zagrebin
BA: 
QA: 

Title: [FareSelection] FareMarketMerger changes and tuning.
Date: 02/27/2015
Description:
        Some invalid fares are eliminated in fare market merging stage with this change (for fare selection only)
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        TEP="1" is required to activate the fare selection project
Resolution/QA recommendation:
        Please test this as part of general project testing
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        Pricing/FareMarketMerger.cpp
        Pricing/FareMarketMerger.h<br>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [X] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Okan
Code reviewers: Lek
BA: Nadeem
QA: Satish

Title: cache update refactoring and optimization
Date: 03/01/2015
Description:
        cache update refactoring and optimization
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_LOAD_ON_UPDATE_NEW_ROUTE
        FALLBACK_LOAD_ON_UPDATE_THREAD_POLL
Resolution/QA recommendation:
        regression all applications
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
        <a href=#> Adapter</a> <a href=#Adapter/CacheNotifyAdapter.cpp> CacheNotifyAdapter.cpp</a> <a href=#Adapter/CacheNotifyAdapter.h> CacheNotifyAdapter.h</a> <a href=#> CacheUpdate</a> <a href=#CacheUpdate/CacheUpdateService.cpp> CacheUpdateService.cpp</a> <a href=#> DataModel</a> <a href=#DataModel/CacheTrx.cpp> CacheTrx.cpp</a> <a href=#DataModel/CacheTrx.h> CacheTrx.h</a> <a href=#DataModel/CacheUpdateEvent.h> CacheUpdateEvent.h</a> <a href=#DataModel/DelayedUpdates.cpp> DelayedUpdates.cpp</a> <a href=#DataModel/DelayedUpdates.h> DelayedUpdates.h</a> <a href=#> DBAccess</a> <a href=#DBAccess/ObjectKey.h> ObjectKey.h</a> <a href=#> Server</a> <a href=#Server/TseAppConsole.cpp> TseAppConsole.cpp</a> <a href=#> Xform</a> <a href=#Xform/CacheMessageXMLParser.cpp> CacheMessageXMLParser.cpp</a>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Ilya Entin
Code reviewers: Alexander Zagrebin
BA: 
QA: 

Title: [Tech initiative] Fallback removal
Date: 03/02/2015
Description:
        APO38772: FALLBACK_CAT31_INCORRECT_DATE_FOR_NONREF_AMOUNT
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        n/a
Resolution/QA recommendation:
        n/a
Entry/XML to recreate:
        n/a
Example before:
        n/a
Example after:
        n/a
Files updated:
        DataModel/FarePath.cpp
        DataModel/FarePath.h
        DataModel/RexPricingTrx.cpp<br>
Unit tests files:
        DataModel/test/FarePathTestWithRexTrx.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [X] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Szwarc
Code reviewers: n/a
BA: n/a
QA: n/a

Title: [Tech initiative][TNS][IBF] Use read-write locks
Date: 03/02/2015
Description:
        The original core dump fix was heavy-handed, using full locks in all cases. We can use read locks when getting brand status.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
        IBF and TN Shopping regression
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        DataModel/FareMarket.cpp
        DataModel/FareMarket.h
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Artur de Sousa Rocha
Code reviewers: Michal Mlynek, Janusz Jagodzinski
BA: 
QA: 

Title: Config change - added ES nation to SAME_DAY_DEP_TAX_NATIONS
Date: 03/02/2015
Description:
        Added ES nation to Countries with taxes with same day rule.
        Jira: <a href=http://asjira.sabre.com/browse/SSDSP-515>SSDSP-515</a>
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        NA
Resolution/QA recommendation:
        NA
Entry/XML to recreate:
        <TRQ>
            <AGI A10="STO" A20="F9ME" A21="F9ME" C40="SEK" AB0="9999999" AB1="9999999" A80="F9ME" A90="DH3" N0G="*" B00="1S" Q01="38"/>
            <BIL A20="F9ME" A22="F9ME" AA0="DH3" AE0="AA" C00="504420817578146782"/>
            <PRO D07="2015-02-27" D54="157" P0J="T" Q0S="602" PFC="T" HGI="F"/>
            <CAL Q1A="2" B50="NNCWGSW" S53="XAT" P04="1" S70="T" C5F="846"/>
            <CAL Q1A="1" B50="NNCWGSW" S53="XAT" P04="1" S70="T" C5F="846"/>    
            <FLI Q1C="6" A01="CGN" A02="BCN" B00="4U" B01="4U" Q0B="526" B40="319" D31="17:25" D32="19:35"/>    
            <FLI Q1C="5" A01="ARN" A02="CGN" B00="4U" B01="4U" Q0B="219" B40="319" D31="09:20" D32="11:25"/>    
            <FLI Q1C="3" A01="BCN" A02="DUS" B00="4U" B01="4U" Q0B="9525" B40="320" D31="09:35" D32="11:55"/>
            <FLI Q1C="4" A01="DUS" A02="ARN" B00="4U" B01="4U" Q0B="9212" B40="CR9" D31="17:30" D32="19:25"/>    
            <FLI Q1C="7" A01="BCN" A02="DUS" B00="4U" B01="4U" Q0B="9529" B40="319" D31="19:45" D32="22:05"/>
            <FLI Q1C="8" A01="DUS" A02="ARN" B00="4U" B01="4U" Q0B="9216" B40="CR9" D31="07:00" D32="08:55"/>
            <DAT Q1E="1" D01="2015-04-27"/>    
            <DAT Q1E="2" D01="2015-04-29"/>
            <DAT Q1E="4" D01="2015-04-30"/>        
            <COM Q1D="2" B05="LH">
                <PXI B70="ADT" Q0W="1" C5F="1692" C65="0">
                    <CID Q1A="1" A01="ARN" A02="BCN"/>
                    <CID Q1A="2" A01="BCN" A02="ARN"/>
                </PXI>
                <FID Q1C="5" D01="1" B30="N"/>
                <FID Q1C="6" D01="1" B30="N"/>
                <FID Q1C="7" D01="2" B30="N"/>
                <FID Q1C="8" D01="4" B30="N"/>
            </COM>
            <COM Q1D="3" B05="LH">
                <PXI B70="ADT" Q0W="1" C5F="1692" C65="0">
                    <CID Q1A="1" A01="ARN" A02="BCN"/>
                    <CID Q1A="2" A01="BCN" A02="ARN"/>
                </PXI>
                <FID Q1C="5" D01="1" B30="N"/>
                <FID Q1C="6" D01="1" B30="N"/>
                <FID Q1C="3" D01="2" B30="N"/>
                <FID Q1C="4" D01="2" B30="N"/>
            </COM><br>
        </TRQ>
Example before:
        <code>RA1 -        179.00</code>
Example after:
        <code>RA1 -        234.00</code>
Files updated:
        NA
Unit tests files:
        NA
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Jacek Francuz
Code reviewers: Artur Jaworski
BA: 
QA: 

Title: Fix WPA BAGGAGETEXT001 text
Date: 03/02/2015
Description:
        While serializing MSG tags in WPA BAGGAGETEXT001 should be replaced with
         actual baggage text as it happens in WP response formatter.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FIX_WPA_MESSAGES...
Resolution/QA recommendation:
        It should affect WPA only, especially when only 1 fare is returned (then WPA behaves similarly to WP and returns baggage texts in primary entry).
Entry/XML to recreate:
        <ALTPRICINGREQUEST VERSION="1.0.1">
         <AGI A10="TYO" A20="8IB6" A21="8IB6" AB0="1637890" AB1="1637890" A90="HDO" N0G="*" A80="8IB6" B00="1F" C40="JPY" Q01="67" AE0="1F" />
         <BIL S0R="PPSS" A20="HDQ" Q03="925" Q02="2902" AE0="AA" AD0="522C0B" A22="8IB6" AA0="HDO" C20="INTLWPI1" C01="110014970075431937" A70="WPA Q" />
         <PRO C45="JPY" PBB="F" RTW="F" D54="1387" PBZ="F" N08="B" Q0P="1" P0J="T" SEZ="T" SEY="T" PPC="T" S14="WPA Q/*196" S15="CRSAGT" />
         <PXI B70="ADT" Q0U="01" />
         <SGI Q0C="01">
         <FLI Q0C="01" N03="A" B00="CX" B01="CX" A01="HKG" A02="LAX" B30="Y" D01="2015-05-01" Q0B="884" D02="2015-05-01" D00="2015-02-18" D31="0775" D32="0675" D30="1387" BB2="SS" BB0="OK" />
         </SGI>
         <RES>
         <IDS B00="CX" Q0B="884" B30="Y" D01="2015-05-01" D31="1255" A01="HKG" D02="2015-05-01" D32="1115" A02="LAX" A70="SS" Q0U="01" N0V="J" P2X="EN" />
         <POC A03="HKG" D01="2015-05-01" D02="1255" />
         </RES>
        </ALTPRICINGREQUEST>
Example before:
        ...
        <MSG N06="X" Q0K="3" S18="1ST PSGR TYPE" />
        <MSG N06="X" Q0K="4" S18=" CXR RES DATE FARE BASIS NVB NVA BG" />
         <MSG N06="X" Q0K="5" S18=" HKG" />
         <MSG N06="X" Q0K="6" S18=" LAX CX Y 01MAY YX2 01MAY 02P" />
         <MSG N06="X" Q0K="7" S18="FARE HKD 13610 EQUIV JPY 209800" />
         <MSG N06="X" Q0K="8" S18="TAX JPY 1850HK JPY 2120US JPY 4970XT" />
         <MSG N06="X" Q0K="9" S18="TOTAL JPY 218740" />
         <MSG N06="X" Q0K="10" S18="ADT-01 YX2" />
         <MSG N06="X" Q0K="11" S18="01MAY15 HKG CX LAX Q5.80 1749.26NUC1755.06END ROE7.75183" />
         <MSG N06="X" Q0K="12" S18="XT JPY660YC JPY840XY JPY600XA JPY2870YR" />
         <MSG N06="X" Q0K="13" S18="ENDOS*SEG1*T1" />
         <MSG N06="X" Q0K="14" S18="RATE USED 1HKD-15.410695022345JPY" />
         <MSG N06="X" Q0K="15" S18="ATTN*VALIDATING CARRIER - CX" />
         <MSG N06="X" Q0K="16" S18="BAGGAGETEXT001" />
Example after:
        ...
        <MSG N06="X" Q0K="3" S18="1ST PSGR TYPE" />
         <MSG N06="X" Q0K="4" S18=" CXR RES DATE FARE BASIS NVB NVA BG" />
         <MSG N06="X" Q0K="5" S18=" HKG" />
         <MSG N06="X" Q0K="6" S18=" LAX CX Y 01MAY YX2 01MAY 02P" />
         <MSG N06="X" Q0K="7" S18="FARE HKD 13610 EQUIV JPY 209800" />
         <MSG N06="X" Q0K="8" S18="TAX JPY 1850HK JPY 2120US JPY 4970XT" />
         <MSG N06="X" Q0K="9" S18="TOTAL JPY 218740" />
         <MSG N06="X" Q0K="10" S18="ADT-01 YX2" />
         <MSG N06="X" Q0K="11" S18="01MAY15 HKG CX LAX Q5.80 1749.26NUC1755.06END ROE7.75183" />
         <MSG N06="X" Q0K="12" S18="XT JPY660YC JPY840XY JPY600XA JPY2870YR" />
         <MSG N06="X" Q0K="13" S18="ENDOS*SEG1*T1" />
         <MSG N06="X" Q0K="14" S18="RATE USED 1HKD-15.410695022345JPY" />
         <MSG N06="X" Q0K="15" S18="ATTN*VALIDATING CARRIER - CX" />
         <MSG N06="X" Q0K="16" S18="ATTN*BAG ALLOWANCE -HKGLAX-02P/CX/EACH PIECE UP TO 50 POUND" />
         <MSG N06="X" Q0K="17" S18="ATTN*S/23 KILOGRAMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTI" />
         <MSG N06="X" Q0K="18" S18="ATTN*METERS" />
         <MSG N06="X" Q0K="19" S18="ATTN*CARRY ON ALLOWANCE" />
         <MSG N06="X" Q0K="20" S18="ATTN*HKGLAX-01P/CX" />
         <MSG N06="X" Q0K="21" S18="ATTN*01/UP TO 15 POUNDS/7 KILOGRAMS AND UP TO 45 LINEAR INCHES/" />
         <MSG N06="X" Q0K="22" S18="ATTN*115 LINEAR CENTIMETERS" />
         <MSG N06="X" Q0K="23" S18="ATTN*CARRY ON CHARGES" />
         <MSG N06="X" Q0K="24" S18="ATTN*HKGLAX-CX-CARRY ON FEES UNKNOWN-CONTACT CARRIER" />
         <MSG N06="X" Q0K="25" S18="ATTN*ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY" />
Files updated:
        Common/FallBack.cpp
        Xform/AltPricingResponseFormatter.cpp
        Xform/AltPricingResponseFormatter.h
Unit tests files:
        n/a
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [X] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Damian Krolik
Code reviewers: Slawomir Machowicz
BA: Sergio Bestulic
QA: n/a

Title: Increase number of fares on diagnostic parameter DDSFA
Date: 03/02/2015
Description:
        Today 4 fares are allowed during Diagnostic request using the select fares parameter. A change was made to increase the number of fares to 24.
         WPQ/*499/F1fare1/F2fare2/F3fare2......../F24fare24/DDSFA
Applies to: 
        [ ] all agencies
        [ ] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        <fam=atsev2>tseserverDYNAMIC_LOADABLE\FALLBACK_SECTION::FALLBACK_DIAGNOSTIC_SFA Y Added on 2015 R4=SCALARN/ANNCREATED
         <fam=atsev2>tseserverFALLBACK_SECTION\FALLBACK_DIAGNOSTIC_SFA N Added on 2015 R4=SCALAR N/ANNCREATED
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        WPQ/*499<br>
         DFW-AA-TUL /CXR-AA/ #GI-WH# .OUT.<br>
         REQUESTED PAXTYPE : ADT
         INBOUND CURRENCY : USD
         OUTBOUND CURRENCY : USD<br>
         - -- - ---- ----------- --- - - -------- --- --- --- --- --- --
         GI V RULE FARE BASIS TRF O O AMT CUR PAX RTG RUL BKG P
         NUM R I TPE F 
         - -- - ---- ----------- --- - - -------- --- --- --- --- --- --
         P A 612I QE21ZNI1 0 R 60.47 USD ADT P F05 NP :F
         P A 611I NA14ZNI1 0 X 80.00 USD ADT P P* F :F
         P A 611I SA14ZNI1 0 X 89.30 USD ADT P P* F :F
         P A 611I SA07ZNI1 0 X 100.47 USD ADT P P* F :F
         P A 611I GA07ZNI1 0 X 114.42 USD ADT P P* F :F
         P A 611I VA07ZNI1 0 X 131.16 USD ADT P P* F :F
         P A 611I VA03ZNI1 0 X 141.40 USD ADT P P* F :F
         P A 611I WA00ZNI1 0 X 151.63 USD ADT P P* F :F
         P A 611I LA00ZRI1 0 X 178.60 USD ADT P P* F :F
         B A WAUP GA07ZNI1/WA*191 X 187.90 USD ADT P P* F :F
         B A WAUP VA07ZNI1/WA*191 X 204.64 USD ADT P P* F :F
         B A WAUP VA03ZNI1/WA*191 X 214.88 USD ADT P P* F :F
Example after:
        <bgcolor=yellow>WPQ/*499/F1QE21ZNI1/F2NA14ZNI1/DDSFA</bgcolor>
         <bgcolor=yellow> </bgcolor>
         DFW-AA-TUL /CXR-AA/ #GI-WH# .OUT.<br>
         REQUESTED PAXTYPE : ADT
         INBOUND CURRENCY : USD
         OUTBOUND CURRENCY : USD<br>
         - -- - ---- ----------- --- - - -------- --- --- --- --- --- --
         GI V RULE FARE BASIS TRF O O AMT CUR PAX RTG RUL BKG P
         NUM R I TPE F 
         - -- - ---- ----------- --- - - -------- --- --- --- --- --- --
         P A 612I QE21ZNI1 0 R 60.47 USD ADT P F05 NP :F
         P A 611I NA14ZNI1 0 X 80.00 USD ADT P P* F :F
         ----- 0 VALID PAXTYPEFARE FOR ADT-----
         .
Files updated:
        <a href=https://atsegen01.sgdcelab.sabre.com/#/c/7962/3/Common/FallBack.cpp>Common/FallBack.cpp</a>
         <a href=https://atsegen01.sgdcelab.sabre.com/#/c/7962/3/Fares/FareController.cpp>Fares/FareController.cpp</a>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Mauricio Dantas
Code reviewers: Mohammad Hossan
BA: 
QA: 

Title: [AB-240] Fix differene between Ver 1 and Ver 3 in PADIS
Date: 03/02/2015
Description:
        [AB-240] Fix differene between Ver 1 and Ver 3 in PADIS
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        Changes are controlled by FALLBACK_AB240 and active in daily only.
Resolution/QA recommendation:
Entry/XML to recreate:
        <AncillaryPricingRequest xmlns="http://www.atse.sabre.com/AncillaryPricing/Request" Version="3.0.0">
         <AGI A10="MIA" A20="80K2" A21="9I98" A80="80K2" A90="JK2" AB0="9999999" AB1="9999999" B00="1S" C40="USD" N0G="*" Q01="34" />
         <BIL A20="HDQ" A22="80K2" A70="PRET" AA0="JK2" AD0="52D3B4" AE0="AA" C00="7896804216328249856" Q02="0" Q03="0" S0R="PANC" />
         <PRO AF0="MIA" AG0="MIA" C10="" PS1="T" S14="WP">
         <RFG GBA="OCF" />
         </PRO>
         <ITN Q00="1">
         <SGI Q00="1">
         <FLI A01="MUC" A02="LAX" B00="LH" B01="LH" B30="Y" BB0="OK" C7B="T" D01="2015-09-20" D02="2015-09-20" D31="1200" D32="1515" Q0B="452" />
         </SGI>
         <SGI Q00="2">
         <FLI A01="LAX" A02="MUC" B00="LH" B01="LH" B30="Y" BB0="OK" C7B="T" D01="2015-09-30" D02="2015-10-01" D31="1705" D32="1335" Q0B="453" />
         </SGI>
         </ITN>
         <ITN Q00="2">
         <IRO>
         <PXI B70="ADT" Q0U="1" />
         </IRO>
         <SGI Q00="1">
         <FLI A01="MUC" A02="LAX" B00="LH" B01="LH" B30="Y" BB0="OK" C7B="T" D01="2015-09-20" D02="2015-09-20" D31="1200" D32="1515" N0E="Y" Q0B="452" />
         <FBA Q6D="1" />
         </SGI>
         <SGI Q00="2">
         <FLI A01="LAX" A02="MUC" B00="LH" B01="LH" B30="Y" BB0="OK" C7B="T" D01="2015-09-30" D02="2015-10-01" D31="1705" D32="1335" N0E="Y" Q0B="453" />
         <FBA Q6D="2" />
         </SGI>
         <FBI B02="LH" B50="YFFDEW" C50="2016.93" FTY="00" Q00="1" Q3W="1" S37="ATP" S53="XEX" S90="W4DE" />
         <FBI B02="LH" B50="YFFDEW" C50="2016.93" FTY="00" Q00="2" Q3W="1" S37="ATP" S53="XEX" S90="W4DE" />
         </ITN>
         <ITN Q00="3">
         <IRO>
         <PXI B70="INF" Q0U="1" />
         </IRO>
         <SGI Q00="1">
         <FLI A01="MUC" A02="LAX" B00="LH" B01="LH" B30="Y" BB0="OK" C7B="T" D01="2015-09-20" D02="2015-09-20" D31="1200" D32="1515" N0E="Y" Q0B="452" />
         <FBA Q6D="1" />
         </SGI>
         <SGI Q00="2">
         <FLI A01="LAX" A02="MUC" B00="LH" B01="LH" B30="Y" BB0="OK" C7B="T" D01="2015-09-30" D02="2015-10-01" D31="1705" D32="1335" N0E="Y" Q0B="453" />
         <FBA Q6D="2" />
         </SGI>
         <FBI B02="LH" B50="YFFDEW" C50="2016.93" FTY="00" Q00="1" Q3W="1" S37="ATP" S53="XEX" S90="W4DE" />
         <FBI B02="LH" B50="YFFDEW" C50="2016.93" FTY="00" Q00="2" Q3W="1" S37="ATP" S53="XEX" S90="W4DE" />
         </ITN>
        </AncillaryPricingRequest>
Example before:
        <AncillaryPricingResponse xmlns="http://www.atse.sabre.com/AncillaryPricing/Response">
         <ITN Q00="2">
         <OCH>
         <MSG S18="AIR EXTRAS" />
         </OCH>
         <OCG Q00="0" SF0="BD" ST0="NF" />
         <OCG Q00="4" SF0="BG" ST1="*">
         <MSG N06="X" Q0K="3" S18="BG-BAGGAGE CXR SEG/CPA FEE" />
         <MSG N06="X" Q0K="3" S18="-- ALL-SECOND CHECKED BAG LH 1-MUCLAX 100.00 *" />
         <OSC SHK="0CD" SFF="SECOND CHECKED BAG" SFV="MMGR" B01="LH" SFD="Y">
         <OOS N11="P" A01="MUC" A02="LAX">
         <Q00>01</Q00>
         <SUM B70="ALL" C51="100.00" C5A="USD" C50="100.00" />
         <DTE D01="2013-05-09" D02="9999-12-31" />
         <FAT />
         </OOS>
         </OSC>
         <MSG N06="X" Q0K="3" S18="-- ALL-THIRD CHECKED BAG LH 1-MUCLAX 200.00 *" />
         <OSC SHK="0CE" SFF="THIRD CHECKED BAG" SFV="MMGR" B01="LH" SFD="Y">
         <OOS N11="P" A01="MUC" A02="LAX">
         <Q00>01</Q00>
         <SUM B70="ALL" C51="200.00" C5A="USD" C50="200.00" />
         <DTE D01="2012-03-08" D02="9999-12-31" />
         <FAT />
         </OOS>
         </OSC>
         <MSG N06="X" Q0K="3" S18="-- ALL-SECOND CHECKED BAG LH 2-LAXMUC 100.00 *" />
         <OSC SHK="0CD" SFF="SECOND CHECKED BAG" SFV="MMGR" B01="LH" SFD="Y">
         <OOS N11="P" A01="LAX" A02="MUC">
         <Q00>02</Q00>
         <SUM B70="ALL" C51="100.00" C5A="USD" C50="100.00" />
         <DTE D01="2013-05-09" D02="9999-12-31" />
         <FAT />
         </OOS>
         </OSC>
         <MSG N06="X" Q0K="3" S18="-- ALL-THIRD CHECKED BAG LH 2-LAXMUC 200.00 *" />
         <OSC SHK="0CE" SFF="THIRD CHECKED BAG" SFV="MMGR" B01="LH" SFD="Y">
         <OOS N11="P" A01="LAX" A02="MUC">
         <Q00>02</Q00>
         <SUM B70="ALL" C51="200.00" C5A="USD" C50="200.00" />
         <DTE D01="2012-03-08" D02="9999-12-31" />
         <FAT />
         </OOS>
         </OSC>
         </OCG>
         <OCG Q00="0" SF0="FF" ST0="NF" />
         <OCG Q00="0" SF0="GT" ST0="NF" />
         <OCG Q00="0" SF0="IE" ST0="NF" />
         <OCG Q00="0" SF0="LG" ST0="NF" />
         <OCG Q00="2" SF0="MD" ST1="/">
         <MSG N06="X" Q0K="3" S18="MD-MEDICAL CXR SEG/CPA FEE" />
         <MSG N06="X" Q0K="3" S18="1 ALL-OXYGEN LH 1-MUCLAX 339.40 /" />
         <OSC SHI="1" SHK="0B4" SFF="OXYGEN" SFV="ATP" B01="LH" N01="E" SHL="AOXY" N02="2" SFN="01" SFD="N" ASG="OX" ASD="OXYGEN" AST="F">
         <OOS N11="S" A01="MUC" A02="LAX">
         <Q00>01</Q00>
         <SUM B70="ALL" C51="300.00" C5A="EUR" C52="339.40" C5B="USD" N21="X" C50="339.40" />
         <DTE D01="1980-01-01" D02="9999-12-31" D03="2015-03-03" />
         <FAT N41="3" N44="1" N45="Y" P03="N" P04="Y" />
         </OOS>
         </OSC>
         <MSG N06="X" Q0K="3" S18="2 ALL-OXYGEN LH 2-LAXMUC 339.40 /" />
         <OSC SHI="2" SHK="0B4" SFF="OXYGEN" SFV="ATP" B01="LH" N01="E" SHL="AOXY" N02="2" SFN="01" SFD="N" ASG="OX" ASD="OXYGEN" AST="F">
         <OOS N11="S" A01="LAX" A02="MUC">
         <Q00>02</Q00>
         <SUM B70="ALL" C51="300.00" C5A="EUR" C52="339.40" C5B="USD" N21="X" C50="339.40" />
         <DTE D01="1980-01-01" D02="9999-12-31" D03="2015-03-03" />
         <FAT N41="3" N44="1" N45="Y" P03="N" P04="Y" />
         </OOS>
         </OSC>
         </OCG>
         <OCG Q00="0" SF0="ML" ST0="NA" />
         <OCG Q00="0" SF0="PT" ST0="NF" />
         <OCG Q00="6" SF0="SA" ST1="@">
         <MSG N06="X" Q0K="3" S18="SA-SEAT ASSIGNMENT CXR SEG/CPA FEE" />
         <MSG N06="X" Q0K="3" S18="-- ALL-LEG SPACE LH 1-MUCLAX 115.00 @" />
         <OSC SHK="0B5" SFF="LEG SPACE" SFV="ATP" B01="LH" SFD="Y">
         <OOS N11="S" A01="MUC" A02="LAX" SEQ="151742" URT="3847">
         <Q00>01</Q00>
         <SUM B70="ALL" C51="115.00" C5A="USD" N21="X" C50="115.00" />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT />
         <PSP>
         <UPC SEU="1">
         <PDS PDI="L" PCA="LEGSP" SED="LEG SPACE" />
         </UPC>
         </PSP>
         </OOS>
         </OSC>
         <MSG N06="X" Q0K="3" S18="-- ALL-SEAT RESERVATION LH 1-MUCLAX 0.00 @" />
         <OSC SHK="0B5" SFF="SEAT RESERVATION" SFV="ATP" B01="LH" SFD="Y">
         <OOS N11="S" A01="MUC" A02="LAX">
         <Q00>01</Q00>
         <SUM B70="ALL" C51="0.00" C5B="USD" C50="0.00" />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="F" />
         </OOS>
         </OSC>
         <MSG N06="X" Q0K="3" S18="-- ALL-LEG SPACE LH 1-MUCLAX 100.00 @" />
         <OSC SHK="0B5" SFF="LEG SPACE" SFV="ATP" B01="LH" SFD="Y">
         <OOS N11="S" A01="MUC" A02="LAX" SEQ="151750" URT="3847">
         <Q00>01</Q00>
         <SUM B70="ALL" C51="100.00" C5A="USD" N21="X" C50="100.00" />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT />
         <PSP>
         <UPC SEU="1">
         <PDS PDI="L" PCA="LEGSP" SED="LEG SPACE" />
         </UPC>
         </PSP>
         </OOS>
         </OSC>
         <MSG N06="X" Q0K="3" S18="-- ALL-LEG SPACE LH 2-LAXMUC 115.00 @" />
         <OSC SHK="0B5" SFF="LEG SPACE" SFV="ATP" B01="LH" SFD="Y">
         <OOS N11="S" A01="LAX" A02="MUC" SEQ="151742" URT="3847">
         <Q00>02</Q00>
         <SUM B70="ALL" C51="115.00" C5A="USD" N21="X" C50="115.00" />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT />
         <PSP>
         <UPC SEU="1">
         <PDS PDI="L" PCA="LEGSP" SED="LEG SPACE" />
         </UPC>
         </PSP>
         </OOS>
         </OSC>
         <MSG N06="X" Q0K="3" S18="-- ALL-SEAT RESERVATION LH 2-LAXMUC 0.00 @" />
         <OSC SHK="0B5" SFF="SEAT RESERVATION" SFV="ATP" B01="LH" SFD="Y">
         <OOS N11="S" A01="LAX" A02="MUC">
         <Q00>02</Q00>
         <SUM B70="ALL" C51="0.00" C5B="USD" C50="0.00" />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="F" />
         </OOS>
         </OSC>
         <MSG N06="X" Q0K="3" S18="-- ALL-LEG SPACE LH 2-LAXMUC 100.00 @" />
         <OSC SHK="0B5" SFF="LEG SPACE" SFV="ATP" B01="LH" SFD="Y">
         <OOS N11="S" A01="LAX" A02="MUC" SEQ="151750" URT="3847">
         <Q00>02</Q00>
         <SUM B70="ALL" C51="100.00" C5A="USD" N21="X" C50="100.00" />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT />
         <PSP>
         <UPC SEU="1">
         <PDS PDI="L" PCA="LEGSP" SED="LEG SPACE" />
         </UPC>
         </PSP>
         </OOS>
         </OSC>
         </OCG>
         <OCG Q00="0" SF0="SB" ST0="NF" />
         <OCG Q00="0" SF0="TS" ST0="NF" />
         <OCG Q00="2" SF0="UN" ST1="/">
         <MSG N06="X" Q0K="3" S18="UN-UNACCOMPANIED TRAVEL ESCORT CXR SEG/CPA FEE" />
         <MSG N06="X" Q0K="3" S18="3 ALL-UNACCOMPANIED MINOR LH 1-MUCLAX 120.00 /" />
         <OSC SHI="3" SHK="0BH" SFF="UNACCOMPANIED MINOR" SFV="ATP" B01="LH" N01="E" SHL="UMNR" N02="2" SFN="01" SFD="N" ASG="MR" ASD="UNACCOMPANIED MINOR" AST="F">
         <OOS N11="S" A01="MUC" A02="LAX">
         <Q00>01</Q00>
         <SUM B70="ALL" C51="120.00" C5A="USD" N21="X" C50="120.00" />
         <DTE D01="1980-01-01" D02="9999-12-31" D03="2015-03-03" />
         <FAT N41="3" N44="1" N45="Y" P03="N" P04="Y" />
         </OOS>
         </OSC>
         <MSG N06="X" Q0K="3" S18="4 ALL-UNACCOMPANIED MINOR LH 2-LAXMUC 120.00 /" />
         <OSC SHI="4" SHK="0BH" SFF="UNACCOMPANIED MINOR" SFV="ATP" B01="LH" N01="E" SHL="UMNR" N02="2" SFN="01" SFD="N" ASG="MR" ASD="UNACCOMPANIED MINOR" AST="F">
         <OOS N11="S" A01="LAX" A02="MUC">
         <Q00>02</Q00>
         <SUM B70="ALL" C51="120.00" C5A="USD" N21="X" C50="120.00" />
         <DTE D01="1980-01-01" D02="9999-12-31" D03="2015-03-03" />
         <FAT N41="3" N44="1" N45="Y" P03="N" P04="Y" />
         </OOS>
         </OSC>
         </OCG>
         <OCG Q00="0" SF0="UP" ST0="NF" />
         <OCG Q00="0" SF0="99" ST0="NA" />
         <OCG Q00="0" SF0="RO" ST0="NA" />
         <OCG Q00="0" SF0="ST" ST0="NA" />
         <OCG Q00="0" SF0="T1" ST0="NA" />
         <OCG Q00="0" SF0="T2" ST0="NA" />
         <OCG Q00="0" SF0="UU" ST0="NA" />
         <OCG Q00="0" SF0="BG" ST0="NF" />
         <OCG Q00="0" SF0="PT" ST0="NF" />
         </ITN>
        </AncillaryPricingResponse>
Example after:
        Unable to run private server on VM. So I am not able to add response after FIX.
Files updated:
        Xform/AncillaryPricingResponseFormatter.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Brajesh Tiwari
Code reviewers: Piotr.Szyba@sabre.com
BA: Joanna.Chrapek@sabre.com
QA: Grzegorz.Mozdzierz@sabre.com;Joanna.Kozlowska@sabre.com

Title: [ValidatingCxr] ACMS fallback flag
Date: 03/02/2015
Description:
        Added fallback flag FALLBACK_VALIDATINGCXR_MULTI_SP. It is set to Y (fallback) for all environments.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_VALIDATINGCXR_MULTI_SP
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        None
Example after:
        None
Files updated:
        None
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Mike Arterburn
Code reviewers: Mohammed Azam
BA: Stan Ovrevik
QA: Kaleshia Newsome-Kjaun

Title: [ValidatingCxr] Temp hard code multi-settlement plans by PCC
Date: 03/02/2015
Description:
        Add fallback flag for multi-settlement plans. Also, temporarily hard code multi-settlement plans for PCC 02AA. The hard code will remain in place until the DB has added the corresponding new Customer table field.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_VALIDATINGCXR_MULTI_SP
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        None
Example after:
        None
Files updated:
        Common/FallBack.cpp
        DBAccess/Customer.h
        DataModel/Agent.cpp
        DataModel/Agent.h
Unit tests files:
        DataModel/test/AgentTest.cpp
        Xform/test/CommonRequestHandlerTest.cpp
        DBAccess/test/DataHandleTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Mike Arterburn
Code reviewers: Mohammed Azam, Mohammad Hossan
BA: Stan Ovrevik
QA: Kaleshia Newsome-Kjaun

Title: Cache Update - logging and refactoring
Date: 03/02/2015
Description:
        Cache Update - logging and refactoring
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_LOAD_ON_UPDATE_NEW_ROUTE
        FALLBACK_LOAD_ON_UPDATE_THREAD_POOL
Resolution/QA recommendation:
        regression
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
        <a href=#> CacheUpdate</a> <a href=#CacheUpdate/CacheUpdateService.cpp> CacheUpdateService.cpp</a> <a href=#> DataModel</a> <a href=#DataModel/CacheUpdateEvent.cpp> CacheUpdateEvent.cpp</a> <a href=#DataModel/CacheUpdateEvent.h> CacheUpdateEvent.h</a> <a href=#DataModel/DelayedUpdates.cpp> DelayedUpdates.cpp</a>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Ilya Entin
Code reviewers: Coleman Ammerman
BA: 
QA: 

Title: [NewFareSelection] Core fix
Date: 03/02/2015
Description:
        The new FS codes has a fix to prevent duplicate FM creation and may cause itin has empty FMs in joint USCA condition check.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        NA
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        NA
Example after:
        NA
Files updated:
        ItinAnalyzer/ItinAnalyzerService.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [X] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Masud Khan
Code reviewers: Lek
BA: 
QA: Regression test

Title: [ATPCO Tax] Ticketing Order Processing bug fix
Date: 03/03/2015
Description:
        There was a bug in triggering proper Ticketing Order Procssing (Legacy or ATPCO) which was causing wrong Tax Order.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        To recreate wrong behavior the ATPCO_TAXES_ON_ITIN_ENABLED ACMS flag must be set to "N" value.
Resolution/QA recommendation:
Entry/XML to recreate:
        <PricingRequest Version="1.1.1">
         <AGI A10="BLK" A21="BLK " A80="BLK" A90="DIE" AB2="9100003" B00="1S" C40="GBP" N0G="5" />
         <BIL A20="ETW" A22="BLK" A70="WPMGB" AA0="DIE" AD0="BEABF9" AE0="ET" C01="402166442951122433" C20="INTLWPI1" S0R="PPSS" />
         <PRO AE0="ET" B05="ET" C40="GBP" C45="GBP" D07="2015-03-02" D54="0962" N08="B" P0J="T" P69="T" PBB="F" PBK="T" PBZ="F" PPC="T" Q0P="1" Q16="03" RTW="F" S14="PROD_REPLAY_REGRESSION" SEY="T" />
         <PXI B70="ADT" Q0U="01" />
         <SGI Q0C="01">
         <FLI A01="LHR" A02="ADD" B00="ET" B01="ET" B30="S" BB0="OK" BB2="QF" D00="2015-03-02" D01="2015-03-17" D02="2015-03-18" D30="0962" D31="1215" D32="0405" N03="A" Q0B="701" Q0C="01" />
         </SGI>
         <SGI Q0C="02">
         <FLI A01="ADD" A02="LHR" B00="ET" B01="ET" B30="W" BB0="OK" BB2="QF" D00="2015-03-02" D01="2015-04-08" D02="2015-04-08" D30="0962" D31="0070" D32="0410" N03="A" Q0B="700" Q0C="02" />
         </SGI>
        </PricingRequest>
Example before:
        <PricingResponse>
         <AGI A10="BLK" A21="BLK" A90="DIE" N0G="5" A80="BLK" B00="1S" C40="GBP" Q01="0" />
         <BIL A20="ETW" AE0="ET" AD0="BEABF9" C20="INTLWPI1" A22="BLK" AA0="DIE" A70="WPMGB" />
         <SUM C56="498.00" C40="GBP" D07="2015-03-02" D54="962" S69="SITI" AO0="BLK" AF0="BLK" B00="ET" D00="2015-03-14" D14="2015-03-14" D16="2015-03-14" D60="23:59" PBC="F" PAR="F" S79="atsebld101">
         <PXI B70="ADT" C43="NUC" C5E="779.56" S85="ADT 1 ADT 0 2 1 1 7 SLRRUK WEB5 903 S 2 2 8 WLPR1YUK WEB5 903 W " PBS="F" USI="6" B71="ADT" Q4P="1" C40="GBP" C5A="498.00" C54="0.63855500000000" Q05="13" C46="GBP" C66="790.46" C65="292.46" C5D="0.00" C5B="0.00" C64="292.46" S66="LON ET ADD626.33ET LON153.23NUC779.56END ROE0.638555" P27="F" NRA="0.00" P26="F">
         <MSG N06="N" Q0K="0" B00="ET" S18="NON-ENDO/PENALTIES APPLY" />
         <MSG N06="W" Q0K="0" S18="PRIVATE FARE APPLIED - CHECK RULES FOR CORRECT TICKETING" />
         <MSG N06="W" Q0K="0" S18="VALIDATING CARRIER SPECIFIED - ET" />
         <MSG N06="B" Q0K="0" S18="BAG ALLOWANCE -LHRADD-02P/ET/EACH PIECE UP TO 50 POUNDS/23 " />
         <MSG N06="B" Q0K="0" S18="KILOGRAMS" />
         <MSG N06="B" Q0K="0" S18="BAG ALLOWANCE -ADDLHR-02P/ET/EACH PIECE UP TO 50 POUNDS/23 " />
         <MSG N06="B" Q0K="0" S18="KILOGRAMS" />
         <MSG N06="B" Q0K="0" S18="CARRY ON ALLOWANCE" />
         <MSG N06="B" Q0K="0" S18="LHRADD ADDLHR-01P/ET" />
         <MSG N06="B" Q0K="0" S18="CARRY ON CHARGES" />
         <MSG N06="B" Q0K="0" S18="LHRADD ADDLHR-ET-CARRY ON FEES UNKNOWN-CONTACT CARRIER" />
         <MSG N06="B" Q0K="0" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY DEPENDING ON" />
         <MSG N06="B" Q0K="0" S18="FLYER-SPECIFIC FACTORS /E.G. FREQUENT FLYER STATUS/MILITARY/" />
         <MSG N06="B" Q0K="0" S18="CREDIT CARD FORM OF PAYMENT/EARLY PURCHASE OVER INTERNET,ETC./" />
         <TAX BC0="YRF" C6B="162.00" C40="GBP" S05="LHR" S04="SERVICE FEE - FUEL" C6A="81.00" C41="GBP" />
         <TAX BC0="GB6" C6B="69.00" C40="GBP" S05="LHR" S04="AIR PASSENGER DUTY APD" C6A="69.00" C41="GBP" A40="GB" />
         <TAX BC0="UB6" C6B="42.06" C40="GBP" S05="LHR" S04="INTERNATIONAL DPTRS IOM THROUGH LTN" C6A="42.06" C41="GBP" A40="GB" />
         <TAX BC0="IH" C6B="19.40" C40="GBP" S05="ADD" S04="AIRPORT DEPARTURE TAX" C6A="30.00" C41="USD" A40="ET" />
         <TBD BC0="YRF" C6B="81.00" C41="GBP" C6A="81.00" A04="ET" S05="LHR" C40="GBP" A06="F" S04="SERVICE FEE - FUEL" />
         <TBD BC0="YRF" C6B="81.00" C41="GBP" C6A="81.00" A04="ET" S05="ADD" C40="GBP" A06="F" S04="SERVICE FEE - FUEL" />
         <TBD BC0="GB6" C6B="69.00" C41="GBP" C6A="69.00" A04="ET" S05="LHR" C40="GBP" A06="F" A40="GB" S04="AIR PASSENGER DUTY APD" />
         <TBD BC0="UB6" C6B="42.06" C41="GBP" C6A="42.06" A04="ET" S05="LHR" C40="GBP" A06="F" A40="GB" S04="INTERNATIONAL DPTRS IOM THROUGH LTN" />
         <TBD BC0="IH" C6B="19.40" C41="USD" C6A="30.00" A04="ET" S05="ADD" C40="GBP" A06="F" A40="ET" S04="AIRPORT DEPARTURE TAX" />
         <TBR>
         <CCD C41="USD" C42="GBP" C54="1.54970000000000" Q05="13" />
         </TBR>
         <FIR>
         <CCD C41="GBP" C54="0.63855500000" Q05="10" D06="01JAN15" D05="INDEF" />
         </FIR>
         <CAL A11="LON" A01="LHR" B08="ET" A12="ADD" A02="ADD" C50="626.33" B50="SLRRUK/WEB" Q04="10" B71="ADT" B02="ET" N00="S" A41="GB" A51="2" A42="ET" A52="2" C51="400.00" C40="GBP" P04="F" P05="T" D00="2015-03-17" N0K="P" P2M="F" PAY="F" PAZ="T" Q4J="1" N1K="R" S70="FR" A60="EH" FTY="0A" S53="WR">
         <CAT>15 25</CAT>
         <ERD Q46="1" Q1K="5" D12="2014-03-31" D55="11-20-49.121000" S53="WR" BJ0="SLRRUK" D08="2015-03-17" Q04="6" C5A="400.000000000" B70="ADT" />
         <C25 S37="ATP" Q41="55089444" />
         <SEG A11="LON" C6I="LHR" A12="ADD" A02="ADD" S37="ATP" B09="ET" S89="903" S90="WEB5" P72="S" Q0Z="01" S12="EH" C11="GB" C12="ET" C13="I" D05="2015-03-25" P2F="T" P2I="F" PAW="F" B00="ET" B01="ET" N00="Y" N1L="L" SHR="788" P2M="T" P2H="F" Q0Y="1" B20="02" N0D="P" P26="F" />
         </CAL>
         <CAL A11="ADD" A01="ADD" B08="ET" A12="LON" A02="LHR" C50="153.23" B50="WLPR1YUK/WEB" Q04="12" B71="ADT" B02="ET" N00="Y" A41="ET" A51="2" A42="GB" A52="2" C51="98.00" C40="GBP" P04="F" P05="T" D00="2015-03-17" N0K="P" P2M="F" PAY="F" PAZ="T" Q4J="1" N1K="R" S70="TO" A60="EH" FTY="0A" S53="XAN">
         <CAT>15 25</CAT>
         <ERD Q46="4" Q1K="1" D12="2015-02-25" D55="03-18-23.974000" S53="XAN" BJ0="WLPR1YUK" D08="2015-04-08" Q04="8" C5A="98.000000000" B70="ADT" />
         <C25 S37="ATP" Q41="55089444" />
         <SEG A11="ADD" C6I="ADD" A12="LON" A02="LHR" S37="ATP" B09="ET" S89="903" S90="WEB5" P72="W" Q0Z="02" S12="EH" C11="ET" C12="GB" C13="I" D06="2015-03-24" D05="2016-03-17" P2F="T" P2I="F" PAW="F" B00="ET" B01="ET" N00="Y" N1L="L" SHR="788" P2M="T" P2H="F" Q0Y="1" B20="02" N0D="P" P26="F" />
         </CAL>
         <ABL D16="20140331" S89="903 " S90="WEB5" S83="ATP " B02="ET" B50="SLRRUK/WEB " A11="LON" A12="ADD" />
         <BDI BPT="A" SFK="ET" SHK="0DFAAET" BPC="2">
         <ITR BPC="2" SHK="0C3ACET" />
         <Q00>1</Q00>
         </BDI>
         <BDI BPT="A" SFK="ET" SHK="0DFAAET" BPC="2">
         <ITR BPC="2" SHK="0C3ACET" />
         <Q00>2</Q00>
         </BDI>
         <BDI BPT="B" SFK="ET" SHK="0LNABET" BPC="1">
         <Q00>1</Q00>
         <Q00>2</Q00>
         </BDI>
         </PXI>
         </SUM>
         <MSG N06="X" Q0K="3" S18="17MAR DEPARTURE DATE-----LAST DAY TO PURCHASE 14MAR/2359" />
         <MSG N06="X" Q0K="4" S18=" BASE FARE TAXES/FEES/CHARGES TOTAL" />
         <MSG N06="X" Q0K="5" S18=" 1- GBP498.00 292.46XT GBP790.46ADT" />
         <MSG N06="X" Q0K="6" S18=" XT 162.00YR 69.00GB 42.06UB 19.40IH " />
         <MSG N06="X" Q0K="7" S18=" 498.00 292.46 790.46TTL" />
         <MSG N06="X" Q0K="8" S18="ADT-01 SLRRUK/WEB WLPR1YUK/WEB" />
         <MSG N06="X" Q0K="9" S18=" LON ET ADD626.33ET LON153.23NUC779.56END ROE0.638555" />
         <MSG N06="X" Q0K="10" S18="NON-ENDO/PENALTIES APPLY" />
         <MSG N06="X" Q0K="11" S18="PRIVATE FARE APPLIED - CHECK RULES FOR CORRECT TICKETING" />
         <MSG N06="X" Q0K="12" S18="VALIDATING CARRIER SPECIFIED - ET" />
         <MSG N06="Y" Q0K="13" S18="ADT-01" />
         <MSG N06="Y" Q0K="14" S18="BAG ALLOWANCE -LHRADD-02P/ET/EACH PIECE UP TO 50 POUNDS/23 " />
         <MSG N06="Y" Q0K="15" S18="KILOGRAMS" />
         <MSG N06="Y" Q0K="16" S18="BAG ALLOWANCE -ADDLHR-02P/ET/EACH PIECE UP TO 50 POUNDS/23 " />
         <MSG N06="Y" Q0K="17" S18="KILOGRAMS" />
         <MSG N06="Y" Q0K="18" S18="CARRY ON ALLOWANCE" />
         <MSG N06="Y" Q0K="19" S18="LHRADD ADDLHR-01P/ET" />
         <MSG N06="Y" Q0K="20" S18="CARRY ON CHARGES" />
         <MSG N06="Y" Q0K="21" S18="LHRADD ADDLHR-ET-CARRY ON FEES UNKNOWN-CONTACT CARRIER" />
         <MSG N06="Y" Q0K="22" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY" />
         <OSC SHK="0C3ACET" SFF="UPTO50LB 23KG BAGGAGE" SF0="BG" DC1="23" D01="UP TO 50 POUNDS/23 KILOGRAMS" W03="50" WU3="L" W04="23" WU4="K" N02="4" />
         <OSC SHK="0DFAAET" SFF="FREE BAGGAGE ALLOWANCE" SF0="BG" N02="4" />
         <OSC SHK="0LNABET" SFF="CARRYON HAND BAGGAGE ALLOWANCE" SF0="BG" ASG="CY" ASD="CARRY ON HAND BAGGAGE" N01="C" N02="4" />
        </PricingResponse>
Example after:
        <PricingResponse>
         <AGI A10="BLK" A21="BLK" A90="DIE" N0G="5" A80="BLK" B00="1S" C40="GBP" Q01="0" />
         <BIL A20="ETW" AE0="ET" AD0="BEABF9" C20="INTLWPI1" A22="BLK" AA0="DIE" A70="WPMGB" />
         <SUM C56="498.00" C40="GBP" D07="2015-03-02" D54="962" S69="SITI" AO0="BLK" AF0="BLK" B00="ET" D00="2015-03-14" D14="2015-03-14" D16="2015-03-14" D60="23:59" PBC="F" PAR="F" S79="atsebld101">
         <PXI B70="ADT" C43="NUC" C5E="779.56" S85="ADT 1 ADT 0 2 1 1 7 SLRRUK WEB5 903 S 2 2 8 WLPR1YUK WEB5 903 W " PBS="F" USI="6" B71="ADT" Q4P="1" C40="GBP" C5A="498.00" C54="0.63855500000000" Q05="13" C46="GBP" C66="790.46" C65="292.46" C5D="0.00" C5B="0.00" C64="292.46" S66="LON ET ADD626.33ET LON153.23NUC779.56END ROE0.638555" P27="F" NRA="0.00" P26="F">
         <MSG N06="N" Q0K="0" B00="ET" S18="NON-ENDO/PENALTIES APPLY" />
         <MSG N06="W" Q0K="0" S18="PRIVATE FARE APPLIED - CHECK RULES FOR CORRECT TICKETING" />
         <MSG N06="W" Q0K="0" S18="VALIDATING CARRIER SPECIFIED - ET" />
         <MSG N06="B" Q0K="0" S18="BAG ALLOWANCE -LHRADD-02P/ET/EACH PIECE UP TO 50 POUNDS/23 " />
         <MSG N06="B" Q0K="0" S18="KILOGRAMS" />
         <MSG N06="B" Q0K="0" S18="BAG ALLOWANCE -ADDLHR-02P/ET/EACH PIECE UP TO 50 POUNDS/23 " />
         <MSG N06="B" Q0K="0" S18="KILOGRAMS" />
         <MSG N06="B" Q0K="0" S18="CARRY ON ALLOWANCE" />
         <MSG N06="B" Q0K="0" S18="LHRADD ADDLHR-01P/ET" />
         <MSG N06="B" Q0K="0" S18="CARRY ON CHARGES" />
         <MSG N06="B" Q0K="0" S18="LHRADD ADDLHR-ET-CARRY ON FEES UNKNOWN-CONTACT CARRIER" />
         <MSG N06="B" Q0K="0" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY DEPENDING ON" />
         <MSG N06="B" Q0K="0" S18="FLYER-SPECIFIC FACTORS /E.G. FREQUENT FLYER STATUS/MILITARY/" />
         <MSG N06="B" Q0K="0" S18="CREDIT CARD FORM OF PAYMENT/EARLY PURCHASE OVER INTERNET,ETC./" />
         <TAX BC0="GB6" C6B="69.00" C40="GBP" S05="LHR" S04="AIR PASSENGER DUTY APD" C6A="69.00" C41="GBP" A40="GB" />
         <TAX BC0="UB6" C6B="42.06" C40="GBP" S05="LHR" S04="INTERNATIONAL DPTRS IOM THROUGH LTN" C6A="42.06" C41="GBP" A40="GB" />
         <TAX BC0="YRF" C6B="162.00" C40="GBP" S05="LHR" S04="SERVICE FEE - FUEL" C6A="81.00" C41="GBP" />
         <TAX BC0="IH" C6B="19.40" C40="GBP" S05="ADD" S04="AIRPORT DEPARTURE TAX" C6A="30.00" C41="USD" A40="ET" />
         <TBD BC0="YRF" C6B="81.00" C41="GBP" C6A="81.00" A04="ET" S05="LHR" C40="GBP" A06="F" S04="SERVICE FEE - FUEL" />
         <TBD BC0="YRF" C6B="81.00" C41="GBP" C6A="81.00" A04="ET" S05="ADD" C40="GBP" A06="F" S04="SERVICE FEE - FUEL" />
         <TBD BC0="GB6" C6B="69.00" C41="GBP" C6A="69.00" A04="ET" S05="LHR" C40="GBP" A06="F" A40="GB" S04="AIR PASSENGER DUTY APD" />
         <TBD BC0="UB6" C6B="42.06" C41="GBP" C6A="42.06" A04="ET" S05="LHR" C40="GBP" A06="F" A40="GB" S04="INTERNATIONAL DPTRS IOM THROUGH LTN" />
         <TBD BC0="IH" C6B="19.40" C41="USD" C6A="30.00" A04="ET" S05="ADD" C40="GBP" A06="F" A40="ET" S04="AIRPORT DEPARTURE TAX" />
         <TBR>
         <CCD C41="USD" C42="GBP" C54="1.54970000000000" Q05="13" />
         </TBR>
         <FIR>
         <CCD C41="GBP" C54="0.63855500000" Q05="10" D06="01JAN15" D05="INDEF" />
         </FIR>
         <CAL A11="LON" A01="LHR" B08="ET" A12="ADD" A02="ADD" C50="626.33" B50="SLRRUK/WEB" Q04="10" B71="ADT" B02="ET" N00="S" A41="GB" A51="2" A42="ET" A52="2" C51="400.00" C40="GBP" P04="F" P05="T" D00="2015-03-17" N0K="P" P2M="F" PAY="F" PAZ="T" Q4J="1" N1K="R" S70="FR" A60="EH" FTY="0A" S53="WR">
         <CAT>15 25</CAT>
         <ERD Q46="1" Q1K="5" D12="2014-03-31" D55="11-20-49.121000" S53="WR" BJ0="SLRRUK" D08="2015-03-17" Q04="6" C5A="400.000000000" B70="ADT" />
         <C25 S37="ATP" Q41="55089444" />
         <SEG A11="LON" C6I="LHR" A12="ADD" A02="ADD" S37="ATP" B09="ET" S89="903" S90="WEB5" P72="S" Q0Z="01" S12="EH" C11="GB" C12="ET" C13="I" D05="2015-03-25" P2F="T" P2I="F" PAW="F" B00="ET" B01="ET" N00="Y" N1L="L" SHR="788" P2M="T" P2H="F" Q0Y="1" B20="02" N0D="P" P26="F" />
         </CAL>
         <CAL A11="ADD" A01="ADD" B08="ET" A12="LON" A02="LHR" C50="153.23" B50="WLPR1YUK/WEB" Q04="12" B71="ADT" B02="ET" N00="Y" A41="ET" A51="2" A42="GB" A52="2" C51="98.00" C40="GBP" P04="F" P05="T" D00="2015-03-17" N0K="P" P2M="F" PAY="F" PAZ="T" Q4J="1" N1K="R" S70="TO" A60="EH" FTY="0A" S53="XAN">
         <CAT>15 25</CAT>
         <ERD Q46="4" Q1K="1" D12="2015-02-25" D55="03-18-23.974000" S53="XAN" BJ0="WLPR1YUK" D08="2015-04-08" Q04="8" C5A="98.000000000" B70="ADT" />
         <C25 S37="ATP" Q41="55089444" />
         <SEG A11="ADD" C6I="ADD" A12="LON" A02="LHR" S37="ATP" B09="ET" S89="903" S90="WEB5" P72="W" Q0Z="02" S12="EH" C11="ET" C12="GB" C13="I" D06="2015-03-24" D05="2016-03-17" P2F="T" P2I="F" PAW="F" B00="ET" B01="ET" N00="Y" N1L="L" SHR="788" P2M="T" P2H="F" Q0Y="1" B20="02" N0D="P" P26="F" />
         </CAL>
         <ABL D16="20140331" S89="903 " S90="WEB5" S83="ATP " B02="ET" B50="SLRRUK/WEB " A11="LON" A12="ADD" />
         <BDI BPT="A" SFK="ET" SHK="0DFAAET" BPC="2">
         <ITR BPC="2" SHK="0C3ACET" />
         <Q00>1</Q00>
         </BDI>
         <BDI BPT="A" SFK="ET" SHK="0DFAAET" BPC="2">
         <ITR BPC="2" SHK="0C3ACET" />
         <Q00>2</Q00>
         </BDI>
         <BDI BPT="B" SFK="ET" SHK="0LNABET" BPC="1">
         <Q00>1</Q00>
         <Q00>2</Q00>
         </BDI>
         </PXI>
         </SUM>
         <MSG N06="X" Q0K="3" S18="17MAR DEPARTURE DATE-----LAST DAY TO PURCHASE 14MAR/2359" />
         <MSG N06="X" Q0K="4" S18=" BASE FARE TAXES/FEES/CHARGES TOTAL" />
         <MSG N06="X" Q0K="5" S18=" 1- GBP498.00 292.46XT GBP790.46ADT" />
         <MSG N06="X" Q0K="6" S18=" XT 69.00GB 42.06UB 162.00YR 19.40IH " />
         <MSG N06="X" Q0K="7" S18=" 498.00 292.46 790.46TTL" />
         <MSG N06="X" Q0K="8" S18="ADT-01 SLRRUK/WEB WLPR1YUK/WEB" />
         <MSG N06="X" Q0K="9" S18=" LON ET ADD626.33ET LON153.23NUC779.56END ROE0.638555" />
         <MSG N06="X" Q0K="10" S18="NON-ENDO/PENALTIES APPLY" />
         <MSG N06="X" Q0K="11" S18="PRIVATE FARE APPLIED - CHECK RULES FOR CORRECT TICKETING" />
         <MSG N06="X" Q0K="12" S18="VALIDATING CARRIER SPECIFIED - ET" />
         <MSG N06="Y" Q0K="13" S18="ADT-01" />
         <MSG N06="Y" Q0K="14" S18="BAG ALLOWANCE -LHRADD-02P/ET/EACH PIECE UP TO 50 POUNDS/23 " />
         <MSG N06="Y" Q0K="15" S18="KILOGRAMS" />
         <MSG N06="Y" Q0K="16" S18="BAG ALLOWANCE -ADDLHR-02P/ET/EACH PIECE UP TO 50 POUNDS/23 " />
         <MSG N06="Y" Q0K="17" S18="KILOGRAMS" />
         <MSG N06="Y" Q0K="18" S18="CARRY ON ALLOWANCE" />
         <MSG N06="Y" Q0K="19" S18="LHRADD ADDLHR-01P/ET" />
         <MSG N06="Y" Q0K="20" S18="CARRY ON CHARGES" />
         <MSG N06="Y" Q0K="21" S18="LHRADD ADDLHR-ET-CARRY ON FEES UNKNOWN-CONTACT CARRIER" />
         <MSG N06="Y" Q0K="22" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY" />
         <OSC SHK="0C3ACET" SFF="UPTO50LB 23KG BAGGAGE" SF0="BG" DC1="23" D01="UP TO 50 POUNDS/23 KILOGRAMS" W03="50" WU3="L" W04="23" WU4="K" N02="4" />
         <OSC SHK="0DFAAET" SFF="FREE BAGGAGE ALLOWANCE" SF0="BG" N02="4" />
         <OSC SHK="0LNABET" SFF="CARRYON HAND BAGGAGE ALLOWANCE" SF0="BG" ASG="CY" ASD="CARRY ON HAND BAGGAGE" N01="C" N02="4" />
        </PricingResponse>
Files updated:
        Taxes/LegacyTaxes/TaxRecord.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [X] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Wojciech Franczyk
Code reviewers: Piotr Lach
BA: 
QA: 

Title: [ATPCO Taxes] Implementation Phases redesign.
Date: 03/03/2015
Description:
        Every phase is now independent.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_SECTION\ATPCO_TAX_PHASESREFACTORING
        ATPCO_TAXES_ON_OC_ENABLED
        ATPCO_TAXES_ONCHANGEFEE_ENABLED
        ATPCO_TAXES_ON_ITIN_ENABLED
Resolution/QA recommendation:
Entry/XML to recreate:
        <RexPricingRequest S96="AR" N25="A">
          <AGI A10="WIN" A21="WIN " AB2="9940101" A90="SSW" N0G="5" A80="WIN" B00="VA" C40="AUD" AE1="WINWC" AE2="9940101" AE3="VA" />
          <BIL S0R="PSS" A20="WIN" AE0="VA" AD0="476A55" A22="WIN" AA0="SSW" C20="INTLCT31" C01="424565913174481927" A70="WFR" />
          <PRO B05="VA" C45="AUD" D92="2014-09-03" T92="0700" D93="2014-10-12" D07="2014-10-12" D54="1103" PBK="T" AE0="VA" PBZ="T" Q0P="1" PCG="F" Q16="03" P0J="T" RTW="F" S13="IAUMBO" S14="WF " AP1="WIN" P69="T" C10="" />
          <PXI B70="ADT" Q0U="01" />
          <EXC>
            <PRO B05="VA" C6P="AUD" C6Y="AUD" NRA="00000123.86" C5E="00123.86" D93="2014-09-03" D07="2014-10-12" D54="1103" AE0="VA" PBZ="T" Q0P="1" Q6B="01.072221000" C5A="123.86" Q16="03" P0J="T" S13="IAUMBO" S14="WF " P69="T" />
            <SGI Q0C="01" B50="SSALE" C50="61.93" A01="BNE" A02="SYD" Q6D="01" PCI="F" S89="302" S90="1120" S37="ATP" P74="T" C48="AUD" B09="VA">
              <FLI Q0C="01" N03="A" B00="VA" B01="VA" A01="BNE" A02="SYD" B30="S" D01="2014-11-07" Q0B="986" D02="2014-11-07" D00="2014-09-03" D30="0900" D31="1140" D32="1295" BB2="SS" BB0="OK" />
            </SGI>
            <SGI Q0C="02" B50="SSALE" C50="61.93" A01="SYD" A02="BNE" Q6D="02" PCI="F" S89="302" S90="1120" S37="ATP" P74="T" C48="AUD" B09="VA">
              <FLI Q0C="02" N03="A" B00="VA" B01="VA" A01="SYD" A02="BNE" B30="S" D01="2014-11-09" Q0B="977" D02="2014-11-09" D00="2014-09-03" D30="0900" D31="1110" D32="1140" BB2="SS" BB0="OK" />
            </SGI>
          </EXC>
          <SGI Q0C="01" A01="BNE" A02="SYD" PCI="F" C48="AUD">
            <FLI Q0C="01" N03="A" B00="VA" B01="VA" A01="BNE" A02="SYD" B30="T" D01="2015-01-23" Q0B="986" D02="2015-01-23" D00="2014-10-12" D30="1103" D31="1140" D32="1295" BB2="SS" BB0="OK" />
          </SGI>
          <SGI Q0C="02" A01="SYD" A02="BNE" PCI="F" C48="AUD">
            <FLI Q0C="02" N03="A" B00="VA" B01="VA" A01="SYD" A02="BNE" B30="T" D01="2015-01-26" Q0B="965" D02="2015-01-26" D00="2014-10-12" D30="1103" D31="1020" D32="1050" BB2="SS" BB0="OK" />
          </SGI>
          <RES>
            <PDT S74="BELFORD" Q4M="01" S76="JANELLE MRS" N1O="09" B00="VA " S78="2104270930">
              <FFP B01="AB " />
              <FFP B01="CG " />
              <FFP B01="DL " />
              <FFP B01="EY " />
              <FFP B01="HA " />
              <FFP B01="MI " />
              <FFP B01="NZ " />
              <FFP B01="SQ " />
              <FFP B01="VA " />
              <FFP B01="VS " />
              <FFP B01="VX " />
              <FFP B01="XR " />
            </PDT>
            <IDS B00="VA " Q0B="986" B30="T " D01="2015-01-23" D31="1900" A01="BNE" D02="2015-01-23" D32="2135" A02="SYD" A70="SS" Q0U="02" N0V="J" P2X="ET" />
            <IDS B00="VA " Q0B="965" B30="T " D01="2015-01-26" D31="1700" A01="SYD" D02="2015-01-26" D32="1730" A02="BNE" A70="SS" Q0U="02" N0V="J" P2X="ET" />
            <POC A03="BNE" D01="2015-01-23" D02="1900" />
          </RES>
        </RexPricingRequest>
Example before:
        <RexPricingResponse S96="AR">
          <AGI A10="WIN" A21="WIN" A90="SSW" N0G="5" A80="WIN" B00="VA" C40="AUD" Q01="0" AE1="WINWC" AE2="9940101" />
          <BIL A20="WIN" AE0="VA" AD0="476A55" C20="INTLCT31" A22="WIN" AA0="SSW" A70="WFRAR" />
          <SUM C56="134.76" C40="AUD" Q6F="0" D07="2014-10-12" D54="1103" S69="SITI" AO0="WIN" AF0="WIN" B00="VA" D00="2014-10-13" D14="2014-10-13" D16="2014-10-13" D60="23:59" N27="2" D95="2014-10-12" T95="18:23" PBC="F" PAR="F" S79="ltxl0240">
            <PXI B70="ADT" C43="AUD" C5E="134.76" S85="ADT 1 ADT 0 2 1 1 8 TSALE 1220 302 T  2 2 8 TSALE 1220 302 T " PBS="F" USI="F" B71="ADT" Q4P="1" C40="AUD" C5A="134.76" C54="1.07597900000000" Q05="13" C46="AUD" C66="209.28" C65="74.52" C5D="0.00" C5B="0.00" C64="74.52" S66="BNE VA SYD67.38VA BNE67.38AUD134.76END" P27="T" NRA="134.76" P26="F">
              <MSG N06="N" Q0K="0" B00="VA" S18="RESTRICTIONS APPLY/NONEND/PENALTIES APPLY" />
              <MSG N06="W" Q0K="0" S18="VALIDATING CARRIER SPECIFIED - VA" />
              <MSG N06="B" Q0K="0" S18="BAG ALLOWANCE     -BNESYD-01P/VA/EACH PIECE UP TO 50 POUNDS/23 " />
              <MSG N06="B" Q0K="0" S18="KILOGRAMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="2NDCHECKED BAG FEE-BNESYD-*/VA" />
              <MSG N06="B" Q0K="0" S18="*BAGGAGE ALLOWANCES/FEES UNKNOWN - CONTACT VA" />
              <MSG N06="B" Q0K="0" S18="BAG ALLOWANCE     -SYDBNE-01P/VA/EACH PIECE UP TO 50 POUNDS/23 " />
              <MSG N06="B" Q0K="0" S18="KILOGRAMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="2NDCHECKED BAG FEE-SYDBNE-*/VA" />
              <MSG N06="B" Q0K="0" S18="*BAGGAGE ALLOWANCES/FEES UNKNOWN - CONTACT VA" />
              <MSG N06="B" Q0K="0" S18="CARRY ON ALLOWANCE" />
              <MSG N06="B" Q0K="0" S18="BNESYD SYDBNE-02P/VA" />
              <MSG N06="B" Q0K="0" S18="01/MUSICAL INSTRUMENTS" />
              <MSG N06="B" Q0K="0" S18="01/CARRYON HAND BAGGAGE" />
              <MSG N06="B" Q0K="0" S18="01/UP TO 15 POUNDS/7 KILOGRAMS AND UP TO 45 LINEAR INCHES/115 L" />
              <MSG N06="B" Q0K="0" S18="INEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY DEPENDING ON" />
              <MSG N06="B" Q0K="0" S18="FLYER-SPECIFIC FACTORS /E.G. FREQUENT FLYER STATUS/MILITARY/" />
              <MSG N06="B" Q0K="0" S18="CREDIT CARD FORM OF PAYMENT/EARLY PURCHASE OVER INTERNET,ETC./" />
              <TAX BC0="QR" C6B="30.30" C40="AUD" S05="BNE" S04="PASSENGER SERVICE CHARGE DOMESTIC DEPARTURE" C6A="7.74" C41="AUD" A40="AU" />
              <TAX BC0="UO" C6B="33.16" C40="AUD" S05="BNE" S04="GOODS AND SERVICES TAX  GST" C6A="0.10" C41="AUD" A40="AU" />
              <TAX BC0="WG" C6B="11.06" C40="AUD" S05="BNE" S04="SAFETY AND SECURITY CHARGE  DEPARTURE" C6A="3.75" C41="AUD" A40="AU" />
              <TBD BC0="QR" C6B="7.74" C41="AUD" C6A="7.74" A04="VA" S05="BNE" C40="AUD" A06="F" A40="AU" S04="PASSENGER SERVICE CHARGE DOMESTIC DEPARTURE" PXF="F" PXG="F" PXH="F" A05="M" C6F="7.74" />
              <TBD BC0="QR" C6B="7.41" C41="AUD" C6A="7.41" A04="VA" S05="SYD" C40="AUD" A06="F" A40="AU" S04="PASSENGER SERVICE CHARGE DOMESTIC DEPARTURE" PXF="F" PXG="F" PXH="F" A05="M" C6F="7.41" />
              <TBD BC0="QR2" C6B="7.74" C41="AUD" C6A="7.74" A04="VA" S05="BNE" C40="AUD" A06="F" A40="AU" S04="PASSENGER SERVICE CHARGE DOMESTIC ARRIVAL" PXF="F" PXG="F" PXH="F" A05="M" C6F="7.74" />
              <TBD BC0="QR2" C6B="7.41" C41="AUD" C6A="7.41" A04="VA" S05="SYD" C40="AUD" A06="F" A40="AU" S04="PASSENGER SERVICE CHARGE DOMESTIC ARRIVAL" PXF="F" PXG="F" PXH="F" A05="M" C6F="7.41" />
              <TBD BC0="UO" C6B="15.55" C41="AUD" C6A="15.55" A04="VA" S05="BNE" C40="AUD" A06="P" A40="AU" S04="GOODS AND SERVICES TAX  GST" PXF="F" PXG="F" PXH="F" A05="M" C6F="0.10" />
              <TBD BC0="UO2" C6B="17.61" C41="AUD" C6A="17.61" A04="VA" S05="BNE" C40="AUD" A06="P" A40="AU" PXF="F" PXG="F" PXH="F" A05="M" C6F="0.10" />
              <TBD BC0="WG" C6B="3.75" C41="AUD" C6A="3.75" A04="VA" S05="BNE" C40="AUD" A06="F" A40="AU" S04="SAFETY AND SECURITY CHARGE  DEPARTURE" PXF="F" PXG="F" PXH="F" A05="M" C6F="3.75" />
              <TBD BC0="WG" C6B="3.75" C41="AUD" C6A="3.75" A04="VA" S05="SYD" C40="AUD" A06="F" A40="AU" S04="SAFETY AND SECURITY CHARGE  DEPARTURE" PXF="F" PXG="F" PXH="F" A05="M" C6F="3.75" />
              <TBD BC0="WG2" C6B="1.75" C41="AUD" C6A="1.75" A04="VA" S05="BNE" C40="AUD" A06="F" A40="AU" S04="SAFETY AND SECURITY CHARGE ARRIVAL" PXF="F" PXG="F" PXH="F" A05="M" C6F="1.75" />
              <TBD BC0="WG2" C6B="1.81" C41="AUD" C6A="1.81" A04="VA" S05="SYD" C40="AUD" A06="F" A40="AU" S04="SAFETY AND SECURITY CHARGE ARRIVAL" PXF="F" PXG="F" PXH="F" A05="M" C6F="1.81" />
              <CAL A11="BNE" A01="BNE" B08="VA" A12="SYD" A02="SYD" C50="67.38" B50="TSALE" Q04="5" B71="ADT" B02="VA" N00="Y" A41="AU" A51="3" A31="AUQL" A42="AU" A52="3" A32="AUNS" C51="67.38" C40="AUD" P04="F" P05="T" D00="2015-01-23" N0K="P" P2M="F" PAY="F" PAZ="F" Q4J="1" N1K="R" S70="FR" A60="EH" FTY="00" S53="ERS">
                <CAT>4 5 8 9 10 12 15 16 18</CAT>
                <SEG A11="BNE" C6I="BNE" A12="SYD" A02="SYD" S37="ATP" B09="VA" S89="302" S90="1220" P72="T" Q0Z="01" S12="EH" C11="AU" C12="AU" C13="F" D06="2015-01-23" D05="2015-01-23" P2F="T" P2I="F" PAW="T" B00="VA" B01="VA" N00="Y" P2M="T" P2H="F" Q0Y="1" B20="01" N0D="P" P26="F" PAX="F" />
              </CAL>
              <CAL A11="SYD" A01="SYD" B08="VA" A12="BNE" A02="BNE" C50="67.38" B50="TSALE" Q04="5" B71="ADT" B02="VA" N00="Y" A41="AU" A51="3" A31="AUNS" A42="AU" A52="3" A32="AUQL" C51="67.38" C40="AUD" P04="F" P05="T" D00="2015-01-23" N0K="P" P2M="F" PAY="F" PAZ="F" Q4J="1" N1K="R" S70="TO" A60="EH" FTY="00" S53="ERS">
                <CAT>4 5 8 9 10 12 15 16 18</CAT>
                <SEG A11="SYD" C6I="SYD" A12="BNE" A02="BNE" S37="ATP" B09="VA" S89="302" S90="1220" P72="T" Q0Z="02" S12="EH" C11="AU" C12="AU" C13="F" D06="2015-01-26" D05="2015-01-26" P2F="T" P2I="F" PAW="T" B00="VA" B01="VA" N00="Y" P2M="T" P2H="F" Q0Y="1" B20="01" N0D="P" P26="F" PAX="F" />
              </CAL>
              <ABL D16="20141005" S89="302    " S90="1220" S83="ATP  " B02="VA" B50="TSALE          " A11="BNE" A12="SYD" />
              <REX N1X="I" N20="V" PXM="F" PXY="F" PXZ="F">
                <CHG PXJ="T" C77="72.73" C78="AUD" PXL="F" PXK="F" />
              </REX>
              <BDI BPT="A" SFK="VA" SHK="0DFAAVA" BPC="1">
                <ITR BPC="1" SHK="0GOACVA" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="A" SFK="VA" SHK="0DFAAVA" BPC="1">
                <ITR BPC="1" SHK="0GOACVA" />
                <Q00>2</Q00>
              </BDI>
              <BDI BPT="B" SFK="VA" SHK="0LNABVA" BPC="2">
                <ITR BPC="1" SHK="0F2ACVA" />
                <ITR BPC="1" SHK="0L5ACVA" />
                <ITR BPC="1" SHK="0M3ACVA" />
                <Q00>1</Q00>
                <Q00>2</Q00>
              </BDI>
            </PXI>
          </SUM>
          <UFL C46="AUD" C66="209.28" />
          <OSC SHK="0DFAAVA" SFF="FREE BAGGAGE ALLOWANCE" SF0="BG" N02="4" />
          <OSC SHK="0F2ACVA" SFF="MUSICAL INSTRUMENTS" SF0="BG" ASG="MI" ASD="MUSICAL INSTRUMENTS" N02="4" />
          <OSC SHK="0GOACVA" SFF="BAGGAGE UPTO 23KG" SF0="BG" DC1="23" D01="UP TO 50 POUNDS/23 KILOGRAMS" DC2="6U" D02="UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" W03="50" WU3="L" W04="23" WU4="K" S03="62" SU3="I" S04="158" SU4="C" N02="4" />
          <OSC SHK="0L5ACVA" SFF="CARRYON HAND BAGGAGE" SF0="BG" ASG="CY" ASD="CARRY ON HAND BAGGAGE" N02="4" />
          <OSC SHK="0LNABVA" SFF="CARRYON HAND BAGGAGE ALLOWANCE" SF0="BG" ASG="CY" ASD="CARRY ON HAND BAGGAGE" N02="4" />
          <OSC SHK="0M3ACVA" SFF="CARRY7KG 15LB UPTO45LI 115LCM" SF0="BG" ASG="CY" ASD="CARRY ON HAND BAGGAGE" DC1="07" D01="UP TO 15 POUNDS/7 KILOGRAMS" DC2="4U" D02="UP TO 45 LINEAR INCHES/115 LINEAR CENTIMETERS" W03="15" WU3="L" W04="7" WU4="K" S03="45" SU3="I" S04="115" SU4="C" N02="4" />
        </RexPricingResponse>
Example after:
        n/a
Files updated:
        DataModel/PricingTrx.cpp
        DataModel/PricingTrx.h
        Taxes/AtpcoTaxes/Common/AtpcoTaxesActivationStatus.cpp
        Taxes/AtpcoTaxes/Common/AtpcoTaxesActivationStatus.h
        Taxes/AtpcoTaxes/Diagnostic/Diagnostic817.cpp
        Taxes/AtpcoTaxes/Diagnostic/Diagnostic817.h
        Taxes/AtpcoTaxes/Diagnostic/PositiveDiagnostic.cpp
        Taxes/AtpcoTaxes/Diagnostic/PositiveDiagnostic.h
        Taxes/AtpcoTaxes/Processor/BusinessRulesProcessor.cpp
        Taxes/AtpcoTaxes/Processor/BusinessRulesProcessor.h
        Taxes/Dispatcher/AtpcoTaxOrchestrator.cpp
        Taxes/Dispatcher/AtpcoTaxOrchestrator.h
        Taxes/Dispatcher/AtpcoTaxesDriverV2.cpp
        Taxes/Dispatcher/AtpcoTaxesDriverV2.h
        Taxes/Dispatcher/TaxStringV2Processor.cpp
        Taxes/LegacyFacades/ImplementationPhase.h
        Taxes/LegacyFacades/ResponseConverter.cpp
        Taxes/LegacyFacades/TaxRequestBuilder.cpp
        Taxes/LegacyFacades/TaxRequestBuilder.h
        Taxes/LegacyTaxes/TaxDriver.cpp
        Taxes/TaxInfo/TaxInfoBuilder.cpp
        Taxes/TaxInfo/TaxInfoBuilder.h
        Taxes/TaxInfo/TaxInfoDriver.cpp
        Taxes/TaxInfo/TaxInfoDriver.h
Unit tests files:
        Taxes/AtpcoTaxes/Diagnostic/test/Diagnostic817Test.cpp
        Taxes/AtpcoTaxes/Diagnostic/test/PositiveDiagnosticTest.cpp
        Taxes/AtpcoTaxes/test/XmlAndDiagnosticFixture.cpp
        Taxes/Dispatcher/test/AtpcoTaxOrchestratorTest.cpp
        Taxes/Dispatcher/test/AtpcoTaxesDriverTest.cpp
        Taxes/LegacyFacades/test/TaxRequestBuilderTest.cpp
        Taxes/LegacyTaxes/test/ServiceRec2ValidatorTest.cpp
        Taxes/LegacyTaxes/test/ServiceRec2ValidatorYQTest.cpp
        Taxes/TaxInfo/test/TaxInfoDriverTest.cpp
        Taxes/TestServer/Facades/TaxStringTestProcessor.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [X] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Krawczyk Maciej
Code reviewers: Lach Piotr, Roman Jacek
BA: 
QA: 

Title: [APM-695] Do not calculate yqyr lower bound for tax exempt requests
Date: 03/03/2015
Description:
        YQYR lower bound was calculated for tax exempt requests. In such a case YQYR are not calculated and lower bound should not exists also.
        Before the change lower bound was calculated always and has influence on solution queue expansion so there was a chance that it could miss cheapest solution.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_SECTION\APM695
Resolution/QA recommendation:
Entry/XML to recreate:
        <PRICINGREQUEST Version="1.1.1">
            <AGI A10="BAD" A21="BAD" AB2="4100009" A90="HQP" N0G="8" A80="BAD" B00="1S" C40="USD" />
            <BIL S0R="PPSS" A20="HDQ" Q03="5642" Q02="6148" AE0="WS" AD0="43120E" A22="BAD" AA0="HQP" C20="INTLHIST" C01="177820017085752833" A70="WPIPA" />
            <PRO B05="WS" C45="USD" PBB="F" RTW="F" D07="2015-02-05" D54="0001" P53="T" PBK="T" AE0="WS" PBZ="T" N08="B" Q0P="1" Q16="02" P0J="T" SEY="T" PPC="T" S15="CRSAGT,MUL375" />
            <PXI B70="ADT" Q0U="01" />
            <SGI Q0C="01">
                <FLI Q0C="01" N03="A" B00="WS" B01="WS" A01="LAX" A02="YVR" B30="P" D01="2015-04-15" Q0B="1697" D02="2015-04-15" D00="2015-02-06" D31="0695" D32="0866" D30="0001" BB2="SS" BB0="OK" />
            </SGI>
            <SGI Q0C="02">
                <FLI Q0C="02" N03="A" B00="WS" B01="WS" A01="YVR" A02="YYZ" B30="P" D01="2015-04-15" Q0B="720" D02="2015-04-16" D00="2015-02-06" D31="1015" D32="0021" D30="0001" BB2="SS" BB0="OK" />
            </SGI>
            <SGI Q0C="03">
                <FLI Q0C="03" N03="A" B00="WS" B01="DL" A01="YYZ" A02="JFK" B30="P" D01="2015-04-16" Q0B="6656" D02="2015-04-16" D00="2015-02-06" D31="0360" D32="0470" D30="0001" BB2="SS" BB0="OK" />
            </SGI>
        </PRICINGREQUEST><br>
Example before:
        <MSG N06="X" Q0K="5" S18=" AMOUNT: 459.00 NUC REQUESTED PAXTYPE: ADT" />
          <MSG N06="X" Q0K="6" S18=" AMOUNT WITH YQ/YR: 459.00" />
          <MSG N06="X" Q0K="7" S18="PU TYPE: 104/OW" />
          <MSG N06="X" Q0K="8" S18=" LAX-YVR" />
          <MSG N06="X" Q0K="9" S18="  NONREFUNDABLE: 157.00 NUC" />
          <MSG N06="X" Q0K="10" S18="  SURCHARGE     0.00  TRANSFER      0.00  STOPOVER      0.00" />
          <MSG N06="X" Q0K="11" S18="  DIFF          0.00  COS           0.00  EMS           0.00" />
          <MSG N06="X" Q0K="12" S18="   PT07P         ATP 13   WS 5100   157.00 USD 1     " />
          <MSG N06="X" Q0K="13" S18="PU TYPE: 104/OW" />
          <MSG N06="X" Q0K="14" S18=" YVR-NYC" />
          <MSG N06="X" Q0K="15" S18="  NONREFUNDABLE: 302.00 NUC" />
          <MSG N06="X" Q0K="16" S18="  SURCHARGE     0.00  TRANSFER      0.00  STOPOVER      0.00" />
          <MSG N06="X" Q0K="17" S18="  DIFF          0.00  COS           0.00  EMS           0.00" />
          <MSG N06="X" Q0K="18" S18="   PO07P         ATP 13   WS 5500   302.00 USD 1     " />
          <MSG N06="X" Q0K="19" S18="YQ/YR AMOUNT: 0.00  LB: 7.50" />
          <MSG N06="X" Q0K="20" S18="PASSED FARE PATH" />
Example after:
        <MSG N06="X" Q0K="5" S18=" AMOUNT: 456.00 NUC REQUESTED PAXTYPE: ADT" />
          <MSG N06="X" Q0K="6" S18="PU TYPE: 104/OW" />
          <MSG N06="X" Q0K="7" S18=" LAX-YTO" />
          <MSG N06="X" Q0K="8" S18="  NONREFUNDABLE: 238.00 NUC" />
          <MSG N06="X" Q0K="9" S18="  SURCHARGE     0.00  TRANSFER      0.00  STOPOVER      0.00" />
          <MSG N06="X" Q0K="10" S18="  DIFF          0.00  COS           0.00  EMS           0.00" />
          <MSG N06="X" Q0K="11" S18="   PT07P         ATP 13   WS 5100   238.00 USD 1     " />
          <MSG N06="X" Q0K="12" S18="PU TYPE: 104/OW" />
          <MSG N06="X" Q0K="13" S18=" YTO-NYC" />
          <MSG N06="X" Q0K="14" S18="  NONREFUNDABLE: 218.00 NUC" />
          <MSG N06="X" Q0K="15" S18="  SURCHARGE     0.00  TRANSFER      0.00  STOPOVER      0.00" />
          <MSG N06="X" Q0K="16" S18="  DIFF          0.00  COS           0.00  EMS           0.00" />
          <MSG N06="X" Q0K="17" S18="   PO07          ATP 13   WS 5500   218.00 USD 1     " />
          <MSG N06="X" Q0K="18" S18="PASSED FARE PATH" />
Files updated:
        Common/FallBack.cpp                |    1 +
         Common/YQYRCalculator.cpp          |   42 ++++++++++++++++++++++++++++++++---
         Common/YQYRCalculator.h            |    5 +++-
         Pricing/FarePathFactory.cpp        |   21 ++++++++++++++---
         Pricing/PricingOrchestrator.cpp    |   13 +++++------
         Pricing/PricingUnitFactory.h       |    6 +----<br>
Unit tests files:
        Common/test/YQYRCalculatorTest.cpp |   29 ++++++++++++++++++++----
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Lisowski
Code reviewers: Grzegorz Cholewiak
BA: 
QA: 

Title: [TECH INITIATIVE] Delete unused files
Date: 03/03/2015
Description:
        Remove few unused files
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
        Regression testing
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        AddonConstruction/SitaGatewayPair.cpp
        DBAccess/DBEGlobalClassMap.h
        Taxes/LegacyTaxes/TaxCH40.cpp
        Taxes/LegacyTaxes/TaxCH40.h<br>
Unit tests files:
        Taxes/LegacyTaxes/test/TaxCH40Test.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Lisowski
Code reviewers: Marek Markiewicz; Piotr Lach
BA: 
QA: 

Title: Remove FALLBACK_OAC
Date: 03/03/2015
Description:
        Remove FALLBACK_OAC
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        Remove_FALLBACK_OAC-sg218090 sg218090 true atsev2.2015.04.00 2015-02-27 13:49:51
        <FAM=atsev2> tseserver DYNAMIC_LOADABLE\FALLBACK_SECTION::FALLBACK_OAC Y added in 2014 R12 by Brajesh Tiwari = SCALAR N/A N N REMOVED
        <FAM=atsev2> tseserver FALLBACK_SECTION\FALLBACK_OAC N Activating in 2015 R1 by Brajesh Tiwari = SCALAR N/A N N REMOVED
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        Common/FallBack.cpp
        Common/TrxUtil.cpp
        Xform/CommonRequestHandler.cpp
Unit tests files:
        TicketingFee/test/SecurityValidatorTest.cpp
        Xform/test/AncillaryPricingRequestHandlerTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Brajesh Tiwari
Code reviewers: Janusz.Jagodzinski@sabre.com;Piotr.Szyba@sabre.com
BA: 
QA: 

Title: Disabled new path in cache update, fixed fallback code
Date: 03/03/2015
Description:
        Temporarily isabled new path in cache update, fixed fallback code for investigation of possible bug in the new code
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_LOAD_ON_UPDATE_NEW_ROUTE = Y
Resolution/QA recommendation:
        regression
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
        DataModel/DelayedUpdates.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Ilya Entin
Code reviewers: n/a
BA: 
QA: 

Title: Reactivate Fix for APO-37138 WPNC
Date: 03/03/2015
Description:
        Because QA was not able to finish testing this APO log we decide to turn it off on R3 and Now it is being reactivated on R4
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        <fam=atsev2>tseserverFALLBACK_SECTION\FALLBACK_APO37138_RBD <bgcolor=yellow>N</bgcolor> Added 2015 R3 Reactivated on R4=SCALARN/ANNUPDATED
Resolution/QA recommendation:
        N/A
Entry/XML to recreate:
        N/A
Example before:
        N/A
Example after:
        N/A
Files updated:
        N/A
Unit tests files:
        N/A
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Mauricio Dantas
Code reviewers: Mauricio Dantas
BA: 
QA: 

Title: AA US/CA mixed carriers award Pricing
Date: 03/03/2015
Description:
        The objective of this project is to enable Sabre, ATSE pricing capability in US/CA market, so system will price a single American Airlines  AAdvantage Award on each qualified fare component, where the travel may include multiple carriers, with or without AA s participation in such fare component.
Applies to: 
        [ ] all agencies
        [ ] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [X] Other: AA partition users
Activated by/Configuration change:
        FALLBACK_SECTION\ALLOW_AA_USCA_MIXED_CXR_AWARD_FARE=N
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        US/CA fare market, when there are two carriers, pricing two reward fares.
        1 AS 34W 20MAR F SEAORD SS1 0830 1427 /E
        2 US1920T 20MAR F ORDCLT SS1 1559 1853 /E
        WPPFFY AWARD AC*APAWD Q/*699
         PRICING SEARCH IN PROGRESS - PLEASE WAIT
        **********************   GROUP FARE PATH   ********************  
        GROUP TOTAL AMOUNT: 0  AMOUNT: 0.00
        REQUESTED PAXTYPE: FFY  
        SEA-AS-CHI   
        TP12X5A/AVB07 ATP 191  AS AD03     0.00 USD        12500 MIL 1  
        WH PFU9000000 OW  
        CHI-US-CLT   
        TP12X5A/AVB07 ATP 191  US AD03     0.00 USD        12500 MIL 1  
        WH PFU5015000 OW  
        ---------  VALID GROUP FP
        ***************************************************************
Example after:
        Priced through award fare. ATSE V2 pricing will build all fare components as outbound; select the first carrier within each fare component as the governing carrier to collect its Award fares.
        WPPFFY AWARD AC*APAWD Q/*699
        PRICING SEARCH IN PROGRESS - PLEASE WAIT
        **********************   GROUP FARE PATH   ********************  
        GROUP TOTAL AMOUNT: 0
        AMOUNT: 0.00 REQUESTED PAXTYPE: FFY  
        SEA-AS-CLT   
        TP12X5A/AVB07 ATP 191  AS AD03     0.00 USD        12500 MIL 1  
        WH PFU9000000 OW  ---------  
        VALID GROUP FP
        ***************************************************************
Files updated:
        Common/FallBack.cpp
        Common/TrxUtil.cpp
        Common/TrxUtil.h
        ItinAnalyzer/ItinAnalyzerService.cpp
        ItinAnalyzer/ItinAnalyzerServiceWrapper.cpp
        <color=black></color>
Unit tests files:
        Common/test/TrxUtilTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [X] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Simon Li
Code reviewers: Nakamon Thamsiriboon
BA: 
QA: 

Title: Fix APO-38840 non-collection of Q surcharge
Date: 03/03/2015
Description:
        System is not applying weekend surcharge according to condition in CAT12 of fare basis J2RTHK.
         1A is picking up the expected Q15.09 for HKGBOM
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        <fam=atsev2>tseserverDYNAMIC_LOADABLE\FALLBACK_SECTION::FALLBACK_APO38840_SURCHARGE_CHECK_DATE Y Added 2015 R4 
         <fam=atsev2>tseserverFALLBACK_SECTION\FALLBACK_APO38840_SURCHARGE_CHECK_DATE N Added 2015 R4
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        *A
         NO NAMES
         1 9W 75J 22MAR S HKGBOM GK1 755P 1215A 23MAR M /E
         2 9W 76J 28MAR J BOMHKG GK1 205A 955A /E
         TICKET RECORD - NOT PRICED
         D608.HDQ*YIJ 1356/03MAR15<br>
         WP
         PSGR TYPE ADT - 01
         CXR RES DATE FARE BASIS NVB NVA BG
         HKG
         BOM 9W J 22MAR J2WRTHK 22MAR 35K
         HKG 9W J 28MAR J2XRTHK 22MAR 35K
         FARE HKD 19170 
         TAX HKD 120HK HKD 29WO HKD 555XT
         TOTAL HKD 19874
         ADT-01 J2WRTHK J2XRTHK
         HKG 9W BOM Q5.80 1240.99 9W HKG1225.51NUC2472.30END ROE7.75183
         XT HKD89IN HKD85YM HKD374YQ HKD7YR
         ENDOS*SEG1/2*NON ENDO
         ATTN*VALIDATING CARRIER - 9W
         ATTN*AIR EXTRAS AVAILABLE - SEE WP*AE
         ATTN*BAGGAGE INFO AVAILABLE - SEE WP*BAG
         .
Example after:
        *A
         NO NAMES
         1 9W 75J 22MAR S HKGBOM GK1 755P 1215A 23MAR M /E
         2 9W 76J 28MAR J BOMHKG GK1 205A 955A /E
         TICKET RECORD - NOT PRICED
         D608.HDQ*YIJ 1435/02MAR15<br>
         WPIPA-LTXL0237.SGDCELAB.SABRE.COM:22222 Q/*854/F1J2RTHK/F2M2KRTHK/DDSFA B24NOV14<br>
         PO HOSTNAME/BASELINE:LTXL0651/PRICINGORCHESTRATOR.2015.03.AH
         HOSTNAME/PORT: LTXL0237/22222
         BASELINE: MANUALBUILD
         DATABASE: FUNCI1 PRC,FUNCIA HIS
         1 2 3 4 5 6
         123456789012345678901234567890123456789012345678901234567890123
         PSGR TYPE ADT - 01
         CXR RES DATE FARE BASIS NVB NVA BG
         HKG
         BOM 9W J 22MAR J2RTHK 22MAR 35K
         HKG 9W J 28MAR J2RTHK 22MAR 35K
         FARE HKD 19170 
         TAX HKD 120HK HKD 29WO HKD 1736XT
         TOTAL HKD 21055
         ADT-01 J2RTHK
         HKG 9W BOM <bgcolor=yellow>Q15.09</bgcolor> Q5.80 1225.76 9W HKG1225.76NUC2472.41
         END ROE7.75029SITI
         XT HKD90IN HKD123YM HKD1514YQ HKD9YR
         ENDOS*SEG1/2*NON ENDO
         ATTN*VALIDATING CARRIER - 9W
         ATTN*ADT-01
         ATTN*BAG ALLOWANCE -HKGBOM-35KG/9W
         ATTN*BAG ALLOWANCE -BOMHKG-35KG/9W 
         MD
         ATTN*CARRY ON ALLOWANCE 
         ATTN*HKGBOM BOMHKG-01P/07KG/9W
         ATTN*CARRY ON CHARGES
         ATTN*HKGBOM BOMHKG-9W-CARRY ON FEES UNKNOWN-CONTACT CARRIER
         ATTN*ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY
         1 2 3 4 5 6
         123456789012345678901234567890123456789012345678901234567890123
         .
Files updated:
        Common/FallBack.cpp
         Rules/SurchargesRule.cpp
         Rules/SurchargesRule.h
Unit tests files:
        Rules/test/SurchargesRuleTest.cpp
         Rules/test/SurchargesRuleTest_NonSideTrip.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Mauricio Dantas
Code reviewers: Vladimir Koliasnikov
BA: Sergio Bestulic
QA: 

Title: [ATPCO RBD Cabin Answer Table] Add fallback config for new diagnostic
Date: 03/03/2015
Description:
        Just delivery the fallback flag for new RBD Cabin Answer table diagnostic. The diagnostic related changes will be delivered in separate delivery.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        <FAM=atsev2> DYNAMIC_LOADABLE\FALLBACK_SECTION::RBD_CABIN_ANSWER_TABLE_DIAG Y add in R4.2015 RBD CABIN ANSWER TABLE project 
        CREATED
        <FAM=atsev2> FALLBACK_SECTION\RBD_CABIN_ANSWER_TABLE_DIAG Y add in R4.2015 RBD CABIN ANSWER TABLE project. Activate in Daily
        for now CREATED
        <FAM=atsev2><APP=historical><ENV=daily> FALLBACK_SECTION\RBD_CABIN_ANSWER_TABLE_DIAG N add in R4.2015 RBD CABIN ANSWER TABLE project. Active in Daily for
        now CREATED
        <FAM=atsev2><APP=pricingv2><ENV=daily> FALLBACK_SECTION\RBD_CABIN_ANSWER_TABLE_DIAG N add in R4.2015 RBD CABIN ANSWER TABLE project. Activate in Daily
        for now CREATED
Resolution/QA recommendation:
        N/A
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        Common/FallBack.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [ ] Shopping
        [ ] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Alexander Zagrebin
Code reviewers: Ilya Entin
BA: 
QA: 

Title: Fix acms configuration 
Date: 03/04/2015
Description:
        Fix acms configuration for script that fun tax server
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
Entry/XML to recreate:
        N/A
Example before:
        N/A
Example after:
        N/A
Files updated:
        Server/tax_server.sh
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Marek Talarczyk
Code reviewers: Michal Klimas, Piotr Lach
BA: 
QA: 

Title: Activate APO-39238
Date: 03/03/2015
Description:
        Ativate APO-39238 as it hasn't passed QA tests<br>
        original delivery http://ctovm1573.dev.sabre.com/atsev2.release_2015_03.htm#delivery_73
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_SECTION\FALLBACK_APO39238 N
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        refer to original delivery
Example after:
        refer to original delivery
Files updated:
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Leszek Banaszek
Code reviewers: -
BA: Richard  Rummell
QA: Helene Mussuto

Title: [IBF][TNS][PBB] YY fares should not be branded
Date: 03/04/2015
Description:
        YY ( industry ) fares should not be branded. Should not be displayed as part of branded solutions. They will only be used in single brand mode ( but displayed as unbranded ) and as part a "cheapest" path in multipla brands mode ( again as non-branded )
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        To deactivate set IGNORE_YY_FARES_IN_BRANDING to N in the config
Resolution/QA recommendation:
        Check that YY (GIF, CIF, Y etc ) fares don't appear as branded in TN shopping or IBF. Diag 889 should display those fares with a remark that they have been skipped in branding.
Entry/XML to recreate:
Example before:
        .
Example after:
        .
Files updated:
        BrandedFares/BrandedFareDiagnostics.cpp
        BrandedFares/BrandedFareDiagnostics.h
        BrandedFares/BrandedFaresSelector.cpp
        BrandedFares/BrandedFaresSelector.h
        Diagnostic/Diag889Collector.cpp
        Diagnostic/Diag889Collector.h
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Michal Mlynek
Code reviewers: Artur De Sousa Rocha
BA: Arkadiusz Smoragiewicz
QA: Lukasz Rak

Title: RAT-191, APO-39321-AY wrong calc. with Ground Transport. v.2
Date: 03/04/2015
Description:
        <a href=https://jira.sabre.com/browse/RAT-191>https://jira.sabre.com/browse/RAT-191</a>
        https://jira.sabre.com/browse/APO-39321
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        UTC: TREATBUSTRAINASNONAIR with value Y
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        <a href=https://jira.sabre.com/browse/RAT-191>https://jira.sabre.com/browse/RAT-191</a>
        https://jira.sabre.com/browse/APO-39321
Example after:
        <a href=https://jira.sabre.com/browse/RAT-191>https://jira.sabre.com/browse/RAT-191</a>
        https://jira.sabre.com/browse/APO-39321
Files updated:
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Marcin Skalski
Code reviewers: Mateusz Drewienkowski
BA: Gary.Nash@sabre.com
QA: Mussuto, Helene <Helene.Mussuto@sabre.com>

Title: [ATPCO Taxes] ATPCO-343 Phase II Tax on change fee not working with Phase III active
Date: 03/04/2015
Description:
        Legacy TaxOnChangeFee is not dependent on legacy taxes on itin calculation, while phase 1 is active (itins on ATPCO Taxes).
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_SECTION\ATPCO_TAX_PHASESREFACTORING
         ATPCO_TAXES_ON_OC_ENABLED
         ATPCO_TAXES_ONCHANGEFEE_ENABLED
         ATPCO_TAXES_ON_ITIN_ENABLED
Resolution/QA recommendation:
Entry/XML to recreate:
        <RexPricingRequest N25="A" S96="AR">
          <AGI A10="WIN" A21="WIN " A80="WIN" A90="SSW" AB2="9940101" AE1="WINWC" AE2="9940101" AE3="VA" B00="1S" C40="AUD" N0G="5" />
          <BIL A20="WIN" A22="WIN" A70="WFR" AA0="SSW" AD0="FB6B22" AE0="VA" C01="180922213038200066" C20="INTLCT31" S0R="PSS" />
          <PRO AC0="BTW49" AE0="VA" AP1="WIN" B05="VA" C45="AUD" D07="2015-02-03" D54="1086" D92="2015-01-17" D93="2015-02-15" P0J="T" P59="T" P60="T" P69="T" PBK="T" PBZ="T" PCG="F" Q0P="1" Q16="03" RTW="F" S13="RUBRKI" S14="WF " SHC="BTW49" T92="0810" C10="" />
          <PXI B70="NEG" Q0U="01" />
          <EXC>
            <PRO AE0="VA" B05="VA" C5A="309.41" C5E="00309.41" C6P="AUD" C6Y="AUD" D07="2015-02-15" D54="1086" D93="2015-01-17" NRA="00000309.41" P0J="T" P69="T" PBZ="T" Q0P="1" Q16="03" Q6B="01.199437000" S11="BTW49" S13="RUBRKI" S14="WF " SHC="ITBTW49" />
            <PXI B70="NEG" />
            <SGI A01="PER" A02="KGI" B09="VA" B50="TSAVERPR/PR" BE0="PR" C48="AUD" C50="144.89" P74="T" PCI="F" Q0C="01" Q6D="01" S37="ATP" S89="912" S90="P002">
              <FLI A01="PER" A02="KGI" B00="VA" B01="VA" B30="T" BB0="OK" BB2="HK" D00="2015-01-17" D01="2015-03-25" D02="2015-03-25" D30="0960" D31="0420" D32="0490" N03="A" Q0B="1849" Q0C="01" />
            </SGI>
            <SGI A01="KGI" A02="PER" B09="VA" B50="QSAVERPR/PR" BE0="PR" C48="AUD" C50="164.52" P74="T" PCI="F" Q0C="02" Q6D="02" S37="ATP" S89="912" S90="P002">
              <FLI A01="KGI" A02="PER" B00="VA" B01="VA" B30="Q" BB0="OK" BB2="SS" D00="2015-01-17" D01="2015-04-01" D02="2015-04-01" D30="0960" D31="1115" D32="1190" N03="A" Q0B="1858" Q0C="02" />
            </SGI>
          </EXC>
          <SGI A01="PER" A02="KGI" C48="AUD" PCI="F" Q0C="01">
            <FLI A01="PER" A02="KGI" B00="VA" B01="VA" B30="T" BB0="OK" BB2="HK" D00="2015-01-16" D01="2015-03-25" D02="2015-03-25" D30="0810" D31="0420" D32="0490" N03="A" Q0B="1849" Q0C="01" />
          </SGI>
          <SGI A01="KGI" A02="PER" C48="AUD" PCI="F" Q0C="02">
            <FLI A01="KGI" A02="PER" B00="VA" B01="VA" B30="Q" BB0="OK" BB2="SS" D00="2015-02-15" D01="2015-04-03" D02="2015-04-03" D30="1086" D31="1115" D32="1190" N03="A" Q0B="1860" Q0C="02" />
          </SGI>
          <RES>
            <IDS A01="PER" A02="KGI" A70="HK" B00="VA " B30="T " D01="2015-03-25" D02="2015-03-25" D31="0700" D32="0810" N0V="J" P2X="ET" Q0B="1849" Q0U="01" />
            <IDS A01="KGI" A02="PER" A70="SS" B00="VA " B30="Q " D01="2015-04-03" D02="2015-04-03" D31="1835" D32="1950" N0V="J" P2X="ET" Q0B="1860" Q0U="01" />
            <POC A03="PER" D01="2015-03-25" D02="0700" />
          </RES>
        </RexPricingRequest>
Example before:
        <RexPricingResponse S96="AR">
          <AGI A10="WIN" A21="WIN" A90="SSW" N0G="5" A80="WIN" B00="1S" C40="AUD" Q01="0" AE1="WINWC" AE2="9940101" />
          <BIL A20="WIN" AE0="VA" AD0="FB6B22" C20="INTLCT31" A22="WIN" AA0="SSW" A70="WFRAR" />
          <SUM C56="327.69" C40="AUD" Q6F="0" D07="2015-02-03" D54="1086" S69="SITI" AO0="WIN" AF0="WIN" B00="VA" N27="1" D95="2015-01-17" T95="13:30" PBC="F" PAR="F" S79="ltxl0240">
            <PXI B70="NEG" C43="AUD" C5E="327.69" S85="NEG 1 NEG 0 2 1 1 8 TSAVERPR P002 912 T  2 2 8 QSAVER 1230 302 Q " PBS="F" USI="6" B71="NEG" Q4P="1" C40="AUD" C5A="327.69" C54="1.19943700000000" Q05="13" C46="AUD" C66="390.43" C65="62.74" C5D="999.9999" C5B="0.00" C64="62.74" S66="PER VA KGI144.89VA PER182.80AUD327.69END" P27="T" NRA="327.69" P26="T" S02="BTW49" N0C="T" C62="327.69" C5G="327.69" C5M="327.69" C61="999.9999" C60="0.00" Q0W="1" Q0V="0">
              <MSG N06="N" Q0K="0" B00="VA" S18="NONREF/RESTRICTIONS APPLY/NONEND/PENALTIES APPLY" />
              <MSG N06="W" Q0K="0" S18="MIXED PASSENGER TYPES - VERIFY RESTRICTIONS" />
              <MSG N06="W" Q0K="0" S18="NEGOTIATED FARES APPLY - VALIDATE ALL RULES" />
              <MSG N06="W" Q0K="0" S18="VALIDATING CARRIER SPECIFIED - VA" />
              <MSG N06="B" Q0K="0" S18="BAG ALLOWANCE     -PERKGI-01P/VA/EACH PIECE UP TO 50 POUNDS/23 " />
              <MSG N06="B" Q0K="0" S18="KILOGRAMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="2NDCHECKED BAG FEE-PERKGI-*/VA" />
              <MSG N06="B" Q0K="0" S18="*BAGGAGE ALLOWANCES/FEES UNKNOWN - CONTACT VA" />
              <MSG N06="B" Q0K="0" S18="BAG ALLOWANCE     -KGIPER-01P/VA/EACH PIECE UP TO 50 POUNDS/23 " />
              <MSG N06="B" Q0K="0" S18="KILOGRAMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="2NDCHECKED BAG FEE-KGIPER-*/VA" />
              <MSG N06="B" Q0K="0" S18="*BAGGAGE ALLOWANCES/FEES UNKNOWN - CONTACT VA" />
              <MSG N06="B" Q0K="0" S18="CARRY ON ALLOWANCE" />
              <MSG N06="B" Q0K="0" S18="PERKGI KGIPER-02P/VA" />
              <MSG N06="B" Q0K="0" S18="01/MUSICAL INSTRUMENTS" />
              <MSG N06="B" Q0K="0" S18="01/CARRYON HAND BAGGAGE" />
              <MSG N06="B" Q0K="0" S18="01/UP TO 15 POUNDS/7 KILOGRAMS AND UP TO 45 LINEAR INCHES/115 L" />
              <MSG N06="B" Q0K="0" S18="INEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY DEPENDING ON" />
              <MSG N06="B" Q0K="0" S18="FLYER-SPECIFIC FACTORS /E.G. FREQUENT FLYER STATUS/MILITARY/" />
              <MSG N06="B" Q0K="0" S18="CREDIT CARD FORM OF PAYMENT/EARLY PURCHASE OVER INTERNET,ETC./" />
              <TAX BC0="QR" C6B="49.04" C40="AUD" S05="PER" S04="PASSENGER SERVICE CHARGE DOMESTIC DEPARTURE" C6A="4.07" C41="AUD" A40="AU" />
              <TAX BC0="WG" C6B="13.70" C40="AUD" S05="PER" S04="SAFETY AND SECURITY CHARGE  DEPARTURE" C6A="3.75" C41="AUD" A40="AU" />
              <TBD BC0="QR" C6B="4.07" C41="AUD" C6A="4.07" A04="VA" S05="PER" C40="AUD" A06="F" A40="AU" S04="PASSENGER SERVICE CHARGE DOMESTIC DEPARTURE" PXF="F" PXG="F" PXH="F" A05="M" C6F="4.07" />
              <TBD BC0="QR" C6B="20.45" C41="AUD" C6A="20.45" A04="VA" S05="KGI" C40="AUD" A06="F" A40="AU" S04="PASSENGER SERVICE CHARGE DOMESTIC DEPARTURE" PXF="F" PXG="F" PXH="F" A05="M" C6F="20.45" />
              <TBD BC0="QR2" C6B="4.07" C41="AUD" C6A="4.07" A04="VA" S05="PER" C40="AUD" A06="F" A40="AU" S04="PASSENGER SERVICE CHARGE DOMESTIC ARRIVAL" PXF="F" PXG="F" PXH="F" A05="M" C6F="4.07" />
              <TBD BC0="QR2" C6B="20.45" C41="AUD" C6A="20.45" A04="VA" S05="KGI" C40="AUD" A06="F" A40="AU" S04="PASSENGER SERVICE CHARGE DOMESTIC ARRIVAL" PXF="F" PXG="F" PXH="F" A05="M" C6F="20.45" />
              <TBD BC0="UO" C6B="35.60" C41="AUD" C6A="35.60" A04="VA" S05="PER" C40="AUD" A06="P" A40="AU" S04="GOODS AND SERVICES TAX  GST" PXF="F" PXG="F" PXH="F" A05="M" C6F="0.10" />
              <TBD BC0="UO2" C6B="39.04" C41="AUD" C6A="39.04" A04="VA" S05="PER" C40="AUD" A06="P" A40="AU" PXF="F" PXG="F" PXH="F" A05="M" C6F="0.10" />
              <TBD BC0="WG" C6B="3.75" C41="AUD" C6A="3.75" A04="VA" S05="PER" C40="AUD" A06="F" A40="AU" S04="SAFETY AND SECURITY CHARGE  DEPARTURE" PXF="F" PXG="F" PXH="F" A05="M" C6F="3.75" />
              <TBD BC0="WG" C6B="9.95" C41="AUD" C6A="9.95" A04="VA" S05="KGI" C40="AUD" A06="F" A40="AU" S04="SAFETY AND SECURITY CHARGE  DEPARTURE" PXF="F" PXG="F" PXH="F" A05="M" C6F="9.95" />
              <CAL A11="PER" A01="PER" B08="VA" A12="KGI" A02="KGI" C50="144.89" B50="TSAVERPR/PR" Q04="11" B71="NEG" B02="VA" N00="Y" A41="AU" A51="3" A31="AUWT" A42="AU" A52="3" A32="AUWT" C51="144.89" C40="AUD" P04="F" P05="T" D00="2015-03-25" N0K="N" P2M="F" PAY="F" PAZ="T" Q4J="1" N1K="R" S70="FR" A60="EH" AC0="BTW49" FTY="0E" S53="ERS">
                <CAT>5 10 14 15 25 35</CAT>
                <SEG A11="PER" C6I="PER" A12="KGI" A02="KGI" S37="ATP" B09="VA" S89="912" S90="P002" P72="T" Q0Z="01" S12="EH" C11="AU" C12="AU" C13="F" D06="2015-03-25" D05="2015-03-25" P2F="T" P2I="F" PAW="T" B00="VA" B01="VA" N00="Y" SHR="73W" P2M="T" P2H="F" Q0Y="1" B20="01" N0D="P" P26="F" PAX="F" />
              </CAL>
              <CAL A11="KGI" A01="KGI" B08="VA" A12="PER" A02="PER" C50="182.80" B50="QSAVER" Q04="6" B71="NEG" B02="VA" N00="Y" A41="AU" A51="3" A31="AUWT" A42="AU" A52="3" A32="AUWT" C51="182.80" C40="AUD" P04="F" P05="T" D00="2015-03-25" N0K="P" P2M="F" PAY="F" PAZ="T" Q4J="1" N1K="R" S70="TO" A60="EH" FTY="00" S53="ERS">
                <CAT>3 4 5 8 9 10 12 15 16 18</CAT>
                <SEG A11="KGI" C6I="KGI" A12="PER" A02="PER" S37="ATP" B09="VA" S89="302" S90="1230" P72="Q" Q0Z="02" S12="EH" C11="AU" C12="AU" C13="F" D06="2015-04-03" D05="2015-04-03" P2F="T" P2I="F" PAW="T" B00="VA" B01="VA" N00="Y" SHR="73W" P2M="T" P2H="F" Q0Y="1" B20="01" N0D="P" P26="F" PAX="F" />
              </CAL>
              <ABL D16="20141106" S89="912    " S90="P002" S83="ATP  " B02="VA" B50="TSAVERPR/PR    " A11="PER" A12="KGI" />
              <REX N1X="I" N20="V" PXM="F" PXY="F" PXZ="F">
                <CHG PXJ="T" C77="72.73" C78="AUD" PXL="F" PXK="F" />
              </REX>
              <BDI BPT="A" SFK="VA" SHK="0DFAAVA" BPC="1">
                <ITR BPC="1" SHK="0GOACVA" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="A" SFK="VA" SHK="0DFAAVA" BPC="1">
                <ITR BPC="1" SHK="0GOACVA" />
                <Q00>2</Q00>
              </BDI>
              <BDI BPT="B" SFK="VA" SHK="0LNABVA" BPC="2">
                <ITR BPC="1" SHK="0F2ACVA" />
                <ITR BPC="1" SHK="0L5ACVA" />
                <ITR BPC="1" SHK="0M3ACVA" />
                <Q00>1</Q00>
                <Q00>2</Q00>
              </BDI>
            </PXI>
          </SUM>
          <SUM C56="325.50" C40="AUD" Q6F="1" D07="2015-02-03" D54="1086" S69="SITI" AO0="WIN" AF0="WIN" B00="VA" D00="2015-02-05" D14="2015-02-05" D16="2015-02-05" D60="23:59" N27="2" D95="2015-02-03" T95="18:06" PBC="F" PAR="F" S79="ltxl0240">
            <PXI B70="NEG" C43="AUD" C5E="325.50" S85="NEG 1 NEG 0 2 1 1 8 QSAVERPR P002 912 Q  2 2 8 TSAVER 1230 302 T " PBS="F" USI="6" B71="NEG" Q4P="1" C40="AUD" C5A="325.50" C54="1.19943700000000" Q05="13" C46="AUD" C66="388.24" C65="62.74" C5D="999.9999" C5B="0.00" C64="62.74" S66="PER VA KGI164.52VA PER160.98AUD325.50END" P27="T" NRA="325.50" P26="T" S02="BTW49" N0C="T" C62="325.50" C5G="325.50" C5M="325.50" C61="999.9999" C60="0.00" Q0W="1" Q0V="0">
              <MSG N06="N" Q0K="0" B00="VA" S18="NONREF/RESTRICTIONS APPLY/NONEND/PENALTIES APPLY" />
              <MSG N06="W" Q0K="0" S18="MIXED PASSENGER TYPES - VERIFY RESTRICTIONS" />
              <MSG N06="W" Q0K="0" S18="NEGOTIATED FARES APPLY - VALIDATE ALL RULES" />
              <MSG N06="W" Q0K="0" S18="VALIDATING CARRIER SPECIFIED - VA" />
              <MSG N06="B" Q0K="0" S18="BAG ALLOWANCE     -PERKGI-01P/VA/EACH PIECE UP TO 50 POUNDS/23 " />
              <MSG N06="B" Q0K="0" S18="KILOGRAMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="2NDCHECKED BAG FEE-PERKGI-*/VA" />
              <MSG N06="B" Q0K="0" S18="*BAGGAGE ALLOWANCES/FEES UNKNOWN - CONTACT VA" />
              <MSG N06="B" Q0K="0" S18="BAG ALLOWANCE     -KGIPER-01P/VA/EACH PIECE UP TO 50 POUNDS/23 " />
              <MSG N06="B" Q0K="0" S18="KILOGRAMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="2NDCHECKED BAG FEE-KGIPER-*/VA" />
              <MSG N06="B" Q0K="0" S18="*BAGGAGE ALLOWANCES/FEES UNKNOWN - CONTACT VA" />
              <MSG N06="B" Q0K="0" S18="CARRY ON ALLOWANCE" />
              <MSG N06="B" Q0K="0" S18="PERKGI KGIPER-02P/VA" />
              <MSG N06="B" Q0K="0" S18="01/MUSICAL INSTRUMENTS" />
              <MSG N06="B" Q0K="0" S18="01/CARRYON HAND BAGGAGE" />
              <MSG N06="B" Q0K="0" S18="01/UP TO 15 POUNDS/7 KILOGRAMS AND UP TO 45 LINEAR INCHES/115 L" />
              <MSG N06="B" Q0K="0" S18="INEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY DEPENDING ON" />
              <MSG N06="B" Q0K="0" S18="FLYER-SPECIFIC FACTORS /E.G. FREQUENT FLYER STATUS/MILITARY/" />
              <MSG N06="B" Q0K="0" S18="CREDIT CARD FORM OF PAYMENT/EARLY PURCHASE OVER INTERNET,ETC./" />
              <MSG N06="W" Q0K="0" S18="CHANGE BOOKING CLASS -   1Q 2T" />
              <TAX BC0="QR" C6B="49.04" C40="AUD" S05="PER" S04="PASSENGER SERVICE CHARGE DOMESTIC DEPARTURE" C6A="4.07" C41="AUD" A40="AU" />
              <TAX BC0="WG" C6B="13.70" C40="AUD" S05="PER" S04="SAFETY AND SECURITY CHARGE  DEPARTURE" C6A="3.75" C41="AUD" A40="AU" />
              <TBD BC0="QR" C6B="4.07" C41="AUD" C6A="4.07" A04="VA" S05="PER" C40="AUD" A06="F" A40="AU" S04="PASSENGER SERVICE CHARGE DOMESTIC DEPARTURE" PXF="F" PXG="F" PXH="F" A05="M" C6F="4.07" />
              <TBD BC0="QR" C6B="20.45" C41="AUD" C6A="20.45" A04="VA" S05="KGI" C40="AUD" A06="F" A40="AU" S04="PASSENGER SERVICE CHARGE DOMESTIC DEPARTURE" PXF="F" PXG="F" PXH="F" A05="M" C6F="20.45" />
              <TBD BC0="QR2" C6B="4.07" C41="AUD" C6A="4.07" A04="VA" S05="PER" C40="AUD" A06="F" A40="AU" S04="PASSENGER SERVICE CHARGE DOMESTIC ARRIVAL" PXF="F" PXG="F" PXH="F" A05="M" C6F="4.07" />
              <TBD BC0="QR2" C6B="20.45" C41="AUD" C6A="20.45" A04="VA" S05="KGI" C40="AUD" A06="F" A40="AU" S04="PASSENGER SERVICE CHARGE DOMESTIC ARRIVAL" PXF="F" PXG="F" PXH="F" A05="M" C6F="20.45" />
              <TBD BC0="UO" C6B="35.38" C41="AUD" C6A="35.38" A04="VA" S05="PER" C40="AUD" A06="P" A40="AU" S04="GOODS AND SERVICES TAX  GST" PXF="F" PXG="F" PXH="F" A05="M" C6F="0.10" />
              <TBD BC0="UO2" C6B="38.82" C41="AUD" C6A="38.82" A04="VA" S05="PER" C40="AUD" A06="P" A40="AU" PXF="F" PXG="F" PXH="F" A05="M" C6F="0.10" />
              <TBD BC0="WG" C6B="3.75" C41="AUD" C6A="3.75" A04="VA" S05="PER" C40="AUD" A06="F" A40="AU" S04="SAFETY AND SECURITY CHARGE  DEPARTURE" PXF="F" PXG="F" PXH="F" A05="M" C6F="3.75" />
              <TBD BC0="WG" C6B="9.95" C41="AUD" C6A="9.95" A04="VA" S05="KGI" C40="AUD" A06="F" A40="AU" S04="SAFETY AND SECURITY CHARGE  DEPARTURE" PXF="F" PXG="F" PXH="F" A05="M" C6F="9.95" />
              <CAL A11="PER" A01="PER" B08="VA" A12="KGI" A02="KGI" C50="164.52" B50="QSAVERPR/PR" Q04="11" B71="NEG" B02="VA" N00="Y" A41="AU" A51="3" A31="AUWT" A42="AU" A52="3" A32="AUWT" C51="164.52" C40="AUD" P04="F" P05="T" D00="2015-03-25" N0K="N" P2M="F" PAY="F" PAZ="T" Q4J="1" N1K="R" S70="FR" A60="EH" AC0="BTW49" FTY="0E" S53="ERS">
                <CAT>5 10 14 15 25 35</CAT>
                <SEG A11="PER" C6I="PER" A12="KGI" A02="KGI" S37="ATP" B09="VA" S89="912" S90="P002" P72="Q" Q0Z="01" S12="EH" C11="AU" C12="AU" C13="F" D06="2015-03-25" D05="2015-03-25" P2F="T" P2I="F" PAW="T" B00="VA" B01="VA" N00="Y" SHR="73W" P2M="T" P2H="F" Q0Y="1" B20="01" N0D="P" P26="F" PAX="F" />
              </CAL>
              <CAL A11="KGI" A01="KGI" B08="VA" A12="PER" A02="PER" C50="160.98" B50="TSAVER" Q04="6" B71="NEG" B02="VA" N00="Y" A41="AU" A51="3" A31="AUWT" A42="AU" A52="3" A32="AUWT" C51="160.98" C40="AUD" P04="F" P05="T" D00="2015-03-25" N0K="P" P2M="F" PAY="F" PAZ="T" Q4J="1" N1K="R" S70="TO" A60="EH" FTY="00" S53="ERS">
                <CAT>3 4 5 8 9 10 12 15 16 18</CAT>
                <SEG A11="KGI" C6I="KGI" A12="PER" A02="PER" S37="ATP" B09="VA" S89="302" S90="1230" P72="T" Q0Z="02" S12="EH" C11="AU" C12="AU" C13="F" D06="2015-04-03" D05="2015-04-03" P2F="T" P2I="F" PAW="T" B00="VA" B01="VA" N00="Y" SHR="73W" P2M="T" P2H="F" Q0Y="1" B20="01" N0D="P" P26="F" PAX="F" />
              </CAL>
              <ABL D16="20140924" S89="912    " S90="P002" S83="ATP  " B02="VA" B50="QSAVERPR/PR    " A11="PER" A12="KGI" />
              <REX N1X="I" N20="V" PXM="F" PXY="F" PXZ="F">
                <CHG PXJ="T" C77="72.73" C78="AUD" PXL="F" PXK="F" />
                <TBD BC0="UO3" C6B="7.27" C41="AUD" C6A="7.27" S05="PER" C40="AUD" A06="P" A40="AU" S04="GOODS AND SERVICE TAX- CHANGE FEE" C47="AUD" C6F="0.10" />
              </REX>
              <BDI BPT="A" SFK="VA" SHK="0DFAAVA" BPC="1">
                <ITR BPC="1" SHK="0GOACVA" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="A" SFK="VA" SHK="0DFAAVA" BPC="1">
                <ITR BPC="1" SHK="0GOACVA" />
                <Q00>2</Q00>
              </BDI>
              <BDI BPT="B" SFK="VA" SHK="0LNABVA" BPC="2">
                <ITR BPC="1" SHK="0F2ACVA" />
                <ITR BPC="1" SHK="0L5ACVA" />
                <ITR BPC="1" SHK="0M3ACVA" />
                <Q00>1</Q00>
                <Q00>2</Q00>
              </BDI>
            </PXI>
          </SUM>
          <UFL C46="AUD" C66="419.58" />
          <OSC SHK="0DFAAVA" SFF="FREE BAGGAGE ALLOWANCE" SF0="BG" N02="4" />
          <OSC SHK="0F2ACVA" SFF="MUSICAL INSTRUMENTS" SF0="BG" ASG="MI" ASD="MUSICAL INSTRUMENTS" N02="4" />
          <OSC SHK="0GOACVA" SFF="BAGGAGE UPTO 23KG" SF0="BG" DC1="23" D01="UP TO 50 POUNDS/23 KILOGRAMS" DC2="6U" D02="UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" W03="50" WU3="L" W04="23" WU4="K" S03="62" SU3="I" S04="158" SU4="C" N02="4" />
          <OSC SHK="0L5ACVA" SFF="CARRYON HAND BAGGAGE" SF0="BG" ASG="CY" ASD="CARRY ON HAND BAGGAGE" N02="4" />
          <OSC SHK="0LNABVA" SFF="CARRYON HAND BAGGAGE ALLOWANCE" SF0="BG" ASG="CY" ASD="CARRY ON HAND BAGGAGE" N02="4" />
          <OSC SHK="0M3ACVA" SFF="CARRY7KG 15LB UPTO45LI 115LCM" SF0="BG" ASG="CY" ASD="CARRY ON HAND BAGGAGE" DC1="07" D01="UP TO 15 POUNDS/7 KILOGRAMS" DC2="4U" D02="UP TO 45 LINEAR INCHES/115 LINEAR CENTIMETERS" W03="15" WU3="L" W04="7" WU4="K" S03="45" SU3="I" S04="115" SU4="C" N02="4" />
        </RexPricingResponse>
Example after:
        ...
              <REX N1X="I" N20="V" PXM="F" PXY="F" PXZ="F">
                <CHG PXJ="T" C77="72.73" C78="AUD" PXL="F" PXK="F" />
                <TBD BC0="UO3" C6B="7.27" C41="AUD" C6A="7.27" S05="PER" C40="AUD" A06="P" A40="AU" S04="GOODS AND SERVICE TAX- CHANGE FEE" C47="AUD" C6F="0.10" />
              </REX>
        ...
Files updated:
        DataModel/PricingTrx.h
        Taxes/Dispatcher/AtpcoTaxOrchestrator.cpp
        Taxes/LegacyTaxes/TaxOnChangeFee.cpp<br>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [X] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Krawczyk Maciej
Code reviewers: Lach Piotr
BA: 
QA: 

Title: cache update:new path
Date: 03/04/2015
Description:
        cache update:new path
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_SECTION\FALLBACK_LOAD_ON_UPDATE_NEW_ROUTE = N
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
        DataModel/DelayedUpdates.h
        DataModel/CacheTrx.cpp
        CacheUpdate/CacheUpdateService.cpp
        DataModel/DelayedUpdates.cpp
        DataModel/CacheTrx.h
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Ilya Entin
Code reviewers: Alexander Zagrebin
BA: 
QA: 

Title: [Tech Initiative] Old fallback removal
Date: 03/04/2015
Description:
        Removal of old obsolete fallback: FALLBACK_BAGGAGE_REFACTORING_CANCELLED_RECORDS
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        Following configuration entries removed:<br>
         DYNAMIC_LOADABLE\FALLBACK_SECTION::FALLBACK_BAGGAGE_REFACTORING_CANCELLED_RECORDS 
         FALLBACK_SECTION\FALLBACK_BAGGAGE_REFACTORING_CANCELLED_RECORDS
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
        Common/FallBack.cpp
        FreeBagService/BaggageAllowanceValidator.cpp
        FreeBagService/BaggageAncillaryChargesValidator.cpp
        FreeBagService/BaggageChargesValidator.cpp
        FreeBagService/BaggageFastForwardAllowanceValidator.cpp<br>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [X] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [X] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Konrad Koch
Code reviewers: Damian Krlik
BA: 
QA: 

Title: [ATPCO RBD By Cabin Answer Table] Instantiate new diag 187 for pricing/shopping
Date: 03/04/2015
Description:
        The new diagonstic is developed for the itinerary pricing/shopping transactions only. It's activated in Daily and DEV only. It'll not be activated in other environments till future notice. It's activated in Daily/DEV as a helper for ATPCO RBD By Cabin Answer Table project.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        Code is active in DEV/Daily and supported by FALLBACK_SECTION\RBD_CABIN_ANSWER_TABLE_DIAG fallback flag
Resolution/QA recommendation:
        It's the brand new diagnostic and will not impact any functionality
Entry/XML to recreate:
        *A                                                              
        NO NAMES                                                        
         1 JL7013Y 20MAR F DFWNRT SS1  1040A  220P  21MAR J /DCJL       
        OPERATED BY AMERICAN AIRLINES                                   
        80K2.HDQ*-AZ 1032/04MAR15            <br>
        WPIPA-LTXL0089:32321 Q/*187
Example before:
        WPIPA-DY:IS Q/*187                                              <br>
        PRICING SEARCH IN PROGRESS - PLEASE WAIT                        
        DIAGNOSTIC 187 RETURNED NO DATA
Example after:
        WPIPA-LTXL0089:32321 Q/*187                                     <br>
        PRICING SEARCH IN PROGRESS - PLEASE WAIT                        
        *****************  RBD BY CABIN DIAGNOSTIC  *****************   
        *-----------------------------------------------------------*   
         RBD BY CABIN FOR CARRIER: ALL                                  
        *-----------------------------------------------------------*   
         AVAILABLE QUALIFIERS:                                          
         VN - VENDOR  CX - CARRIER    SQ - SEQUENCE                     
         CB - CABIN   CP - CITY PAIR  DDZONE - ZONE DETAILED INFO       
        *************************************************************   
         VN     CXR    SEQ     GI     EFF DATE      FIRST TKT DATE      
                                      DISC          LAST                
        -------------------------------------------------------------   
         ATP    AA    100010          04JUN2013     N/A                 
                                      N/A           N/A                 
         GEO LOC1: Z 001                                                
         GEO LOC2: Z 001                                                <br>
         CABIN: F - FIRST CABIN                                         
           2        A F P X Z                                           
         CABIN: C - BUSINESS CABIN                                      
        MD                                                              
           5        C D I J R U                                         
         CABIN: Y - ECONOMY CABIN                                       
           8        B E G H K L M N O Q S T V W Y                       
        -------------------------------------------------------------   
         ATP    AA    100020          04JUN2013     N/A                 
                                      N/A           N/A                 
         GEO LOC1: Z 001                                                
         GEO LOC2: Z 004                                                <br>
         CABIN: F - FIRST CABIN                                         
           2        A F P X Z                                           
         CABIN: C - BUSINESS CABIN                                      
           5        C D I J R U                                         
         CABIN: Y - ECONOMY CABIN                                       
           8        B E G H K L M N O Q S T V W Y                       
        -------------------------------------------------------------   
         ATP    AA    100030          04JUN2013     N/A                 
                                      N/A           N/A                 
         GEO LOC1: Z 001                                                
        MD                                                              
         GEO LOC2: Z 006                                                <br>
         CABIN: F - FIRST CABIN                                         
           2        A F P X Z                                           
         CABIN: C - BUSINESS CABIN                                      
           5        C D I J R U                                         
         CABIN: Y - ECONOMY CABIN                                       
           8        B E G H K L M N O Q S T V W Y                       
        -------------------------------------------------------------   
         ATP    AA    100040          04JUN2013     N/A                 
                                      N/A           N/A                 
         GEO LOC1: Z 001                                                
         GEO LOC2: Z 007                                                <br>
         CABIN: F - FIRST CABIN                                         
           2        A F P X Z                                           
         CABIN: C - BUSINESS CABIN                                      
           5        C D I J R U                                         
         CABIN: Y - ECONOMY CABIN                                       
        MD                                                              
           8        B E G H K L M N O Q S T V W Y                       
        -------------------------------------------------------------   
         ATP    AA    100050          04JUN2013     N/A                 
                                      N/A           N/A                 
         GEO LOC1: Z 001                                                
         GEO LOC2: Z 008                                                <br>
         CABIN: F - FIRST CABIN                                         
           2        A F P X Z                                           
         CABIN: C - BUSINESS CABIN                                      
           5        C D I J R U                                         
         CABIN: Y - ECONOMY CABIN                                       
           8        B E G H K L M N O Q S T V W Y                       
        -------------------------------------------------------------   
         ATP    AA    100060          04JUN2013     N/A                 
                                      N/A           N/A                 
         GEO LOC1: Z 004                                                
         GEO LOC2: Z 004                                                <br>
        MD                                                              
         CABIN: F - FIRST CABIN                                         
           2        A F P X Z                                           
         CABIN: C - BUSINESS CABIN                                      
           5        C D I J R U                                         
         CABIN: Y - ECONOMY CABIN                                       
           8        B E G H K L M N O Q S T V W Y                       
        -------------------------------------------------------------   
         ATP    AA    100070          04JUN2013     N/A                 
                                      N/A           N/A                 
         GEO LOC1: Z 004                                                
         GEO LOC2: Z 006                                                <br>
         CABIN: F - FIRST CABIN                                         
           2        A F P X Z                                           
         CABIN: C - BUSINESS CABIN                                      
           5        C D I J R U                                         
         CABIN: Y - ECONOMY CABIN                                       
           8        B E G H K L M N O Q S T V W Y                       
        -------------------------------------------------------------   
        MD                                                              
         ATP    AA    100080          04JUN2013     N/A                 
                                      N/A           N/A                 
         GEO LOC1: Z 004                                                
         GEO LOC2: Z 007                                                <br>
         CABIN: F - FIRST CABIN                                         
           2        A F P X Z                                           
         CABIN: C - BUSINESS CABIN                                      
           5        C D I J R U                                         
         CABIN: Y - ECONOMY CABIN                                       
           8        B E G H K L M N O Q S T V W Y                       
        -------------------------------------------------------------   
         ATP    AA    100090          04JUN2013     N/A                 
                                      N/A           N/A                 
         GEO LOC1: Z 004                                                
         GEO LOC2: Z 008                                                <br>
         CABIN: F - FIRST CABIN                                         
           2        A F P X Z                                           
        MD                                                              
         CABIN: C - BUSINESS CABIN                                      
           5        C D I J R U                                         
         CABIN: Y - ECONOMY CABIN                                       
           8        B E G H K L M N O Q S T V W Y                       
        -------------------------------------------------------------   
         ATP    AA    100100          04JUN2013     N/A                 
                                      N/A           N/A                 
         GEO LOC1: Z 006                                                
         GEO LOC2: Z 006                                                <br>
         CABIN: F - FIRST CABIN                                         
           2        A F P X Z                                           
         CABIN: C - BUSINESS CABIN                                      
           5        C D I J R U                                         
         CABIN: Y - ECONOMY CABIN                                       
           8        B E G H K L M N O Q S T V W Y                       
        -------------------------------------------------------------   
         ATP    AA    100110          04JUN2013     N/A                 
                                      N/A           N/A                 
        MD                                                              
         GEO LOC1: Z 006                                                
         GEO LOC2: Z 007                                                <br>
         CABIN: F - FIRST CABIN                                         
           2        A F P X Z                                           
         CABIN: C - BUSINESS CABIN                                      
           5        C D I J R U                                         
         CABIN: Y - ECONOMY CABIN                                       
           8        B E G H K L M N O Q S T V W Y                       
        -------------------------------------------------------------   
         ATP    AA    100120          04JUN2013     N/A                 
                                      N/A           N/A                 
         GEO LOC1: Z 006                                                
         GEO LOC2: Z 008                                                <br>
         CABIN: F - FIRST CABIN                                         
           2        A F P X Z                                           
         CABIN: C - BUSINESS CABIN                                      
           5        C D I J R U                                         
        MD                                                              
         CABIN: Y - ECONOMY CABIN                                       
           8        B E G H K L M N O Q S T V W Y                       
        -------------------------------------------------------------   
         ATP    AA    100130          04JUN2013     N/A                 
                                      N/A           N/A                 
         GEO LOC1: Z 007                                                
         GEO LOC2: Z 007                                                <br>
         CABIN: F - FIRST CABIN                                         
           2        A F P X Z                                           
         CABIN: C - BUSINESS CABIN                                      
           5        C D I J R U                                         
         CABIN: Y - ECONOMY CABIN                                       
           8        B E G H K L M N O Q S T V W Y                       
        -------------------------------------------------------------   
         ATP    AA    100140          04JUN2013     N/A                 
                                      N/A           N/A                 
         GEO LOC1: Z 007                                                
         GEO LOC2: Z 008                                                
        MD                                                              <br>
         CABIN: F - FIRST CABIN                                         
           2        A F P X Z                                           
         CABIN: C - BUSINESS CABIN                                      
           5        C D I J R U                                         
         CABIN: Y - ECONOMY CABIN                                       
           8        B E G H K L M N O Q S T V W Y                       
        -------------------------------------------------------------   
         ATP    AA    100150          04JUN2013     N/A                 
                                      N/A           N/A                 
         GEO LOC1: Z 008                                                
         GEO LOC2: Z 008                                                <br>
         CABIN: F - FIRST CABIN                                         
           2        A F P X Z                                           
         CABIN: C - BUSINESS CABIN                                      
           5        C D I J R U                                         
         CABIN: Y - ECONOMY CABIN                                       
           8        B E G H K L M N O Q S T V W Y                       
        MD                                                              
        -------------------------------------------------------------   
         ATP    AA    100160          04JUN2013     N/A                 
                                      N/A           N/A                 
         GEO LOC1: Z 001                                                
         GEO LOC2: N CA                                                 <br>
         CABIN: F - FIRST CABIN                                         
           2        A F P X Z                                           
         CABIN: C - BUSINESS CABIN                                      
           5        C D I J R U                                         
         CABIN: Y - ECONOMY CABIN                                       
           8        B E G H K L M N O Q S T V W Y                       
        -------------------------------------------------------------   
         ATP    AA    100170          04JUN2013     N/A                 
                                      N/A           N/A                 
         GEO LOC1: Z 004                                                
         GEO LOC2: N CA                                                 <br>
         CABIN: F - FIRST CABIN                                         
        MD                                                              
           2        A F P X Z                                           
         CABIN: C - BUSINESS CABIN                                      
           5        C D I J R U                                         
         CABIN: Y - ECONOMY CABIN                                       
           8        B E G H K L M N O Q S T V W Y                       
        -------------------------------------------------------------   
         ATP    AA    100180          04JUN2013     N/A                 
                                      N/A           N/A                 
         GEO LOC1: Z 006                                                
         GEO LOC2: N CA                                                 <br>
         CABIN: F - FIRST CABIN                                         
           2        A F P X Z                                           
         CABIN: C - BUSINESS CABIN                                      
           5        C D I J R U                                         
         CABIN: Y - ECONOMY CABIN                                       
           8        B E G H K L M N O Q S T V W Y                       
        -------------------------------------------------------------   
         ATP    AA    100190          04JUN2013     N/A                 
        MD                                                              
                                      N/A           N/A                 
         GEO LOC1: Z 007                                                
         GEO LOC2: N CA                                                 <br>
         CABIN: F - FIRST CABIN                                         
           2        A F P X Z                                           
         CABIN: C - BUSINESS CABIN                                      
           5        C D I J R U                                         
         CABIN: Y - ECONOMY CABIN                                       
           8        B E G H K L M N O Q S T V W Y                       
        -------------------------------------------------------------   
         ATP    AA    100200          04JUN2013     N/A                 
                                      N/A           N/A                 
         GEO LOC1: Z 008                                                
         GEO LOC2: N CA                                                 <br>
         CABIN: F - FIRST CABIN                                         
           2        A F P X Z                                           
         CABIN: C - BUSINESS CABIN                                      
        MD                                                              
           5        C D I J R U                                         
         CABIN: Y - ECONOMY CABIN                                       
           8        B E G H K L M N O Q S T V W Y                       
        -------------------------------------------------------------   
         ATP    AA    100210          04JUN2013     N/A                 
                                      N/A           N/A                 
         GEO LOC1:                                                      
         GEO LOC2:                                                      <br>
         CABIN: F - FIRST CABIN                                         
           2        A F P X Z                                           
         CABIN: C - BUSINESS CABIN                                      
           5        C D I J R U                                         
         CABIN: W - PREMIUM ECONOMY CABIN                               
           7        W                                                   
         CABIN: Y - ECONOMY CABIN                                       
           8        B E G H K L M N O Q S T V Y                         
        -------------------------------------------------------------   
         ATP    JL    100000          22NOV2013     N/A                 
        MD                                                              
                                      N/A           N/A                 
         GEO LOC1:                                                      
         GEO LOC2:                                                      <br>
         CABIN: F - FIRST CABIN                                         
           2        A F Z                                               
         CABIN: C - BUSINESS CABIN                                      
           5        C D I J U X                                         
         CABIN: W - PREMIUM ECONOMY CABIN                               
           7        E P W                                               
         CABIN: Y - ECONOMY CABIN                                       
           8        B G H K L M N O Q R S T V Y                         
        -------------------------------------------------------------   
         ATP    YY    100000          25MAR2012     N/A                 
                                      N/A           N/A                 
         GEO LOC1:                                                      
         GEO LOC2:                                                      <br>
         CABIN: F - FIRST CABIN                                         
        MD                                                              
           2        A F P                                               
         CABIN: C - BUSINESS CABIN                                      
           5        C D I J Z                                           
         CABIN: Y - ECONOMY CABIN                                       
           8        B H K L M N Q S T V W X Y                           
        -------------------------------------------------------------   <br>
        *********************** END   DIAG 187 ***********************
Files updated:
        Common/CabinType.cpp
        Common/CabinType.h
        Diagnostic/DCFactory.cpp
        Diagnostic/Diag187Collector.cpp
        Diagnostic/Diag187Collector.h
        Diagnostic/DiagCollListInc.h
        Diagnostic/Diagnostic.cpp
        Diagnostic/Diagnostic.h
        Diagnostic/Makefile.sources
        Internal/InternalServiceController.cpp
        Internal/InternalServiceController.h
Unit tests files:
        Diagnostic/test/Diag187CollectorTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [ ] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Alexander Zagrebin
Code reviewers: Ilya Entin
BA: Richard Rummell
QA: 

Title: Remove fallback SCI258_FF_SET_GLOBAL_DIRECTION
Date: 03/04/2015
Description:
        Remove fallback SCI258_FF_SET_GLOBAL_DIRECTION
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        Removed:
        FALLBACK_SECTION\SCI258_FF_SET_GLOBAL_DIRECTION
        DYNAMIC_LOADABLE\FALLBACK_SECTION::SCI258_FF_SET_GLOBAL_DIRECTION
Resolution/QA recommendation:
        No impact
Entry/XML to recreate:
        N/A
Example before:
        N/A
Example after:
        N/A
Files updated:
        Common/FallBack.cpp
        Fares/FlightFinderJourneyValidator.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Gustaw Smolarczyk
Code reviewers: Gustaw Smolarczyk
BA: N/A
QA: N/A

Title: [AB-240] Adding fallback for Table 196 Text Changes
Date: 03/04/2015
Description:
        Adding fallback ffallback for Table 196 Text Changes
        This is addition of only fallback.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_TABLE_196_TEXT_CHANGES-sg218090 sg218090 true atsev2.2015.04.00 2015-03-04 08:32:17
        <FAM=atsev2> tseserver DYNAMIC_LOADABLE\FALLBACK_SECTION::FALLBACK_TABLE_196_TEXT_CHANGES Y Added in 2015.04 = SCALAR N/A N N CREATED
        <FAM=atsev2> tseserver FALLBACK_SECTION\FALLBACK_TABLE_196_TEXT_CHANGES Y Added in 2015.04 = SCALAR N/A N N CREATED
        <FAM=atsev2><APP=tax><ENV=daily> tseserver FALLBACK_SECTION\FALLBACK_TABLE_196_TEXT_CHANGES N Added in 2015.04 = SCALAR N/A N N CREATED
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        Common/FallBack.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Brajesh Tiwari
Code reviewers: Piotr.Szyba@sabre.com
BA: Joanna.Chrapek@sabre.com
QA: Grzegorz.Mozdzierz@sabre.com;Joanna.Kozlowska@sabre.com

Title: Cache interface change
Date: 03/04/2015
Description:
        Cache interface change<br>
        invalidate and clear return size_t number of items deleted
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        n/a
Resolution/QA recommendation:
        non functional
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
        <a href=#> AddonConstruction</a> <a href=#AddonConstruction/ACLRUCache.h> ACLRUCache.h</a> <a href=#AddonConstruction/SPCache.h> SPCache.h</a> <a href=#AddonConstruction/SPLRUCache.h> SPLRUCache.h</a> <a href=#> DBAccess</a> <a href=#DBAccess/Cache.h> Cache.h</a> <a href=#DBAccess/CompressedCache.h> CompressedCache.h</a> <a href=#DBAccess/DualMapCache.h> DualMapCache.h</a> <a href=#DBAccess/FIFOCacheRP.h> FIFOCacheRP.h</a> <a href=#DBAccess/LRUCacheRP.h> LRUCacheRP.h</a> <a href=#DBAccess/LRUCompressedCache.h> LRUCompressedCache.h</a> <a href=#DBAccess/MirrorCache.h> MirrorCache.h</a> <a href=#DBAccess/PerfectHash.h> PerfectHash.h</a> <a href=#DBAccess/SimpleCacheRP.h> SimpleCacheRP.h</a>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Ilya Entin
Code reviewers: Alexander Zagrebin
BA: 
QA: 

Title: Cat15 Validating carrier enhancement
Date: 03/04/2015
Description:
        Minor change in 315 diagnostic related on validation carrier.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        n/a
Resolution/QA recommendation:
        n/a
Entry/XML to recreate:
        //AB
        *A                                                             
        FQBERWAW-AB BB IPA-DY:IS 315/FCBTEST15   <br>
Example before:
        FQBERWAW-AB BB IPA-DY:IS 315/FCBTEST15                         
        ************************************************************  
        *            ATSE CATEGORY 15 SALES RESTRICTIONS           *  
        ************************************************************  
        BER-AB -WAW  BTEST15     400.00 EUR      SMFC 905  0002        <br>
        VALIDATION RESULT: PASS           R3 ITEM NUMBER: 1976342     
        ERROR CODE: 0                                                 
        CATEGORY 15 RULE DATA:                                         
         OVERRIDE TABLE 994 NUMBER: 0                                 
         TEXT TABLE 996 NUMBER: 287408                                
         EARLIEST DATE FOR RESERVATIONS: N/A                          
         LATEST   DATE FOR RESERVATIONS: N/A                           
         EARLIEST DATE FOR TICKETING   : 2015-03-03                   
         LATEST   DATE FOR TICKETING   : 2015-12-31                   
         COUNTRY RESTRICTION:                                         
          NONE                                                         
         FORM OF PAYMENT:                                             
          NONE                                                        
         CURRENCY RESTRICTION:                                        
         CARRIER RESTRICTIONS:                                         
          CARRIER CRS IND: X                                          
          OTHER CARRIER  : AA                                         
          VALIDATION IND : O                                          
        MD                                                             
          FARE MUST BE SOLD VIA PUBLISHING CARRIER                    
          OR CARRIER AA                                               
          TICKET MUST BE VALIDATED ON CARRIER AA                      
         TRAVEL AGENCY RESTRICTIONS:                                  
          TICKET MAY NOT BE SOLD BY TRAVEL AGENCIES                   
         TICKET ISSUANCE METHODS:                                     
         LOCALE RESTRICTIONS:                                         
         MAY ONLY BE SOLD BY          CITY            BER     HDQ
Example after:
        BER-AB -WAW  BTEST15     400.00 EUR      SMFC 905  0002        <br>
        VALIDATION RESULT: PASS           R3 ITEM NUMBER: 1976342       
        ERROR CODE: 0                                                  
        CATEGORY 15 RULE DATA:                                         
         OVERRIDE TABLE 994 NUMBER: 0                                  
         TEXT TABLE 996 NUMBER: 287408                                  
         EARLIEST DATE FOR RESERVATIONS: N/A                           
         LATEST   DATE FOR RESERVATIONS: N/A                           
         EARLIEST DATE FOR TICKETING   : 2015-03-03                    
         LATEST   DATE FOR TICKETING   : 2015-12-31                     
         COUNT Y RESTRICTION:                                          
          NONE                                                         
         FORM OF PAYMENT:                                              
          NONE                                                          
         CURRENCY RESTRICTION:                                         
         CARRIER RESTRICTIONS:                                         
          CARRIER CRS IND: X                                           
          OTHER CARRIER  : AA                                           
          VALIDATION IND : O                                           
        MD                                                             
          FARE MUST BE SOLD VIA CARRIER AB                              
          OR CARRIER AA                                                 
          TICKET MUST *NOT* BE VALIDATED ON CARRIER AB                 
          -TICKET MUST BE VALIDATED ON CARRIER AA                      
         TRAVEL AGENCY RESTRICTIONS:                                   
          TICKET MAY NOT BE SOLD BY TRAVEL AGENCIES                    
         TICKET ISSUANCE METHODS:                                      
         LOCALE RESTRICTIONS:                                          
         MAY ONLY BE SOLD BY          CITY            BER     HDQ
Files updated:
        Diagnostic/Diag315Collector.cpp
Unit tests files:
        n/a
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Vladimir Koliasnikov
Code reviewers: Nakamon Thamsiriboon
BA: Jaymini Patel
QA: Paul Cozares

Title: [Multi-settlement plans] Add containers to fare path
Date: 03/04/2015
Description:
        Add a couple of containers to fare path. One maps the settlement plan to its default validating carrier and the other maps a validating carrier to its applicable settlement plans.
Applies to: 
        [X] all agencies
        [ ] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        None
Resolution/QA recommendation:
        No functional change. This code is not currently in use.
Entry/XML to recreate:
        None
Example before:
        n/a
Example after:
        n/a
Files updated:
        DataModel/FarePath.h
Unit tests files:
        DataModel/test/FarePathTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Mike Arterburn
Code reviewers: Mohammed Azam
BA: Stan Ovrevik
QA: Kaleshia Newsome-Kjaun

Title: Remove commission diagnostics 560 and 570 and references to them
Date: 03/04/2015
Description:
        Code for two commissions diagnostics 560 and 570 became obsolete after the Validating Carrier project development completed and was in the system till now. Since then two commissions diagnostics 865 and 866 are in use. The Diagnostic document was updated to replace diagnostics 560 by 865 and 570 by 866. And, only after that the code change made to completely remove obsolete code.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
        N/A
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        M       Diagnostic/DCFactory.cpp
        D       Diagnostic/Diag560Collector.cpp
        D       Diagnostic/Diag560Collector.h
        D       Diagnostic/Diag570Collector.cpp
        D       Diagnostic/Diag570Collector.h
        M       Diagnostic/Diag865Collector.cpp
        M       Diagnostic/Diag865Collector.h
        M       Diagnostic/Diag866Collector.cpp
        M       Diagnostic/Diag866Collector.h
        M       Diagnostic/DiagCollListInc.h
        M       Diagnostic/Diagnostic.cpp
        M       Diagnostic/Diagnostic.h
        M       Diagnostic/Makefile.sources
        M       Rules/Commissions.cpp
        M       Rules/Commissions.h
        M       Rules/NegotiatedFareRuleUtil.cpp
Unit tests files:
        M       Diagnostic/test/DCFactoryTest.cpp
        D       Diagnostic/test/Diag560CollectorTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Alexander Zagrebin
Code reviewers: Nakamon
BA: Karin Kron
QA: 

Title: DAO interface change
Date: 03/04/2015
Description:
        DAO interface change
        virtual size_t invalidate(...)
        virtual size_t clear()
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        n/a
Resolution/QA recommendation:
        regression
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
        <a href=#> DBAccess</a> <a href=#> test</a> <a href=#DBAccess/test/MarkupControlWildcardDAOTest.cpp> MarkupControlWildcardDAOTest.cpp</a> <a href=#DBAccess/AirlineCountrySettlementPlanDAO.cpp> AirlineCountrySettlementPlanDAO.cpp</a> <a href=#DBAccess/AirlineCountrySettlementPlanDAO.h> AirlineCountrySettlementPlanDAO.h</a> <a href=#DBAccess/AirlineInterlineAgreementDAO.cpp> AirlineInterlineAgreementDAO.cpp</a> <a href=#DBAccess/AirlineInterlineAgreementDAO.h> AirlineInterlineAgreementDAO.h</a> <a href=#DBAccess/Cat05OverrideCarrierDAO.cpp> Cat05OverrideCarrierDAO.cpp</a> <a href=#DBAccess/Cat05OverrideCarrierDAO.h> Cat05OverrideCarrierDAO.h</a> <a href=#DBAccess/CountrySettlementPlanDAO.cpp> CountrySettlementPlanDAO.cpp</a> <a href=#DBAccess/CountrySettlementPlanDAO.h> CountrySettlementPlanDAO.h</a> <a href=#DBAccess/DataAccessObjectBase.h> DataAccessObjectBase.h</a> <a href=#DBAccess/EmdInterlineAgreementDAO.cpp> EmdInterlineAgreementDAO.cpp</a> <a href=#DBAccess/EmdInterlineAgreementDAO.h> EmdInterlineAgreementDAO.h</a> <a href=#DBAccess/FareByRuleAppRuleTariffDAO.cpp> FareByRuleAppRuleTariffDAO.cpp</a> <a href=#DBAccess/FareByRuleAppRuleTariffDAO.h> FareByRuleAppRuleTariffDAO.h</a> <a href=#DBAccess/FareClassAppDAO.cpp> FareClassAppDAO.cpp</a> <a href=#DBAccess/FareClassAppDAO.h> FareClassAppDAO.h</a> <a href=#DBAccess/GeneralFareRuleDAO.cpp> GeneralFareRuleDAO.cpp</a> <a href=#DBAccess/GeneralFareRuleDAO.h> GeneralFareRuleDAO.h</a> <a href=#DBAccess/GenSalesAgentDAO.cpp> GenSalesAgentDAO.cpp</a> <a href=#DBAccess/GenSalesAgentDAO.h> GenSalesAgentDAO.h</a> <a href=#DBAccess/HistoricalDataAccessObject.h> HistoricalDataAccessObject.h</a> <a href=#DBAccess/LocDAO.cpp> LocDAO.cpp</a> <a href=#DBAccess/LocDAO.h> LocDAO.h</a> <a href=#DBAccess/MarkupControlDAO.cpp> MarkupControlDAO.cpp</a> <a href=#DBAccess/MarkupControlDAO.h> MarkupControlDAO.h</a> <a href=#DBAccess/MinFareApplDAO.cpp> MinFareApplDAO.cpp</a> <a href=#DBAccess/MinFareApplDAO.h> MinFareApplDAO.h</a> <a href=#DBAccess/MinFareRuleLevelExclDAO.cpp> MinFareRuleLevelExclDAO.cpp</a> <a href=#DBAccess/MinFareRuleLevelExclDAO.h> MinFareRuleLevelExclDAO.h</a> <a href=#DBAccess/MultiTransportCityDAO.cpp> MultiTransportCityDAO.cpp</a> <a href=#DBAccess/MultiTransportCityDAO.h> MultiTransportCityDAO.h</a> <a href=#DBAccess/NationDAO.cpp> NationDAO.cpp</a> <a href=#DBAccess/NationDAO.h> NationDAO.h</a> <a href=#DBAccess/NeutralValidatingAirlineDAO.cpp> NeutralValidatingAirlineDAO.cpp</a> <a href=#DBAccess/NeutralValidatingAirlineDAO.h> NeutralValidatingAirlineDAO.h</a> <a href=#DBAccess/OptionalServicesConcurDAO.cpp> OptionalServicesConcurDAO.cpp</a> <a href=#DBAccess/OptionalServicesConcurDAO.h> OptionalServicesConcurDAO.h</a> <a href=#DBAccess/OptionalServicesDAO.cpp> OptionalServicesDAO.cpp</a> <a href=#DBAccess/OptionalServicesDAO.h> OptionalServicesDAO.h</a> <a href=#DBAccess/OptionalServicesMktDAO.cpp> OptionalServicesMktDAO.cpp</a> <a href=#DBAccess/OptionalServicesMktDAO.h> OptionalServicesMktDAO.h</a> <a href=#DBAccess/PassengerAirlineDAO.cpp> PassengerAirlineDAO.cpp</a> <a href=#DBAccess/PassengerAirlineDAO.h> PassengerAirlineDAO.h</a> <a href=#DBAccess/PfcAbsorbDAO.cpp> PfcAbsorbDAO.cpp</a> <a href=#DBAccess/PfcAbsorbDAO.h> PfcAbsorbDAO.h</a> <a href=#DBAccess/PfcEssAirSvcDAO.cpp> PfcEssAirSvcDAO.cpp</a> <a href=#DBAccess/PfcEssAirSvcDAO.h> PfcEssAirSvcDAO.h</a> <a href=#DBAccess/PfcMultiAirportDAO.cpp> PfcMultiAirportDAO.cpp</a> <a href=#DBAccess/PfcMultiAirportDAO.h> PfcMultiAirportDAO.h</a> <a href=#DBAccess/PfcPFCDAO.cpp> PfcPFCDAO.cpp</a> <a href=#DBAccess/PfcPFCDAO.h> PfcPFCDAO.h</a> <a href=#DBAccess/SeatCabinCharacteristicDAO.cpp> SeatCabinCharacteristicDAO.cpp</a> <a href=#DBAccess/SeatCabinCharacteristicDAO.h> SeatCabinCharacteristicDAO.h</a> <a href=#DBAccess/TaxCarrierFlightDAO.cpp> TaxCarrierFlightDAO.cpp</a> <a href=#DBAccess/TaxCarrierFlightDAO.h> TaxCarrierFlightDAO.h</a> <a href=#DBAccess/TaxReportingRecordDAO.cpp> TaxReportingRecordDAO.cpp</a> <a href=#DBAccess/TaxReportingRecordDAO.h> TaxReportingRecordDAO.h</a> <a href=#DBAccess/TaxRulesRecordDAO.cpp> TaxRulesRecordDAO.cpp</a> <a href=#DBAccess/TaxRulesRecordDAO.h> TaxRulesRecordDAO.h</a> <a href=#DBAccess/TSIDAO.cpp> TSIDAO.cpp</a> <a href=#DBAccess/TSIDAO.h> TSIDAO.h</a>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Ilya Entin
Code reviewers: Alexander Zagrebin
BA: 
QA: 

Title: [ATPCO Taxes] Validating Carrier small fix
Date: 03/05/2015
Description:
        It fixes half of the problems from JIRA ATPCO-303. We now select the
            validating carrier the same way as in V2 (at least in the reported
            request, but we do not record alternate validating carrier.
            Also, added a hidden (not documented diagnosic) for logging the choices
            made by ATPCO Taxes Validating Carrier logic.<br>
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        na
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        na
Example after:
        na
Files updated:
        Rules/PricingUnitRuleController.cpp
        Taxes/Common/AtpcoTypes.h
        Taxes/Dispatcher/AtpcoTaxOrchestrator.cpp
        Taxes/Dispatcher/AtpcoTaxesDriverV2.cpp
        Taxes/Dispatcher/AtpcoTaxesDriverV2.h
        Taxes/LegacyFacades/GsaLogic.cpp
        Taxes/LegacyFacades/GsaLogic.h
        Taxes/LegacyFacades/ResponseConverter.cpp
        Taxes/LegacyFacades/ResponseConverter.h
        Taxes/LegacyFacades/TaxRequestBuilder.cpp<br>
Unit tests files:
        Taxes/LegacyFacades/test/GsaLogicTest.cpp<br>
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [X] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [X] Other: ATPCO Taxes
Schema update: 
        [ ] Yes
Developer: Andrzej Krzemienski
Code reviewers: Maciej Krawczyk, Aleksander Hryniewiecki
BA: 
QA: 

Title: Exchange Total Price Concept
Date: 03/05/2015
Description:
        Adopting TPC in exchanges. Target R6.
        Additionally refactoring under:
        FALLBACK_SECTION\EXCHANGE_OBSOLETE_TAX_DATE_SETTINGS
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        <FAM=atsev2> DYNAMIC_LOADABLE\FALLBACK_SECTION::EXCHANGE_TPC            Y
        <FAM=atsev2> FALLBACK_SECTION\EXCHANGE_TPC         Y
        <FAM=atsev2><APP=historical><ENV=daily> FALLBACK_SECTION\EXCHANGE_TPC N
        <FAM=atsev2><APP=shoppinghist><ENV=daily> FALLBACK_SECTION\EXCHANGE_TPC         N
Resolution/QA recommendation:
        from 5000 req of different types, I've noticed only AR 5 (%o) difference.
Entry/XML to recreate:
Example before:
        Potential higher price solution
Example after:
        Potential lower price solution
Files updated:
        Common/FallBack.cpp
        Common/TrxUtil.cpp
        Common/TrxUtil.h
        Common/YQYRCalculator.cpp
        Common/YQYRCalculator.h
        Taxes/Dispatcher/TaxOrchestrator.cpp<br>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [X] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Cholewiak, Grzegorz Wanke
Code reviewers: Grzegorz Cholewiak, Grzegorz Wanke, Grzegorz Szwarc, Grzegorz Szczurek
BA: 
QA: Dawid Buszko

Title: [SCI-427] Store COS in Itin for children.
Date: 03/05/2015
Description:
        [SCI-427] Store COS in Itin for children.
        Don't store it in TravelSeg since it's shared.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        Dynamic fallback SCI427_STORE_COS_IN_ITIN
Resolution/QA recommendation:
        The Q3S attribute may be different in case family logic is enabled (in every itin, not only child itins). The value now should be the right one (previously it was wrong).
Entry/XML to recreate:
        See SCI-427
Example before:
        See SCI-427
Example after:
        See SCI-427
Files updated:
        Common/FallBack.cpp
        Common/ShoppingUtil.cpp
        Common/ShoppingUtil.h
        DataModel/Itin.h
        DataModel/TravelSeg.h
        Pricing/PricingOrchestrator.cpp
        Xform/XMLShoppingResponse.cpp
        Xform/XMLShoppingResponse.h
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [X] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Gustaw Smolarczyk
Code reviewers: Damian Krolik, Piotr Wojcik, Michal Jedros
BA: N/A
QA: N/A

Title: [ValidatingCxr] Refactor ValidatingCxrUtil for Multi Settlement Plan enhancement
Date: 03/05/2015
Description:
        Refactor existing code to accomodate Multiple Settlement Plan enhancement
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        None
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        None
Example after:
        None
Files updated:
        Common/ValidatingCarrierUpdater.cpp
        Common/ValidatingCxrUtil.cpp
        Common/ValidatingCxrUtil.h<br>
Unit tests files:
        Common/test/ValidatingCxrUtilTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Mohammed Azam
Code reviewers: https://atsegen01.sgdcelab.sabre.com/#/c/8047/
BA: 
QA: 

Title:  [ValidatingCxr] Add new data structure of MS enhancement
Date: 03/05/2015
Description:
        New data structure is added to PricingTrx and Itin to support multiple settl<br>
            Change-Id: If7bfda8d345852523645ff25b3569ec4d0950cba<br>
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        None
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        None
Example after:
        None
Files updated:
        Common/ValidatingCxrUtil.cpp
        DataModel/Itin.h
        DataModel/PricingTrx.h
        DataModel/ValidatingCxrGSAData.h<br>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Mohammed Azam
Code reviewers: https://atsegen01.sgdcelab.sabre.com/#/c/8065/
BA: 
QA: 

Title: Fixed cache update for SVCFEESFAREIDHISTORICAL
Date: 03/05/2015
Description:
        Fixed cache update for SVCFEESFAREIDHISTORICAL
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        n/a
Resolution/QA recommendation:
        regresssion
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
        DBAccess/SvcFeesFareDAO.h
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Ilya Entin
Code reviewers: Coleman Ammerman
BA: 
QA: 

Title: [NewFareSelection] MIP Global Direction bug fix
Date: 03/05/2015
Description:
        We had a change in global direction finder V2 adapter, which doesn't execute for IS request and unintentionally executing for MIP request and computing wrong GD for MIP. Revarted that unnecessery optimization. Also, for safely added a check for IS_TRX in GlobalDirectionFinder code.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        <color=#1f497d>FALLBACK_TPM_OPTIMIZATION</color> = N
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        Common/GlobalDirectionFinder.cpp
        Common/GlobalDirectionFinderV2Adapter.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [X] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Masud Khan
Code reviewers: Masud Khan
BA: 
QA: QA Needed

Title: [Tech Initiative] Old fallback removal
Date: 03/06/2015
Description:
        Removal of old obsolete fallback: FALLBACK_BAGGAGE_FOR_MIP_REX
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        Removed following configuration entries:
        DYNAMIC_LOADABLE\FALLBACK_SECTION::FALLBACK_BAGGAGE_FOR_MIP_REX
         FALLBACK_SECTION\FALLBACK_BAGGAGE_FOR_MIP_REX
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
        Common/FallBack.cpp
        Service/TransactionOrchestrator.cpp
        Xform/XMLShoppingResponse.cpp<br>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [X] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [X] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Konrad Koch
Code reviewers: Damian Krlik
BA: 
QA: 

Title: [Exchange] Keep original brand logic for flown or not shopped segments
Date: 03/06/2015
Description:
        [Exchange] Keep original brand logic for flown or not shopped segments
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        n/a
Resolution/QA recommendation:
        n/a
Entry/XML to recreate:
        n/a
Example before:
        n/a
Example after:
        n/a
Files updated:
        BrandedFares/BrandedFaresSelector.cpp
        DataModel/PaxTypeFare.cpp
        DataModel/PaxTypeFare.h
        DataModel/RexExchangeTrx.h
        Fares/FareCollectorOrchestrator.cpp
        Pricing/FarePathFactory.cpp
        RexPricing/RexFareSelectorService.cpp
        RexPricing/RexFareSelectorService.h
        Xform/ShoppingSchemaNames.cpp
        Xform/ShoppingSchemaNames.h
        Xform/XMLShoppingHandler.cpp
        Xform/XMLShoppingResponse.cpp
Unit tests files:
        DataModel/test/PaxTypeFareTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [X] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Szczurek
Code reviewers: Grzegorz Wanke
BA: Such Joanna
QA: Tomasz Lurka

Title: Remove namespaces from received XML
Date: 03/06/2015
Description:
        Remove namespaces from received XML
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        REMOVE_NAMESPACES = N
Resolution/QA recommendation:
        regression
Entry/XML to recreate:
        n/a
Example before:
        n/a
Example after:
        n/a
Files updated:
        Common/FallBack.cpp
        Xform/XformTaxXML.cpp
        Xform/XformTaxXML.h
Unit tests files:
        n/a
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Szczurek
Code reviewers: Michal Klimas
BA: n/a
QA: n/a

Title: [ATPCO Tax][S-325697] Tax Reissue Table - Processing
Date: 03/06/2015
Description:
        Tax reissue processing for ATPCO. Change includes getting and taking into account TaxType from TAXREIUSSE table.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        fallback ATPCO_TAX_TAXREISSUE = "Y"
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
        Common/FallBack.cpp
        DBAccess/Queries/QueryGetTaxReissueSQLStatement.h
        DBAccess/TaxReissue.h
        DBAccess/TaxReissueDAO.h
        Taxes/Common/ReissueTaxInfoBuilder.cpp
        Taxes/Common/ReissueTaxInfoBuilder.h
        Taxes/LegacyFacades/ResponseConverter.cpp
Unit tests files:
DB: 
        [X] DB query update: QueryGetTaxReissue
        [X] DAO version number change: now it's version = 2
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [X] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Wojciech Franczyk
Code reviewers: Piotr Lach
BA: 
QA: 

Title: Disable fallback APO34720_SELECT_DATE_IN_CAT5_FOR_EXC
Date: 03/06/2015
Description:
        Disable fallback APO34720_SELECT_DATE_IN_CAT5_FOR_EXC
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        APO34720_SELECT_DATE_IN_CAT5_FOR_EXC = N
Resolution/QA recommendation:
        regression and put differencies to APM-705 for further investigation.
Entry/XML to recreate:
        n/a
Example before:
        n/a
Example after:
        n/a
Files updated:
        n/a
Unit tests files:
        n/a
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [X] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Szczurek
Code reviewers: n/a
BA: n/a
QA: n/a

Title: Fix CXX_DEBUG build
Date: 03/06/2015
Description:
        It CXX_DEBUG build used to find issues related to incorrect usage of STL containers.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        n/a
Resolution/QA recommendation:
        The change has no impact on any application
Entry/XML to recreate:
        n/a
Example before:
        n/a
Example after:
        n/a
Files updated:
        Util/Vector.h
        Util/VectorFwd.h
        makefile_common
        scons/config.py
Unit tests files:
        n/a
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Damian Krolik
Code reviewers: Gustaw Smolarczyk
BA: n/a
QA: n/a

Title: [HARDENINGS] Handle fault signals more robustly.
Date: 03/06/2015
Description:
        Handle more than only SIGSEGV.
        Don't abort the handler in case of another fault.
        Guard handleFault under mutex so that there is no race condition.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
        No impact
Entry/XML to recreate:
        N/A
Example before:
        N/A
Example after:
        N/A
Files updated:
        Server/AppConsoleController.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Gustaw Smolarczyk
Code reviewers: Grzegorz Lisowski, Damian Krolik
BA: N/A
QA: N/A

Title: RTW. To few routing string has been displayed.
Date: 03/06/2015
Description:
        RTW change:
        Too few routing strings for routing 100.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        Change could be deactivated by: FALLBACK_ROUTING_100_FIX<br>
        Other flags changed:
         tseserver DYNAMIC_LOADABLE\FALLBACK_SECTION::FALLBACK_FMR_OVERFLY Y added in R7 by Artur Krezel = SCALAR N/A N N REMOVED 
         tseserver DYNAMIC_LOADABLE\FALLBACK_SECTION::FALLBACK_ROUTING_100_FIX Y added by Artur Krezel in R4 = SCALAR N/A N N CREATED 
         tseserver FALLBACK_SECTION\FALLBACK_DECODE_TRX N Fallback for DecodeTrx handling. Added in 2014.11 = SCALAR N/A N N REMOVED 
         tseserver FALLBACK_SECTION\FALLBACK_FMR_OVERFLY N adde in R7 by Artur Krezel = SCALAR N/A N N REMOVED 
         tseserver FALLBACK_SECTION\FALLBACK_ROUTING_100_FIX N added by Artur Krezel in R4 = SCALAR N/A N N CREATED 
         tseserver FALLBACK_SECTION\FALLBACK_ROUTING_100_FIX_STATIC N added by Artur Krezel in R4 = SCALAR N/A N N CREATED
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
        Common/FallBack.cpp
         Routing/MapNode.cpp
         Routing/MapTraversal.cpp
         Routing/MapTraversal.h
         Routing/SpecifiedRouting.cpp
         Xform/XformClientXML.cpp
         Xform/XformTaxXML.cpp
Unit tests files:
        Routing/test/MapTraversalTest.cpp
         Routing/test/MapValidatorTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [X] Other: RTW
Schema update: 
        [ ] Yes
Developer: Artur Krezel
Code reviewers: Leszek Banaszek;Slawomir Machowicz
BA: 
QA: 

Title: [scons] Fix ASAN with LINKTYPE=static
Date: 03/06/2015
Description:
        [scons] Fix ASAN with LINKTYPE=static
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
        No impact
Entry/XML to recreate:
        N/A
Example before:
        N/A
Example after:
        N/A
Files updated:
        scons/config.py
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Gustaw Smolarczyk
Code reviewers: Gustaw Smolarczyk
BA: N/A
QA: N/A

Title: [SCI-427] Fix ShoppingUtil::updateFinalBooking.
Date: 03/06/2015
Description:
        [SCI-427] Fix ShoppingUtil::updateFinalBooking.
        Arunks are not represented in classOfServiceVec().
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        Dynamic fallback SCI427_STORE_COS_IN_ITIN
Resolution/QA recommendation:
        No impact
Entry/XML to recreate:
        N/A
Example before:
        N/A
Example after:
        N/A
Files updated:
        Common/ShoppingUtil.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Gustaw Smolarczyk
Code reviewers: Grzegorz Lisowski, Damian Krolik
BA: N/A
QA: N/A

Title: PO: Clean-up
Date: 03/06/2015
Description:
        Remove 2 unused methods. Rename 3 others (remove "New" suffixes).
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
        No impact
Entry/XML to recreate:
        N/A
Example before:
        N/A
Example after:
        N/A
Files updated:
        Pricing/PricingOrchestrator.cpp
        Pricing/PricingOrchestrator.h
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Gustaw Smolarczyk
Code reviewers: Marek Markiewicz, Radoslaw Przybyl
BA: N/A
QA: N/A

Title: Historical cache update made thread safe, improved logging, miscellaneous fixes
Date: 03/06/2015
Description:
        Historical cache update made thread safe, improved logging, miscellaneous fixes
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_LOAD_ON_UPDATE_THREAD_POOL=N
Resolution/QA recommendation:
        regression
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
        <a href=#> DataModel</a> <a href=#DataModel/DelayedUpdates.cpp> DelayedUpdates.cpp</a> <a href=#> DBAccess</a> <a href=#DBAccess/DAOUtils.cpp> DAOUtils.cpp</a> <a href=#DBAccess/DAOUtils.h> DAOUtils.h</a> <a href=#DBAccess/HistoricalDataAccessObject.h> HistoricalDataAccessObject.h</a> <a href=#DBAccess/RBDByCabinDAO.h> RBDByCabinDAO.h</a>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Ilya Entin
Code reviewers: Mohammad Hossan
BA: 
QA: 

Title: PO: Fix avalBreaks vector size.
Date: 03/09/2015
Description:
        Derive it from fu->travelSeg() instead of fu->segmentStatus(), since the
         second one is clear()ed immediately before.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
        No impact
Entry/XML to recreate:
        N/A
Example before:
        N/A
Example after:
        N/A
Files updated:
        Pricing/PricingOrchestrator.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Gustaw Smolarczyk
Code reviewers: Grzegorz Lisowski
BA: N/A
QA: N/A

Title: Disable metrics in shopping diagnostic response. To enable it use DD/FMETRICS or DD/TMETRICS
Date: 03/09/2015
Description:
        Disable metrics in shopping diagnostic response. To enable it use DD/FMETRICS or DD/TMETRICS
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        METRICS_REFACTORING_IN_SHOPPING = N
Resolution/QA recommendation:
        n/a
Entry/XML to recreate:
        n/a
Example before:
        n/a
Example after:
        n/a
Files updated:
        Common/FallBack.cpp
        Diagnostic/DiagTools.cpp
        Xform/XMLShoppingHandler.cpp
        Xform/XMLShoppingHandler.h
        Xform/XMLShoppingResponse.cpp
Unit tests files:
        n/a
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Szczurek
Code reviewers: Grzegorz Lisowski
BA: n/a
QA: n/a

Title: [Exchange]   fix  APM-682
Date: 03/09/2015
Description:
        APM-682: Not refundable amount not taken from Request/NRA
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        <FAM=atsev2>    DYNAMIC_LOADABLE\FALLBACK_SECTION::EXCHANGE_NRA_NOT_TAKEN_FROM_RQ  =  Y <b>CREATED</b>
        <FAM=atsev2>    FALLBACK_SECTION\EXCHANGE_NRA_NOT_TAKEN_FROM_RQ = N <b>CREATED</b>
Resolution/QA recommendation:
        regression
Entry/XML to recreate:
        <RexPricingRequest N25="A" S96="AR">
          <AGI A10="FVK" A21="FVK " A80="FVK" A90="GK5" AB2="1100037" B00="WS" C40="CAD" N0G="4" />
          <BIL A20="FVK" A22="FVK" A70="WFR" AA0="GK5" AD0="87C3D8" AE0="WS" C01="148911068630877447" C20="INTLCT31" S0R="PSS" />
          <PRO AE0="WS" AP1="FVK" B05="WS" C45="CAD" D07="2015-01-19" D54="0853" D92="2014-11-12" D93="2014-11-16" P0J="T" P69="T" PBK="T" PBZ="T" PCG="F" Q0P="1" Q16="03" RTW="F" S13="LTADLP" S14="PROD_REPLAY_REGRESSION" S15="MUL375" T92="1218" C10="690" />
          <PXI B70="ADT" Q0U="01" />
          <EXC>
            <PRO AE0="WS" B05="WS" C5A="685.00" C5E="00626.97" C6P="CAD" C6Y="NUC" D07="2014-11-16" D54="0853" D93="2014-11-12" <bgcolor=yellow>NRA="00000685.00"</bgcolor> P0J="T" P69="T" PBZ="T" Q0P="1" Q16="03" Q6B="01.092550000" S13="LTADLP" S14="PROD_REPLAY_REGRESSION" S15="MUL375" />
            <SGI A01="YYC" A02="OGG" B09="WS" B50="PT07R" C48="CAD" C50="287.40" P74="T" PCI="F" Q0C="01" Q6D="01" S37="ATP" S89="40" S90="5100">
              <FLI A01="YYC" A02="OGG" B00="WS" B01="WS" B30="P" BB0="OK" BB2="SS" D00="2014-11-12" D01="2015-03-02" D02="2015-03-02" D30="1380" D31="0510" D32="0769" N03="A" Q0B="3004" Q0C="01" />
            </SGI>
            <SGI A01="OGG" A02="YYC" B09="WS" B50="MT03R" C48="CAD" C50="339.57" P74="T" PCI="F" Q0C="02" Q6D="02" S37="ATP" S89="40" S90="5100">
              <FLI A01="OGG" A02="YYC" B00="WS" B01="WS" B30="M" BB0="OK" BB2="SS" D00="2014-11-12" D01="2015-03-10" D02="2015-03-10" D30="1380" D31="0810" D32="1425" N03="A" Q0B="3005" Q0C="02" />
            </SGI>
          </EXC>
          <SGI A01="YEG" A02="OGG" C48="CAD" PCI="F" Q0C="01">
            <FLI A01="YEG" A02="OGG" B00="WS" B01="WS" B30="P" BB0="OK" BB2="SS" D00="2015-01-19" D01="2015-03-01" D02="2015-03-01" D30="0853" D31="0495" D32="0778" N03="A" Q0B="3010" Q0C="01" />
          </SGI>
          <SGI A01="OGG" A02="YEG" C48="CAD" PCI="F" Q0C="02">
            <FLI A01="OGG" A02="YEG" B00="WS" B01="WS" B30="L" BB0="OK" BB2="SS" D00="2015-01-19" D01="2015-03-09" D02="2015-03-09" D30="0853" D31="0810" D32="1433" N03="A" Q0B="3011" Q0C="02" />
          </SGI>
          <RES>
            <PDT B00="WS " N1O="42" Q4M="01" S74="HEIDECKER" S76="SEAN MR" S78="239720180">
              <FFP B01="AA " />
              <FFP B01="BA " />
              <FFP B01="CI " />
              <FFP B01="CX " />
              <FFP B01="CZ " />
              <FFP B01="DL " />
              <FFP B01="JL " />
              <FFP B01="KE " />
              <FFP B01="KL " />
              <FFP B01="MU " />
              <FFP B01="QF " />
              <FFP B01="WS " />
            </PDT>
            <IDS A01="YEG" A02="OGG" A70="SS" B00="WS " B30="P " D01="2015-03-01" D02="2015-03-01" D31="0815" D32="1258" N0V="J" P2X="ET" Q0B="3010" Q0U="02" />
            <IDS A01="OGG" A02="YEG" A70="SS" B00="WS " B30="L " D01="2015-03-09" D02="2015-03-09" D31="1330" D32="2353" N0V="J" P2X="ET" Q0B="3011" Q0U="02" />
            <POC A03="YEG" D01="2015-03-01" D02="0815" />
          </RES>
        </RexPricingRequest>
Example before:
        ***************************************************************
        *************** THE LOWEST REBOOKED FARE PATH *****************
        ***************************************************************
         AMOUNT: 462.38 NUC REQUESTED PAXTYPE: ADT    EXCHANGE
         AMOUNT WITH YQ/YR: 475.51
         AS REBOOKED
         PERMUTATION ID: 1
         CHANGE FEE: 65.68 NUC
        ENDORSEMENT  
        FORM OF REFUND: REBOOKED:   BOOKED:  
        RESIDUAL/PENALTY INDICATOR: S
         BASE FARE INCLUDING CHANGE FEE: 528.06 NUC
        PU TYPE: 104/OW
         YEA-OGG
          NONREFUNDABLE: 296.87 NUC
          SURCHARGE     0.00  TRANSFER      0.00  STOPOVER      0.00
          DIFF          0.00  COS           0.00  EMS           0.00
           PT07          ATP 13   WS 5100   339.00 CAD 1     
        PU TYPE: 104/OW
         OGG-YEA
          NONREFUNDABLE: 165.51 NUC
          SURCHARGE     0.00  TRANSFER      0.00  STOPOVER      0.00
          DIFF          0.00  COS           0.00  EMS           0.00
           DT07R         ATP 13   WS 5100   189.00 CAD 1     
        EXCHANGE TKT HIGHER NONREFUNDABLE AMOUNT: <bgcolor=yellow>CAD684.99</bgcolor>
        YQ/YR AMOUNT: 13.13  LB: 13.13<br>
Example after:
        ***************************************************************
        *************** THE LOWEST REBOOKED FARE PATH *****************
        ***************************************************************
         AMOUNT: 462.38 NUC REQUESTED PAXTYPE: ADT    EXCHANGE
         AMOUNT WITH YQ/YR: 475.51
         AS REBOOKED
         PERMUTATION ID: 1
         CHANGE FEE: 65.68 NUC
        ENDORSEMENT  
        FORM OF REFUND: REBOOKED:   BOOKED:  
        RESIDUAL/PENALTY INDICATOR: S
         BASE FARE INCLUDING CHANGE FEE: 528.06 NUC
        PU TYPE: 104/OW
         YEA-OGG
          NONREFUNDABLE: 296.87 NUC
          SURCHARGE     0.00  TRANSFER      0.00  STOPOVER      0.00
          DIFF          0.00  COS           0.00  EMS           0.00
           PT07          ATP 13   WS 5100   339.00 CAD 1     
        PU TYPE: 104/OW
         OGG-YEA
          NONREFUNDABLE: 165.51 NUC
          SURCHARGE     0.00  TRANSFER      0.00  STOPOVER      0.00
          DIFF          0.00  COS           0.00  EMS           0.00
           DT07R         ATP 13   WS 5100   189.00 CAD 1     
        EXCHANGE TKT HIGHER NONREFUNDABLE AMOUNT: <bgcolor=yellow>CAD685.00</bgcolor>
        YQ/YR AMOUNT: 13.13  LB: 13.13<br>
Files updated:
        Common/FallBack.cpp
        DataModel/FarePath.cpp<br>
Unit tests files:
        n/a
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [X] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Szwarc
Code reviewers: Grzegorz Szczurek, Grzegorz Wanke
BA: Karin Kron
QA: Alan Edwards

Title: New compressible types
Date: 03/09/2015
Description:
        New compressible types
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        Not active
Resolution/QA recommendation:
        n/a
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
        <a href=#> DBAccess</a> <a href=#> test</a> <a href=#DBAccess/test/SerializationCompressionTest.cpp> SerializationCompressionTest.cpp</a> <a href=#DBAccess/CustomerSecurityHandshakeDAO.cpp> CustomerSecurityHandshakeDAO.cpp</a> <a href=#DBAccess/CustomerSecurityHandshakeDAO.h> CustomerSecurityHandshakeDAO.h</a> <a href=#DBAccess/CustomerSecurityHandshakeInfo.h> CustomerSecurityHandshakeInfo.h</a> <a href=#DBAccess/NegFareRestExt.h> NegFareRestExt.h</a> <a href=#DBAccess/NegFareRestExtDAO.cpp> NegFareRestExtDAO.cpp</a> <a href=#DBAccess/NegFareRestExtDAO.h> NegFareRestExtDAO.h</a> <a href=#DBAccess/NegFareRestExtSeq.h> NegFareRestExtSeq.h</a> <a href=#DBAccess/NegFareRestExtSeqDAO.cpp> NegFareRestExtSeqDAO.cpp</a> <a href=#DBAccess/NegFareRestExtSeqDAO.h> NegFareRestExtSeqDAO.h</a> <a href=#DBAccess/PfcAbsorb.h> PfcAbsorb.h</a> <a href=#DBAccess/PfcAbsorbDAO.cpp> PfcAbsorbDAO.cpp</a> <a href=#DBAccess/PfcAbsorbDAO.h> PfcAbsorbDAO.h</a>
Unit tests files:
        <a href=#> DBAccess</a> <a href=#> test</a> <a href=#DBAccess/test/SerializationCompressionTest.cpp> SerializationCompressionTest.cpp</a>
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Ilya Entin
Code reviewers: n/a
BA: 
QA: 

Title: [TNS][S-383894]Combine brands into sets using cabin
Date: 03/09/2015
Description:
        Combine brands into sets using Cabins as a criterion.<br>
        Before building branding options spaces use information about brands cabin to better match brands of differnet carriers. Branding option spaces are now splited by cabin type.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        DYNAMIC_LOADABLE\FALLBACK_SECTION::FALLBACK_BRANDING_OPTION_SPACES_BY_CABIN Y
         FALLBACK_SECTION\FALLBACK_BRANDING_OPTION_SPACES_BY_CABIN N
Resolution/QA recommendation:
        Use diagnostic 892 for more information about brands and cabins.
Entry/XML to recreate:
        Any MIP BFA request
Example before:
        N/A
Example after:
        N/A
Files updated:
        Common/CabinType.cpp
        Common/CabinType.h
        Common/FallBack.cpp
        Common/TNBrands/BrandingOptionSpacesCalculator.h
        Common/TNBrands/ItinBranding.h
        Common/TNBrands/TNBrandsFunctions.cpp
        Common/TNBrands/TNBrandsFunctions.h
        Common/TNBrands/TNBrandsInterfaces.h
        Common/TNBrands/TrxGeometryCalculator.h
        Common/TNBrands/test/BrandingOptionSpacesCalculatorTest.cpp
        Common/TNBrands/test/ItinBrandingTest.cpp
        Common/TNBrands/test/TNBrandsFunctionsTest.cpp
        Common/TNBrands/test/TNBrandsMocks.h
        Common/test/CabinTypeTest.cpp
        DataModel/PricingTrx.cpp
        DataModel/PricingTrx.h
        DataModel/TNBrandsTypes.h
        Diagnostic/Diag892Collector.cpp
        Diagnostic/Diag892Collector.h
        Diagnostic/test/Diag892CollectorTest.cpp
        Pricing/PricingOrchestrator.cpp
        Xform/XMLShoppingResponse.cpp
Unit tests files:
        Common/TNBrands/test/BrandingOptionSpacesCalculatorTest.cpp
        Common/TNBrands/test/ItinBrandingTest.cpp
        Common/TNBrands/test/TNBrandsFunctionsTest.cpp
        Common/TNBrands/test/TNBrandsMocks.h
        Common/test/CabinTypeTest.cpp
        Diagnostic/test/Diag892CollectorTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Andrzej Fediuk
Code reviewers: Michal Mlynek; Artur De Sousa Rocha
BA: Smoragiewicz Arkadiusz
QA: Rak Lukasz

Title: [APM-711] core in soak test fix
Date: 03/09/2015
Description:
        Fixed core in ticketing reissue processing.
        Also fallback for the new way of reissue is corrected - now when "N" the new functionality is enabled. As it should be with fallbacks.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        n/a
Resolution/QA recommendation:
Entry/XML to recreate:
        <RexPricingRequest S96="AR" N25="A"><AGI A10="BNE" A21="BNE " AB2="9910107" A90="WMW" N0G="5" A80="BNE" B00="1S" C40="AUD" AE1="MBHWM" AE2="9940403" AE3="VA" /><BIL S0R="PSS" A20="BNE" AE0="VA" AD0="52DBAF" A22="BNE" AA0="WMW" C20="INTLCT31" C01="403382170780728837" A70="WFR" /><PRO B05="VA" AF0="WIN" AG0="WIN" C45="AUD" D92="2015-03-02" T92="0929" D93="2015-03-05" D07="2015-03-05" D54="0749" PBK="T" AE0="VA" PBZ="T" Q0P="1" PCG="F" Q16="03" P0J="T" RTW="F" S13="PSVDDR" S14="WF " AP1="BNE" P69="T" /><PXI B70="ADT" Q0U="01" /><EXC><AGI A10="WIN" A80="WIN" A90="WMW" N0G="5" B00="1S" OAL="WIN" /><PRO B05="VA" C6P="AUD" C6Y="AUD" NRA="00000439.20" C5E="00439.20" D93="2015-03-02" D07="2015-03-05" D54="0749" AE0="VA" PBZ="T" Q0P="1" Q6B="01.280395000" C5A="439.20" Q16="03" P0J="T" S13="PSVDDR" S14="WF " P69="T" /><SGI Q0C="01" B50="TSAVER" C50="219.60" A01="PER" A02="MEL" Q6D="01" PCI="F" S89="302" S90="1230" S37="ATP" P74="T" C48="AUD" B09="VA"><FLI Q0C="01" N03="A" B00="VA" B01="VA" A01="PER" A02="MEL" B30="T" D01="2015-04-03" Q0B="694" D02="2015-04-04" D00="2015-03-03" D30="0960" D31="1055" D32="0005" BB2="HK" BB0="OK" /></SGI><SGI Q0C="02" B50="TSAVER" C50="219.60" A01="MEL" A02="PER" Q6D="02" PCI="F" S89="302" S90="1230" S37="ATP" P74="T" C48="AUD" B09="VA"><FLI Q0C="02" N03="A" B00="VA" B01="VA" A01="MEL" A02="PER" B30="T" D01="2015-04-13" Q0B="675" D02="2015-04-13" D00="2015-03-03" D30="0960" D31="0390" D32="0530" BB2="SS" BB0="OK" /></SGI></EXC><SGI Q0C="01" A01="PER" A02="MEL" PCI="F" C48="AUD"><FLI Q0C="01" N03="A" B00="VA" B01="VA" A01="PER" A02="MEL" B30="T" D01="2015-04-06" Q0B="698" D02="2015-04-07" D00="2015-03-05" D30="0749" D31="1425" D32="0315" BB2="HK" BB0="OK" /></SGI><SGI Q0C="02" A01="MEL" A02="PER" PCI="F" C48="AUD"><FLI Q0C="02" N03="A" B00="VA" B01="VA" A01="MEL" A02="PER" B30="T" D01="2015-04-13" Q0B="675" D02="2015-04-13" D00="2015-03-02" D30="0929" D31="0390" D32="0530" BB2="SS" BB0="OK" /></SGI><RES ><IDS B00="VA " Q0B="694" B30="T " D01="2015-04-03" D31="1735" A01="PER" D02="2015-04-04" D32="0005" A02="MEL" A70="HK" Q0U="01" N0V="J" P2X="ET" /><IDS B00="VA " Q0B="698" B30="T " D01="2015-04-06" D31="2345" A01="PER" D02="2015-04-07" D32="0515" A02="MEL" A70="SS" Q0U="01" N0V="J" P2X="ET" /><IDS B00="VA " Q0B="675" B30="T " D01="2015-04-13" D31="0630" A01="MEL" D02="2015-04-13" D32="0850" A02="PER" A70="HK" Q0U="01" N0V="J" P2X="ET" /><POC A03="PER" D01="2015-04-03" D02="1735" /></RES></RexPricingRequest>
Example before:
        core
Example after:
        no core
Files updated:
        Taxes/Common/ReissueTaxInfoBuilder.cpp
Unit tests files:
        Taxes/Common/test/ReissueTaxInfoBuilderTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Wojciech Franczyk
Code reviewers: Aleksander Hryniewiecki, Jacek Roman
BA: 
QA: 

Title: new entry in TSSCache, new compressibles
Date: 03/09/2015
Description:
        new entry in TSSCache, new compressibles
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        not active
Resolution/QA recommendation:
        n/a
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
        <a href=#> DBAccess</a> <a href=#> test</a> <a href=#DBAccess/test/SerializationCompressionTest.cpp> SerializationCompressionTest.cpp</a> <a href=#DBAccess/DataHandle.cpp> DataHandle.cpp</a> <a href=#DBAccess/DataHandle.h> DataHandle.h</a> <a href=#DBAccess/SurfaceSectorExempt.h> SurfaceSectorExempt.h</a> <a href=#DBAccess/SurfaceSectorExemptDAO.cpp> SurfaceSectorExemptDAO.cpp</a> <a href=#DBAccess/SurfaceSectorExemptDAO.h> SurfaceSectorExemptDAO.h</a> <a href=#DBAccess/TSSCache.cpp> TSSCache.cpp</a> <a href=#DBAccess/TSSCache.h> TSSCache.h</a>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Ilya Entin
Code reviewers: Alexander Zagrebin
BA: 
QA: 

Title: Show status of CAT35 validation in Diagnostic 200 when DDINFO is on
Date: 03/10/2015
Description:
        During investigation of <a href=https://jira.sabre.com/browse/RAT-210>RAT-210</a>/TSM-15525 it turned out that the issue was a failure of CAT35. To avoid confusion in the future the status of CAT35 validation in diagnostics 200 has been added.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        No configuration has been changed
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        (...)
        B EH A SA32 QPVRTSA      901 R O   532.00 SAR XEX ADT   141.63
          MKT1:DEL MKT2:RUH  DIR: F  ORIGIN:RUH DEST:DEL  REV:Y 
          FARETARIFF: 901  FTN1: 9U  FTN2:   RTNG: 3555 
             CREATE DATE: 2015-01-31      EXPIRE DATE: N/A
          EFFECTIVE DATE: 2015-02-05 DISCONTINUE DATE: N/A
          CAT1-P  CAT15-P<bgcolor=yellow>             <u> </u></bgcolor>
          R1- SEQ:5000000 FC:QPVRTSA OWRT:  CNT:1 LOC1: - LOC2: -
          N/S:S CONST:N YY:N FBR:Y DISC:N DOW:  SN:J NEG:N WEB:N
          R1B- DIR: 0 PAX: ADT - PASS
          ACTUAL PAXTYPE:ADT  AGE: 0   NBR: 1
        (...)
Example after:
        (...)
        B EH A SA32 QPVRTSA      901 R O   532.00 SAR XEX ADT   141.63
          MKT1:DEL MKT2:RUH  DIR: F  ORIGIN:RUH DEST:DEL  REV:Y 
          FARETARIFF: 901  FTN1: 9U  FTN2:   RTNG: 3555 
             CREATE DATE: 2015-01-31      EXPIRE DATE: N/A
          EFFECTIVE DATE: 2015-02-05 DISCONTINUE DATE: N/A
          CAT1-P  CAT15-P<bgcolor=yellow><b>  CAT35-F</b> </bgcolor>
          R1- SEQ:5000000 FC:QPVRTSA OWRT:  CNT:1 LOC1: - LOC2: -
          N/S:S CONST:N YY:N FBR:Y DISC:N DOW:  SN:J NEG:N WEB:N
          R1B- DIR: 0 PAX: ADT - PASS
          ACTUAL PAXTYPE:ADT  AGE: 0   NBR: 1
        (...)
Files updated:
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [ ] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [X] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Michal Malek
Code reviewers: Grzegorz Wanke, Mateusz Drewienkowski
BA: 
QA: 

Title: [AB-240] [Task TK-764004] Implement logic for TexTable for S7
Date: 03/10/2015
Description:
        Currently system retrieves Table 196 data from S5 record and adds this info in Ancillary Pricing response.
        Now system will retrieve Table 196 data from S7 record and add this info in Ancillary Pricing response.
        This is applicable for both Baggage and Ancillary.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        Changes are controlled by FALLBACK_TABLE_196_TEXT_CHANGES and active in daily only.
Resolution/QA recommendation:
Entry/XML to recreate:
        <AncillaryPricingRequest Version="3.0.0" xmlns="HTTP://WWW.ATSE.SABRE.COM/ANCILLARYPRICING/REQUEST">
         <AGI A10="SIN" A20="5KAD" A21="5KAD" A80="5KAD" A90="HI2" AB0="1234567" AB1="1234567" AE0="1B" B00="1B" C40="SGD" N0G="*" Q01="16" />
         <BIL A20="HDQ" A22="5KAD" A70="PRET" AA0="HI2" AD0="25211F" AE0="AA" C00="3743688316768507255" Q02="2902" Q03="925" S0R="PANC" />
         <PRO AF0="SIN" AG0="SIN" PS1="T" S14="WP" C10="">
         <RFG GBA="DXT" />
         </PRO>
         <ITN Q00="1">
         <SGI Q00="1">
         <FLI A01="NRT" A02="HKG" B00="NZ" B01="NH" B30="K" BB0="OK" D01="2015-01-10" D02="2015-01-10" D31="0950" D32="1405" Q0B="4147" S95="763" C7B="T" />
         </SGI>
         <SGI Q00="2">
         <FLI A01="HKG" A02="FRA" B00="NZ" B01="LH" B30="K" BB0="OK" D01="2015-01-10" D02="2015-01-11" D31="2340" D32="0520" Q0B="4633" S95="74H" C7B="T" />
         </SGI>
         <SGI Q00="3">
         <FLI A01="FRA" A02="LAX" B00="LH" B01="LH" B30="Y" BB0="OK" D01="2015-01-12" D02="2015-01-12" D31="1010" D32="1245" Q0B="456" S95="74H" C7B="T" />
         </SGI>
         </ITN>
         <ITN Q00="2">
         <IRO>
         <PXI B70="ADT" Q0U="1" />
         </IRO>
         <SGI Q00="1">
         <FLI A01="NRT" A02="HKG" B00="NZ" B01="NH" B30="K" BB0="OK" D01="2015-01-10" D02="2015-01-10" D31="0950" D32="1405" N0E="Y" Q0B="4147" S95="763" C7B="T" />
         <FBA Q6D="1" />
         </SGI>
         <SGI Q00="2">
         <FLI A01="HKG" A02="FRA" B00="NZ" B01="LH" B30="K" BB0="OK" D01="2015-01-10" D02="2015-01-11" D31="2340" D32="0520" N0E="Y" Q0B="4633" S95="74H" C7B="T" />
         <FBA Q6D="1" />
         </SGI>
         <SGI Q00="3">
         <FLI A01="FRA" A02="LAX" B00="LH" B01="LH" B30="Y" BB0="OK" D01="2015-01-12" D02="2015-01-12" D31="1010" D32="1245" N0E="Y" Q0B="456" S95="74H" C7B="T" />
         <FBA Q6D="2" />
         </SGI>
         <FBI B02="NZ" B50="KIF" C50="2844.11" FTY="00" Q00="1" Q3W="368" S37="ATP" S53="EU" S90="065D" />
         <FBI B02="LH" B50="Y77OW" C50="3882.31" FTY="00" Q00="2" Q3W="1" S37="ATP" S53="EU" S90="YINT" />
         </ITN>
        </AncillaryPricingRequest>
Example before:
        <AncillaryPricingResponse xmlns="http://www.atse.sabre.com/AncillaryPricing/Response">
         <ITN Q00="2">
         <MSG N06="X" Q0K="0" S18="ADT-01" />
         <MSG N06="X" Q0K="0" S18="BAG ALLOWANCE -NRTFRA-01P/NZ" />
         <MSG N06="X" Q0K="0" S18="2NDCHECKED BAG FEE-NRTFRA-JPY13000/NZ/UP TO 50 POUNDS/23 KILOGR" />
         <MSG N06="X" Q0K="0" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
         <MSG N06="X" Q0K="0" S18="BAG ALLOWANCE -FRALAX-01P/NZ" />
         <MSG N06="X" Q0K="0" S18="2NDCHECKED BAG FEE-FRALAX-JPY13000/NZ/UP TO 50 POUNDS/23 KILOGR" />
         <MSG N06="X" Q0K="0" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
         <MSG N06="X" Q0K="0" S18="CARRY ON ALLOWANCE" />
         <MSG N06="X" Q0K="0" S18="NRTHKG-01P/NH" />
         <MSG N06="X" Q0K="0" S18="01/UP TO 22 POUNDS/10 KILOGRAMS AND UP TO 45 LINEAR INCHES/115 " />
         <MSG N06="X" Q0K="0" S18="LINEAR CENTIMETERS" />
         <MSG N06="X" Q0K="0" S18="HKGFRA FRALAX-01P/LH" />
         <MSG N06="X" Q0K="0" S18="01/UP TO 18 POUNDS/8 KILOGRAMS AND UP TO 46 LINEAR INCHES/118 L" />
         <MSG N06="X" Q0K="0" S18="INEAR CENTIMETERS" />
         <MSG N06="X" Q0K="0" S18="CARRY ON CHARGES" />
         <MSG N06="X" Q0K="0" S18="NRTHKG-NH-CARRY ON FEES UNKNOWN-CONTACT CARRIER" />
         <MSG N06="X" Q0K="0" S18="HKGFRA FRALAX-LH" />
         <MSG N06="X" Q0K="0" S18="1ST CARRYON HAND BAGGAGE-SGD0.00" />
         <MSG N06="X" Q0K="0" S18="UP TO 18 POUNDS/8 KILOGRAMS AND UP TO 46 LINEAR INCHES/118 LINE" />
         <MSG N06="X" Q0K="0" S18="AR CENTIMETERS-NOT PERMITTED" />
         <MSG N06="X" Q0K="0" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY" />
         <MSG N06="X" Q0K="0" S18="EMBARGOES-APPLY TO EACH PASSENGER" />
         <MSG N06="X" Q0K="0" S18="HKGFRA FRALAX-LH" />
         <MSG N06="X" Q0K="0" S18="THIRD BAG NOT PERMITTED" />
         <MSG N06="X" Q0K="0" S18="UP TO 70 POUNDS/32 KILOGRAMS AND UP TO 126 LINEAR INCHES/320 LI" />
         <MSG N06="X" Q0K="0" S18="NEAR CENTIMETERS NOT PERMITTED" />
         <MSG N06="X" Q0K="0" S18="UP TO 11 POUNDS/5 KILOGRAMS AND UP TO 45 LINEAR INCHES/115 LINE" />
         <MSG N06="X" Q0K="0" S18="AR CENTIMETERS NOT PERMITTED" />
         <OCG Q00="23" SF0="BG">
         <OSC SHK="0DF" SFF="FREE BAGGAGE ALLOWANCE" SFV="ATP" B01="NZ" N02="4" AST="A">
         <MSG N06="X" Q0K="0" S18="MUST BE A MAX WEIGHT OF 7KGS." />
         <MSG N06="X" Q0K="0" S18="DIMENSIONS ON JET SERVICES MUST NOT EXCEED 57CM" />
         <MSG N06="X" Q0K="0" S18="WIDE / 37CM HIGH AND 24CM DEPTH." />
         <MSG N06="X" Q0K="0" S18="DIMENSIONS ON LINK SERVICES MUST NOT EXCEED 48CM" />
         <MSG N06="X" Q0K="0" S18="WIDE / 34CM HIGH AND 23CM DEPTH" />
         <OOS A01="NRT" A02="FRA">
         <Q00>01</Q00>
         <Q00>02</Q00>
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="F" />
         <BGA BPC="1">
         <MSG N06="X" Q0K="0" S18="//01/0GO/0FM" />
         </BGA>
         </OOS>
         </OSC>
         <OSC SHK="0GO" SFF="UPTO 23KG BAGGAGE" SFV="ATP" B01="NZ" N02="4" AST="C">
         <BIR B20="50" N0D="L" L01="U" />
         <BIR B20="23" N0D="K" L01="U" />
         <BIR B20="62" N0D="I" L01="U" />
         <BIR B20="158" N0D="C" L01="U" />
         <SDC DC1="23" D00="UP TO 50 POUNDS/23 KILOGRAMS" />
         <SDC DC1="6U" D00="UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
         <MSG N06="X" Q0K="0" S18="CHECKED BAG SHOULD NOT EXCEED TOTAL DIMENSIONS" />
         <MSG N06="X" Q0K="0" S18="LENGTH/WIDTH/ HEIGHT OF 158CM" />
         <OOS SDO="T" A01="NRT" A02="FRA">
         <Q00>01</Q00>
         <Q00>02</Q00>
         <SUM B70="ADT" C51="13000" C5A="JPY" C52="149.00" C5B="SGD" N21="X" C50="149.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="N" P03="N" P04="Y" />
         <BGD OC1="1" OC2="1" />
         </OOS>
         <OOS A01="NRT" A02="FRA">
         <Q00>01</Q00>
         <Q00>02</Q00>
         <SUM B70="ADT" C51="15000" C5A="JPY" C52="171.00" C5B="SGD" N21="X" C50="171.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="N" P03="N" P04="Y" />
         <BGD OC1="2" OC2="2" />
         </OOS>
         <OOS A01="NRT" A02="FRA">
         <Q00>01</Q00>
         <Q00>02</Q00>
         <SUM B70="ADT" C51="23000" C5A="JPY" C52="263.00" C5B="SGD" N21="X" C50="263.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="N" P03="N" P04="Y" />
         <BGD OC1="3" OC2="-1" />
         </OOS>
         </OSC>
         <OSC SHK="0GM" SFF="WHEELCHAIR AND MOBILITY EQUIP" SFV="ATP" B01="NZ" N02="4" ASG="AD" ASD="ASSISTIVE DEVICES" AST="C">
         <OOS A01="NRT" A02="FRA">
         <Q00>01</Q00>
         <Q00>02</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="G" N45="N" P03="N" P04="Y" />
         <BGD OC1="1" OC2="2" />
         </OOS>
         </OSC>
         <OSC SHK="0F4" SFF="STROLLER OR CAR SEAT" SFV="ATP" B01="NZ" N02="4" ASG="IN" ASD="INFANT BAGGAGE" AST="C">
         <SDC DC1="ST" D00="STROLLER/PUSHCHAIR" />
         <OOS A01="NRT" A02="FRA">
         <Q00>01</Q00>
         <Q00>02</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="G" N45="N" P03="N" P04="Y" />
         <BGD OC1="-1" OC2="-1" />
         </OOS>
         </OSC>
         <OSC SHK="0H1" SFF="MEDICAL EQUIPMENT" SFV="ATP" B01="NZ" N02="4" ASG="SI" ASD="SPECIALTY ITEMS" AST="C">
         <OOS A01="NRT" A02="FRA">
         <Q00>01</Q00>
         <Q00>02</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="G" N45="N" P03="N" P04="Y" />
         <BGD OC1="1" OC2="-1" />
         </OOS>
         </OSC>
         <OSC SHK="0DF" SFF="FREE BAGGAGE ALLOWANCE" SFV="ATP" B01="NZ" N02="4" AST="A">
         <MSG N06="X" Q0K="0" S18="MUST BE A MAX WEIGHT OF 7KGS." />
         <MSG N06="X" Q0K="0" S18="DIMENSIONS ON JET SERVICES MUST NOT EXCEED 57CM" />
         <MSG N06="X" Q0K="0" S18="WIDE / 37CM HIGH AND 24CM DEPTH." />
         <MSG N06="X" Q0K="0" S18="DIMENSIONS ON LINK SERVICES MUST NOT EXCEED 48CM" />
         <MSG N06="X" Q0K="0" S18="WIDE / 34CM HIGH AND 23CM DEPTH" />
         <OOS A01="FRA" A02="LAX">
         <Q00>03</Q00>
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="F" />
         <BGA BPC="1">
         <MSG N06="X" Q0K="0" S18="//01/0GO/0FM" />
         </BGA>
         </OOS>
         </OSC>
         <OSC SHK="0GO" SFF="UPTO 23KG BAGGAGE" SFV="ATP" B01="NZ" N02="4" AST="C">
         <BIR B20="50" N0D="L" L01="U" />
         <BIR B20="23" N0D="K" L01="U" />
         <BIR B20="62" N0D="I" L01="U" />
         <BIR B20="158" N0D="C" L01="U" />
         <SDC DC1="23" D00="UP TO 50 POUNDS/23 KILOGRAMS" />
         <SDC DC1="6U" D00="UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
         <MSG N06="X" Q0K="0" S18="CHECKED BAG SHOULD NOT EXCEED TOTAL DIMENSIONS" />
         <MSG N06="X" Q0K="0" S18="LENGTH/WIDTH/ HEIGHT OF 158CM" />
         <OOS SDO="T" A01="FRA" A02="LAX">
         <Q00>03</Q00>
         <SUM B70="ADT" C51="13000" C5A="JPY" C52="149.00" C5B="SGD" N21="X" C50="149.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="N" P03="N" P04="Y" />
         <BGD OC1="1" OC2="1" />
         </OOS>
         <OOS A01="FRA" A02="LAX">
         <Q00>03</Q00>
         <SUM B70="ADT" C51="15000" C5A="JPY" C52="171.00" C5B="SGD" N21="X" C50="171.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="N" P03="N" P04="Y" />
         <BGD OC1="2" OC2="2" />
         </OOS>
         <OOS A01="FRA" A02="LAX">
         <Q00>03</Q00>
         <SUM B70="ADT" C51="23000" C5A="JPY" C52="263.00" C5B="SGD" N21="X" C50="263.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="N" P03="N" P04="Y" />
         <BGD OC1="3" OC2="-1" />
         </OOS>
         </OSC>
         <OSC SHK="0GM" SFF="WHEELCHAIR AND MOBILITY EQUIP" SFV="ATP" B01="NZ" N02="4" ASG="AD" ASD="ASSISTIVE DEVICES" AST="C">
         <OOS A01="FRA" A02="LAX">
         <Q00>03</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="G" N45="N" P03="N" P04="Y" />
         <BGD OC1="1" OC2="2" />
         </OOS>
         </OSC>
         <OSC SHK="0F4" SFF="STROLLER OR CAR SEAT" SFV="ATP" B01="NZ" N02="4" ASG="IN" ASD="INFANT BAGGAGE" AST="C">
         <SDC DC1="ST" D00="STROLLER/PUSHCHAIR" />
         <OOS A01="FRA" A02="LAX">
         <Q00>03</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="G" N45="N" P03="N" P04="Y" />
         <BGD OC1="-1" OC2="-1" />
         </OOS>
         </OSC>
         <OSC SHK="0H1" SFF="MEDICAL EQUIPMENT" SFV="ATP" B01="NZ" N02="4" ASG="SI" ASD="SPECIALTY ITEMS" AST="C">
         <OOS A01="FRA" A02="LAX">
         <Q00>03</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="G" N45="N" P03="N" P04="Y" />
         <BGD OC1="1" OC2="-1" />
         </OOS>
         </OSC>
         <OSC SHK="0CE" SFF="THIRD CHECKED BAG" SFV="MMGR" B01="LH" N01="C" N02="4" AST="E">
         <SDC DC1="B3" D00="THIRD BAG" />
         <OOS N11="S" A01="HKG" A02="FRA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="2013-08-09" D02="9999-12-31" />
         <FAT P01="T" N43="X" />
         <BGD OC1="-1" OC2="-1" />
         </OOS>
         </OSC>
         <OSC SHK="0JM" SFF="UPTO 70LB 32KG AND126LI 320LCM" SFV="MMGR" B01="LH" N01="C" N02="4" AST="E">
         <BIR B20="70" N0D="L" L01="U" />
         <BIR B20="32" N0D="K" L01="U" />
         <BIR B20="126" N0D="I" L01="U" />
         <BIR B20="320" N0D="C" L01="U" />
         <SDC DC1="32" D00="UP TO 70 POUNDS/32 KILOGRAMS" />
         <SDC DC1="3D" D00="UP TO 126 LINEAR INCHES/320 LINEAR CENTIMETERS" />
         <OOS N11="S" A01="HKG" A02="FRA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="2013-08-07" D02="9999-12-31" />
         <FAT P01="T" N43="X" />
         <BGD OC1="-1" OC2="-1" />
         </OOS>
         </OSC>
         <OSC SHK="0ML" SFF="CARRY5KG 11LB UPTO 45LI 115LCM" SFV="MMGR" B01="LH" N01="C" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="E">
         <BIR B20="11" N0D="L" L01="U" />
         <BIR B20="5" N0D="K" L01="U" />
         <BIR B20="45" N0D="I" L01="U" />
         <BIR B20="115" N0D="C" L01="U" />
         <SDC DC1="05" D00="UP TO 11 POUNDS/5 KILOGRAMS" />
         <SDC DC1="4U" D00="UP TO 45 LINEAR INCHES/115 LINEAR CENTIMETERS" />
         <OOS N11="S" A01="HKG" A02="FRA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="2013-12-11" D02="2020-01-01" />
         <FAT P01="T" N43="X" />
         <BGD OC1="-1" OC2="-1" />
         </OOS>
         </OSC>
         <OSC SHK="0CE" SFF="THIRD CHECKED BAG" SFV="MMGR" B01="LH" N01="C" N02="4" AST="E">
         <SDC DC1="B3" D00="THIRD BAG" />
         <OOS N11="S" A01="FRA" A02="LAX">
         <Q00>03</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="2013-08-09" D02="9999-12-31" />
         <FAT P01="T" N43="X" />
         <BGD OC1="-1" OC2="-1" />
         </OOS>
         </OSC>
         <OSC SHK="0JM" SFF="UPTO 70LB 32KG AND126LI 320LCM" SFV="MMGR" B01="LH" N01="C" N02="4" AST="E">
         <BIR B20="70" N0D="L" L01="U" />
         <BIR B20="32" N0D="K" L01="U" />
         <BIR B20="126" N0D="I" L01="U" />
         <BIR B20="320" N0D="C" L01="U" />
         <SDC DC1="32" D00="UP TO 70 POUNDS/32 KILOGRAMS" />
         <SDC DC1="3D" D00="UP TO 126 LINEAR INCHES/320 LINEAR CENTIMETERS" />
         <OOS N11="S" A01="FRA" A02="LAX">
         <Q00>03</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="2013-08-07" D02="9999-12-31" />
         <FAT P01="T" N43="X" />
         <BGD OC1="-1" OC2="-1" />
         </OOS>
         </OSC>
         <OSC SHK="0ML" SFF="CARRY5KG 11LB UPTO 45LI 115LCM" SFV="MMGR" B01="LH" N01="C" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="E">
         <BIR B20="11" N0D="L" L01="U" />
         <BIR B20="5" N0D="K" L01="U" />
         <BIR B20="45" N0D="I" L01="U" />
         <BIR B20="115" N0D="C" L01="U" />
         <SDC DC1="05" D00="UP TO 11 POUNDS/5 KILOGRAMS" />
         <SDC DC1="4U" D00="UP TO 45 LINEAR INCHES/115 LINEAR CENTIMETERS" />
         <OOS N11="S" A01="FRA" A02="LAX">
         <Q00>03</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="2013-12-11" D02="2020-01-01" />
         <FAT P01="T" N43="X" />
         <BGD OC1="-1" OC2="-1" />
         </OOS>
         </OSC>
         <OSC SHK="0LN" SFF="CARRYON HAND BAGGAGE ALLOWANCE" SFV="ATP" B01="NH" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="B">
         <OOS A01="NRT" A02="HKG">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="F" />
         <BGA BPC="1">
         <ITR Q00="1">
         <ITT SHK="0MJ" SFF="CARRY10KG 22LBUPTO 45LI 115LCM" SFV="ATP" B01="NH" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="C">
         <BIR B20="22" N0D="L" L01="U" />
         <BIR B20="10" N0D="K" L01="U" />
         <BIR B20="45" N0D="I" L01="U" />
         <BIR B20="115" N0D="C" L01="U" />
         <SDC DC1="10" D00="UP TO 22 POUNDS/10 KILOGRAMS" />
         <SDC DC1="4U" D00="UP TO 45 LINEAR INCHES/115 LINEAR CENTIMETERS" />
         </ITT>
         </ITR>
         <MSG N06="X" Q0K="0" S18="CARRRY ON BAGGAGE CAN BE STOWED IN AN" />
         <MSG N06="X" Q0K="0" S18="ENCLOSED STORAGE COMPARTMENT IN THE CABIN" />
         <MSG N06="X" Q0K="0" S18="OR UNDER THE SEAT IN FRONT OF THE PASSENGER" />
         <MSG N06="X" Q0K="0" S18="--------------------------------------------" />
         <MSG N06="X" Q0K="0" S18="FOR JAPAN DOMESTIC SECTOR FLIGHTS" />
         <MSG N06="X" Q0K="0" S18="-UP TO 22LB/10KG AND 39LI/100LCM FOR AIRCRAFT" />
         <MSG N06="X" Q0K="0" S18="TYPE Q82-DH2/Q84-DH4" />
         </BGA>
         </OOS>
         </OSC>
         <OSC SHK="0LN" SFF="CARRYON HAND BAGGAGE ALLOWANCE" SFV="ATP" B01="LH" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="B">
         <OOS A01="HKG" A02="FRA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="F" />
         <BGA BPC="1">
         <ITR Q00="1">
         <ITT SHK="0M1" SFF="CARRY8KG 18LB UPTO46LI 118LCM" SFV="ATP" B01="LH" N01="C" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="C">
         <BIR B20="18" N0D="L" L01="U" />
         <BIR B20="8" N0D="K" L01="U" />
         <BIR B20="46" N0D="I" L01="U" />
         <BIR B20="118" N0D="C" L01="U" />
         <SDC DC1="08" D00="UP TO 18 POUNDS/8 KILOGRAMS" />
         <SDC DC1="4Y" D00="UP TO 46 LINEAR INCHES/118 LINEAR CENTIMETERS" />
         <MSG N06="X" Q0K="0" S18="MAXIMUM WEIGHT PER PEICE 8KG AND MAXIMUM SIZE" />
         <MSG N06="X" Q0K="0" S18="PER PIECE 55 X 40X 23CM." />
         <MSG N06="X" Q0K="0" S18="EXCEPTION APPLIES FOR A GARMENT BAG - MAXIMUM" />
         <MSG N06="X" Q0K="0" S18="SIZE 57 X 54 X 15CM" />
         </ITT>
         </ITR>
         </BGA>
         </OOS>
         </OSC>
         <OSC SHK="0L5" SFF="CARRYON HAND BAGGAGE" SFV="ATP" B01="LH" N01="C" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="C">
         <OOS A01="HKG" A02="FRA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="F" N45="N" P03="N" P04="Y" />
         <BGD OC1="1" OC2="1" />
         </OOS>
         </OSC>
         <OSC SHK="0M1" SFF="CARRY8KG 18LB UPTO46LI 118LCM" SFV="ATP" B01="LH" N01="C" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="C">
         <BIR B20="18" N0D="L" L01="U" />
         <BIR B20="8" N0D="K" L01="U" />
         <BIR B20="46" N0D="I" L01="U" />
         <BIR B20="118" N0D="C" L01="U" />
         <SDC DC1="08" D00="UP TO 18 POUNDS/8 KILOGRAMS" />
         <SDC DC1="4Y" D00="UP TO 46 LINEAR INCHES/118 LINEAR CENTIMETERS" />
         <MSG N06="X" Q0K="0" S18="MAXIMUM WEIGHT PER PEICE 8KG AND MAXIMUM SIZE" />
         <MSG N06="X" Q0K="0" S18="PER PIECE 55 X 40X 23CM." />
         <MSG N06="X" Q0K="0" S18="EXCEPTION APPLIES FOR A GARMENT BAG - MAXIMUM" />
         <MSG N06="X" Q0K="0" S18="SIZE 57 X 54 X 15CM" />
         <OOS A01="HKG" A02="FRA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT P01="T" N43="X" />
         <BGD OC1="1" OC2="-1" />
         </OOS>
         </OSC>
         <OSC SHK="0LN" SFF="CARRYON HAND BAGGAGE ALLOWANCE" SFV="ATP" B01="LH" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="B">
         <OOS N11="S" A01="FRA" A02="LAX">
         <Q00>03</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="F" />
         <BGA BPC="1">
         <ITR Q00="1">
         <ITT SHK="0M1" SFF="CARRY8KG 18LB UPTO46LI 118LCM" SFV="ATP" B01="LH" N01="C" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="C">
         <BIR B20="18" N0D="L" L01="U" />
         <BIR B20="8" N0D="K" L01="U" />
         <BIR B20="46" N0D="I" L01="U" />
         <BIR B20="118" N0D="C" L01="U" />
         <SDC DC1="08" D00="UP TO 18 POUNDS/8 KILOGRAMS" />
         <SDC DC1="4Y" D00="UP TO 46 LINEAR INCHES/118 LINEAR CENTIMETERS" />
         <MSG N06="X" Q0K="0" S18="MAXIMUM WEIGHT PER PEICE 8KG AND MAXIMUM SIZE" />
         <MSG N06="X" Q0K="0" S18="PER PIECE 55 X 40X 23CM." />
         <MSG N06="X" Q0K="0" S18="EXCEPTION APPLIES FOR A GARMENT BAG - MAXIMUM" />
         <MSG N06="X" Q0K="0" S18="SIZE 57 X 54 X 15CM" />
         </ITT>
         </ITR>
         </BGA>
         </OOS>
         </OSC>
         <OSC SHK="0L5" SFF="CARRYON HAND BAGGAGE" SFV="ATP" B01="LH" N01="C" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="C">
         <OOS A01="FRA" A02="LAX">
         <Q00>03</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="F" N45="N" P03="N" P04="Y" />
         <BGD OC1="1" OC2="1" />
         </OOS>
         </OSC>
         <OSC SHK="0M1" SFF="CARRY8KG 18LB UPTO46LI 118LCM" SFV="ATP" B01="LH" N01="C" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="C">
         <BIR B20="18" N0D="L" L01="U" />
         <BIR B20="8" N0D="K" L01="U" />
         <BIR B20="46" N0D="I" L01="U" />
         <BIR B20="118" N0D="C" L01="U" />
         <SDC DC1="08" D00="UP TO 18 POUNDS/8 KILOGRAMS" />
         <SDC DC1="4Y" D00="UP TO 46 LINEAR INCHES/118 LINEAR CENTIMETERS" />
         <MSG N06="X" Q0K="0" S18="MAXIMUM WEIGHT PER PEICE 8KG AND MAXIMUM SIZE" />
         <MSG N06="X" Q0K="0" S18="PER PIECE 55 X 40X 23CM." />
         <MSG N06="X" Q0K="0" S18="EXCEPTION APPLIES FOR A GARMENT BAG - MAXIMUM" />
         <MSG N06="X" Q0K="0" S18="SIZE 57 X 54 X 15CM" />
         <OOS A01="FRA" A02="LAX">
         <Q00>03</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT P01="T" N43="X" />
         <BGD OC1="1" OC2="-1" />
         </OOS>
         </OSC>
         </OCG>
         </ITN>
        </AncillaryPricingResponse>
Example after:
        <AncillaryPricingResponse xmlns="http://www.atse.sabre.com/AncillaryPricing/Response">
         <ITN Q00="2">
         <MSG N06="X" Q0K="0" S18="ADT-01" />
         <MSG N06="X" Q0K="0" S18="BAG ALLOWANCE -NRTFRA-01P/NZ" />
         <MSG N06="X" Q0K="0" S18="2NDCHECKED BAG FEE-NRTFRA-JPY13000/NZ/UP TO 50 POUNDS/23 KILOGR" />
         <MSG N06="X" Q0K="0" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
         <MSG N06="X" Q0K="0" S18="BAG ALLOWANCE -FRALAX-01P/NZ" />
         <MSG N06="X" Q0K="0" S18="2NDCHECKED BAG FEE-FRALAX-JPY13000/NZ/UP TO 50 POUNDS/23 KILOGR" />
         <MSG N06="X" Q0K="0" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
         <MSG N06="X" Q0K="0" S18="CARRY ON ALLOWANCE" />
         <MSG N06="X" Q0K="0" S18="NRTHKG-01P/NH" />
         <MSG N06="X" Q0K="0" S18="01/UP TO 22 POUNDS/10 KILOGRAMS AND UP TO 45 LINEAR INCHES/115 " />
         <MSG N06="X" Q0K="0" S18="LINEAR CENTIMETERS" />
         <MSG N06="X" Q0K="0" S18="HKGFRA FRALAX-01P/LH" />
         <MSG N06="X" Q0K="0" S18="01/UP TO 18 POUNDS/8 KILOGRAMS AND UP TO 46 LINEAR INCHES/118 L" />
         <MSG N06="X" Q0K="0" S18="INEAR CENTIMETERS" />
         <MSG N06="X" Q0K="0" S18="CARRY ON CHARGES" />
         <MSG N06="X" Q0K="0" S18="NRTHKG-NH-CARRY ON FEES UNKNOWN-CONTACT CARRIER" />
         <MSG N06="X" Q0K="0" S18="HKGFRA FRALAX-LH" />
         <MSG N06="X" Q0K="0" S18="1ST CARRYON HAND BAGGAGE-SGD0.00" />
         <MSG N06="X" Q0K="0" S18="UP TO 18 POUNDS/8 KILOGRAMS AND UP TO 46 LINEAR INCHES/118 LINE" />
         <MSG N06="X" Q0K="0" S18="AR CENTIMETERS-NOT PERMITTED" />
         <MSG N06="X" Q0K="0" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY" />
         <MSG N06="X" Q0K="0" S18="EMBARGOES-APPLY TO EACH PASSENGER" />
         <MSG N06="X" Q0K="0" S18="HKGFRA FRALAX-LH" />
         <MSG N06="X" Q0K="0" S18="THIRD BAG NOT PERMITTED" />
         <MSG N06="X" Q0K="0" S18="UP TO 70 POUNDS/32 KILOGRAMS AND UP TO 126 LINEAR INCHES/320 LI" />
         <MSG N06="X" Q0K="0" S18="NEAR CENTIMETERS NOT PERMITTED" />
         <MSG N06="X" Q0K="0" S18="UP TO 11 POUNDS/5 KILOGRAMS AND UP TO 45 LINEAR INCHES/115 LINE" />
         <MSG N06="X" Q0K="0" S18="AR CENTIMETERS NOT PERMITTED" />
         <OCG Q00="23" SF0="BG">
         <OSC SHK="0DF" SFF="FREE BAGGAGE ALLOWANCE" SFV="ATP" B01="NZ" N02="4" AST="A">
         <MSG N06="X" Q0K="0" S18="MUST BE A MAX WEIGHT OF 7KGS." />
         <MSG N06="X" Q0K="0" S18="DIMENSIONS ON JET SERVICES MUST NOT EXCEED 57CM" />
         <MSG N06="X" Q0K="0" S18="WIDE / 37CM HIGH AND 24CM DEPTH." />
         <MSG N06="X" Q0K="0" S18="DIMENSIONS ON LINK SERVICES MUST NOT EXCEED 48CM" />
         <MSG N06="X" Q0K="0" S18="WIDE / 34CM HIGH AND 23CM DEPTH" />
         <OOS A01="NRT" A02="FRA">
         <Q00>01</Q00>
         <Q00>02</Q00>
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="F" />
         <BGA BPC="1">
         <MSG N06="X" Q0K="0" S18="//01/0GO/0FM" />
         </BGA>
         <TTX TXT="//01/0GO/0FM" />
         </OOS>
         </OSC>
         <OSC SHK="0GO" SFF="UPTO 23KG BAGGAGE" SFV="ATP" B01="NZ" N02="4" AST="C">
         <BIR B20="50" N0D="L" L01="U" />
         <BIR B20="23" N0D="K" L01="U" />
         <BIR B20="62" N0D="I" L01="U" />
         <BIR B20="158" N0D="C" L01="U" />
         <SDC DC1="23" D00="UP TO 50 POUNDS/23 KILOGRAMS" />
         <SDC DC1="6U" D00="UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
         <MSG N06="X" Q0K="0" S18="CHECKED BAG SHOULD NOT EXCEED TOTAL DIMENSIONS" />
         <MSG N06="X" Q0K="0" S18="LENGTH/WIDTH/ HEIGHT OF 158CM" />
         <OOS SDO="T" A01="NRT" A02="FRA">
         <Q00>01</Q00>
         <Q00>02</Q00>
         <SUM B70="ADT" C51="13000" C5A="JPY" C52="149.00" C5B="SGD" N21="X" C50="149.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="N" P03="N" P04="Y" />
         <BGD OC1="1" OC2="1" />
         <TTX TXT="PER PIECE" />
         </OOS>
         <OOS A01="NRT" A02="FRA">
         <Q00>01</Q00>
         <Q00>02</Q00>
         <SUM B70="ADT" C51="15000" C5A="JPY" C52="171.00" C5B="SGD" N21="X" C50="171.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="N" P03="N" P04="Y" />
         <BGD OC1="2" OC2="2" />
         <TTX TXT="PER PIECE" />
         </OOS>
         <OOS A01="NRT" A02="FRA">
         <Q00>01</Q00>
         <Q00>02</Q00>
         <SUM B70="ADT" C51="23000" C5A="JPY" C52="263.00" C5B="SGD" N21="X" C50="263.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="N" P03="N" P04="Y" />
         <BGD OC1="3" OC2="-1" />
         <TTX TXT="PER PIECE" />
         </OOS>
         </OSC>
         <OSC SHK="0GM" SFF="WHEELCHAIR AND MOBILITY EQUIP" SFV="ATP" B01="NZ" N02="4" ASG="AD" ASD="ASSISTIVE DEVICES" AST="C">
         <OOS A01="NRT" A02="FRA">
         <Q00>01</Q00>
         <Q00>02</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="G" N45="N" P03="N" P04="Y" />
         <BGD OC1="1" OC2="2" />
         <TTX TXT="CUSTOMERS MAY CARRY 2 WHEELCHAIRS OR TWO PIECES" />
         <TTX TXT="OF MOBILITY EQUIPMENT FREE OF CHARGE" />
         </OOS>
         </OSC>
         <OSC SHK="0F4" SFF="STROLLER OR CAR SEAT" SFV="ATP" B01="NZ" N02="4" ASG="IN" ASD="INFANT BAGGAGE" AST="C">
         <SDC DC1="ST" D00="STROLLER/PUSHCHAIR" />
         <OOS A01="NRT" A02="FRA">
         <Q00>01</Q00>
         <Q00>02</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="G" N45="N" P03="N" P04="Y" />
         <BGD OC1="-1" OC2="-1" />
         <TTX TXT="STROLLERS AND CAR SEATS WILL BE CARRIED FREE OF" />
         <TTX TXT="CHARGE" />
         </OOS>
         </OSC>
         <OSC SHK="0H1" SFF="MEDICAL EQUIPMENT" SFV="ATP" B01="NZ" N02="4" ASG="SI" ASD="SPECIALTY ITEMS" AST="C">
         <OOS A01="NRT" A02="FRA">
         <Q00>01</Q00>
         <Q00>02</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="G" N45="N" P03="N" P04="Y" />
         <BGD OC1="1" OC2="-1" />
         <TTX TXT="MEDICAL EQUIPMENT ESSENTIAL FOR THE PERIOD OF THE" />
         <TTX TXT="CUSTOMERS JOURNEY MAY BE CARRIED FREE OF CHARGE" />
         </OOS>
         </OSC>
         <OSC SHK="0DF" SFF="FREE BAGGAGE ALLOWANCE" SFV="ATP" B01="NZ" N02="4" AST="A">
         <MSG N06="X" Q0K="0" S18="MUST BE A MAX WEIGHT OF 7KGS." />
         <MSG N06="X" Q0K="0" S18="DIMENSIONS ON JET SERVICES MUST NOT EXCEED 57CM" />
         <MSG N06="X" Q0K="0" S18="WIDE / 37CM HIGH AND 24CM DEPTH." />
         <MSG N06="X" Q0K="0" S18="DIMENSIONS ON LINK SERVICES MUST NOT EXCEED 48CM" />
         <MSG N06="X" Q0K="0" S18="WIDE / 34CM HIGH AND 23CM DEPTH" />
         <OOS A01="FRA" A02="LAX">
         <Q00>03</Q00>
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="F" />
         <BGA BPC="1">
         <MSG N06="X" Q0K="0" S18="//01/0GO/0FM" />
         </BGA>
         <TTX TXT="//01/0GO/0FM" />
         </OOS>
         </OSC>
         <OSC SHK="0GO" SFF="UPTO 23KG BAGGAGE" SFV="ATP" B01="NZ" N02="4" AST="C">
         <BIR B20="50" N0D="L" L01="U" />
         <BIR B20="23" N0D="K" L01="U" />
         <BIR B20="62" N0D="I" L01="U" />
         <BIR B20="158" N0D="C" L01="U" />
         <SDC DC1="23" D00="UP TO 50 POUNDS/23 KILOGRAMS" />
         <SDC DC1="6U" D00="UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
         <MSG N06="X" Q0K="0" S18="CHECKED BAG SHOULD NOT EXCEED TOTAL DIMENSIONS" />
         <MSG N06="X" Q0K="0" S18="LENGTH/WIDTH/ HEIGHT OF 158CM" />
         <OOS SDO="T" A01="FRA" A02="LAX">
         <Q00>03</Q00>
         <SUM B70="ADT" C51="13000" C5A="JPY" C52="149.00" C5B="SGD" N21="X" C50="149.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="N" P03="N" P04="Y" />
         <BGD OC1="1" OC2="1" />
         <TTX TXT="PER PIECE" />
         </OOS>
         <OOS A01="FRA" A02="LAX">
         <Q00>03</Q00>
         <SUM B70="ADT" C51="15000" C5A="JPY" C52="171.00" C5B="SGD" N21="X" C50="171.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="N" P03="N" P04="Y" />
         <BGD OC1="2" OC2="2" />
         <TTX TXT="PER PIECE" />
         </OOS>
         <OOS A01="FRA" A02="LAX">
         <Q00>03</Q00>
         <SUM B70="ADT" C51="23000" C5A="JPY" C52="263.00" C5B="SGD" N21="X" C50="263.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="N" P03="N" P04="Y" />
         <BGD OC1="3" OC2="-1" />
         <TTX TXT="PER PIECE" />
         </OOS>
         </OSC>
         <OSC SHK="0GM" SFF="WHEELCHAIR AND MOBILITY EQUIP" SFV="ATP" B01="NZ" N02="4" ASG="AD" ASD="ASSISTIVE DEVICES" AST="C">
         <OOS A01="FRA" A02="LAX">
         <Q00>03</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="G" N45="N" P03="N" P04="Y" />
         <BGD OC1="1" OC2="2" />
         <TTX TXT="CUSTOMERS MAY CARRY 2 WHEELCHAIRS OR TWO PIECES" />
         <TTX TXT="OF MOBILITY EQUIPMENT FREE OF CHARGE" />
         </OOS>
         </OSC>
         <OSC SHK="0F4" SFF="STROLLER OR CAR SEAT" SFV="ATP" B01="NZ" N02="4" ASG="IN" ASD="INFANT BAGGAGE" AST="C">
         <SDC DC1="ST" D00="STROLLER/PUSHCHAIR" />
         <OOS A01="FRA" A02="LAX">
         <Q00>03</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="G" N45="N" P03="N" P04="Y" />
         <BGD OC1="-1" OC2="-1" />
         <TTX TXT="STROLLERS AND CAR SEATS WILL BE CARRIED FREE OF" />
         <TTX TXT="CHARGE" />
         </OOS>
         </OSC>
         <OSC SHK="0H1" SFF="MEDICAL EQUIPMENT" SFV="ATP" B01="NZ" N02="4" ASG="SI" ASD="SPECIALTY ITEMS" AST="C">
         <OOS A01="FRA" A02="LAX">
         <Q00>03</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="G" N45="N" P03="N" P04="Y" />
         <BGD OC1="1" OC2="-1" />
         <TTX TXT="MEDICAL EQUIPMENT ESSENTIAL FOR THE PERIOD OF THE" />
         <TTX TXT="CUSTOMERS JOURNEY MAY BE CARRIED FREE OF CHARGE" />
         </OOS>
         </OSC>
         <OSC SHK="0CE" SFF="THIRD CHECKED BAG" SFV="MMGR" B01="LH" N01="C" N02="4" AST="E">
         <SDC DC1="B3" D00="THIRD BAG" />
         <OOS N11="S" A01="HKG" A02="FRA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="2013-08-09" D02="9999-12-31" />
         <FAT P01="T" N43="X" />
         <BGD OC1="-1" OC2="-1" />
         </OOS>
         </OSC>
         <OSC SHK="0JM" SFF="UPTO 70LB 32KG AND126LI 320LCM" SFV="MMGR" B01="LH" N01="C" N02="4" AST="E">
         <BIR B20="70" N0D="L" L01="U" />
         <BIR B20="32" N0D="K" L01="U" />
         <BIR B20="126" N0D="I" L01="U" />
         <BIR B20="320" N0D="C" L01="U" />
         <SDC DC1="32" D00="UP TO 70 POUNDS/32 KILOGRAMS" />
         <SDC DC1="3D" D00="UP TO 126 LINEAR INCHES/320 LINEAR CENTIMETERS" />
         <OOS N11="S" A01="HKG" A02="FRA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="2013-08-07" D02="9999-12-31" />
         <FAT P01="T" N43="X" />
         <BGD OC1="-1" OC2="-1" />
         </OOS>
         </OSC>
         <OSC SHK="0ML" SFF="CARRY5KG 11LB UPTO 45LI 115LCM" SFV="MMGR" B01="LH" N01="C" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="E">
         <BIR B20="11" N0D="L" L01="U" />
         <BIR B20="5" N0D="K" L01="U" />
         <BIR B20="45" N0D="I" L01="U" />
         <BIR B20="115" N0D="C" L01="U" />
         <SDC DC1="05" D00="UP TO 11 POUNDS/5 KILOGRAMS" />
         <SDC DC1="4U" D00="UP TO 45 LINEAR INCHES/115 LINEAR CENTIMETERS" />
         <OOS N11="S" A01="HKG" A02="FRA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="2013-12-11" D02="2020-01-01" />
         <FAT P01="T" N43="X" />
         <BGD OC1="-1" OC2="-1" />
         </OOS>
         </OSC>
         <OSC SHK="0CE" SFF="THIRD CHECKED BAG" SFV="MMGR" B01="LH" N01="C" N02="4" AST="E">
         <SDC DC1="B3" D00="THIRD BAG" />
         <OOS N11="S" A01="FRA" A02="LAX">
         <Q00>03</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="2013-08-09" D02="9999-12-31" />
         <FAT P01="T" N43="X" />
         <BGD OC1="-1" OC2="-1" />
         </OOS>
         </OSC>
         <OSC SHK="0JM" SFF="UPTO 70LB 32KG AND126LI 320LCM" SFV="MMGR" B01="LH" N01="C" N02="4" AST="E">
         <BIR B20="70" N0D="L" L01="U" />
         <BIR B20="32" N0D="K" L01="U" />
         <BIR B20="126" N0D="I" L01="U" />
         <BIR B20="320" N0D="C" L01="U" />
         <SDC DC1="32" D00="UP TO 70 POUNDS/32 KILOGRAMS" />
         <SDC DC1="3D" D00="UP TO 126 LINEAR INCHES/320 LINEAR CENTIMETERS" />
         <OOS N11="S" A01="FRA" A02="LAX">
         <Q00>03</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="2013-08-07" D02="9999-12-31" />
         <FAT P01="T" N43="X" />
         <BGD OC1="-1" OC2="-1" />
         </OOS>
         </OSC>
         <OSC SHK="0ML" SFF="CARRY5KG 11LB UPTO 45LI 115LCM" SFV="MMGR" B01="LH" N01="C" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="E">
         <BIR B20="11" N0D="L" L01="U" />
         <BIR B20="5" N0D="K" L01="U" />
         <BIR B20="45" N0D="I" L01="U" />
         <BIR B20="115" N0D="C" L01="U" />
         <SDC DC1="05" D00="UP TO 11 POUNDS/5 KILOGRAMS" />
         <SDC DC1="4U" D00="UP TO 45 LINEAR INCHES/115 LINEAR CENTIMETERS" />
         <OOS N11="S" A01="FRA" A02="LAX">
         <Q00>03</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="2013-12-11" D02="2020-01-01" />
         <FAT P01="T" N43="X" />
         <BGD OC1="-1" OC2="-1" />
         </OOS>
         </OSC>
         <OSC SHK="0LN" SFF="CARRYON HAND BAGGAGE ALLOWANCE" SFV="ATP" B01="NH" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="B">
         <OOS A01="NRT" A02="HKG">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="F" />
         <BGA BPC="1">
         <ITR Q00="1">
         <ITT SHK="0MJ" SFF="CARRY10KG 22LBUPTO 45LI 115LCM" SFV="ATP" B01="NH" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="C">
         <BIR B20="22" N0D="L" L01="U" />
         <BIR B20="10" N0D="K" L01="U" />
         <BIR B20="45" N0D="I" L01="U" />
         <BIR B20="115" N0D="C" L01="U" />
         <SDC DC1="10" D00="UP TO 22 POUNDS/10 KILOGRAMS" />
         <SDC DC1="4U" D00="UP TO 45 LINEAR INCHES/115 LINEAR CENTIMETERS" />
         </ITT>
         </ITR>
         <MSG N06="X" Q0K="0" S18="CARRRY ON BAGGAGE CAN BE STOWED IN AN" />
         <MSG N06="X" Q0K="0" S18="ENCLOSED STORAGE COMPARTMENT IN THE CABIN" />
         <MSG N06="X" Q0K="0" S18="OR UNDER THE SEAT IN FRONT OF THE PASSENGER" />
         <MSG N06="X" Q0K="0" S18="--------------------------------------------" />
         <MSG N06="X" Q0K="0" S18="FOR JAPAN DOMESTIC SECTOR FLIGHTS" />
         <MSG N06="X" Q0K="0" S18="-UP TO 22LB/10KG AND 39LI/100LCM FOR AIRCRAFT" />
         <MSG N06="X" Q0K="0" S18="TYPE Q82-DH2/Q84-DH4" />
         </BGA>
         <TTX TXT="CARRRY ON BAGGAGE CAN BE STOWED IN AN" />
         <TTX TXT="ENCLOSED STORAGE COMPARTMENT IN THE CABIN" />
         <TTX TXT="OR UNDER THE SEAT IN FRONT OF THE PASSENGER" />
         <TTX TXT="--------------------------------------------" />
         <TTX TXT="FOR JAPAN DOMESTIC SECTOR FLIGHTS" />
         <TTX TXT="-UP TO 22LB/10KG AND 39LI/100LCM FOR AIRCRAFT" />
         <TTX TXT="TYPE Q82-DH2/Q84-DH4" />
         </OOS>
         </OSC>
         <OSC SHK="0LN" SFF="CARRYON HAND BAGGAGE ALLOWANCE" SFV="ATP" B01="LH" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="B">
         <OOS A01="HKG" A02="FRA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="F" />
         <BGA BPC="1">
         <ITR Q00="1">
         <ITT SHK="0M1" SFF="CARRY8KG 18LB UPTO46LI 118LCM" SFV="ATP" B01="LH" N01="C" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="C">
         <BIR B20="18" N0D="L" L01="U" />
         <BIR B20="8" N0D="K" L01="U" />
         <BIR B20="46" N0D="I" L01="U" />
         <BIR B20="118" N0D="C" L01="U" />
         <SDC DC1="08" D00="UP TO 18 POUNDS/8 KILOGRAMS" />
         <SDC DC1="4Y" D00="UP TO 46 LINEAR INCHES/118 LINEAR CENTIMETERS" />
         <MSG N06="X" Q0K="0" S18="MAXIMUM WEIGHT PER PEICE 8KG AND MAXIMUM SIZE" />
         <MSG N06="X" Q0K="0" S18="PER PIECE 55 X 40X 23CM." />
         <MSG N06="X" Q0K="0" S18="EXCEPTION APPLIES FOR A GARMENT BAG - MAXIMUM" />
         <MSG N06="X" Q0K="0" S18="SIZE 57 X 54 X 15CM" />
         </ITT>
         </ITR>
         </BGA>
         </OOS>
         </OSC>
         <OSC SHK="0L5" SFF="CARRYON HAND BAGGAGE" SFV="ATP" B01="LH" N01="C" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="C">
         <OOS A01="HKG" A02="FRA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="F" N45="N" P03="N" P04="Y" />
         <BGD OC1="1" OC2="1" />
         </OOS>
         </OSC>
         <OSC SHK="0M1" SFF="CARRY8KG 18LB UPTO46LI 118LCM" SFV="ATP" B01="LH" N01="C" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="C">
         <BIR B20="18" N0D="L" L01="U" />
         <BIR B20="8" N0D="K" L01="U" />
         <BIR B20="46" N0D="I" L01="U" />
         <BIR B20="118" N0D="C" L01="U" />
         <SDC DC1="08" D00="UP TO 18 POUNDS/8 KILOGRAMS" />
         <SDC DC1="4Y" D00="UP TO 46 LINEAR INCHES/118 LINEAR CENTIMETERS" />
         <MSG N06="X" Q0K="0" S18="MAXIMUM WEIGHT PER PEICE 8KG AND MAXIMUM SIZE" />
         <MSG N06="X" Q0K="0" S18="PER PIECE 55 X 40X 23CM." />
         <MSG N06="X" Q0K="0" S18="EXCEPTION APPLIES FOR A GARMENT BAG - MAXIMUM" />
         <MSG N06="X" Q0K="0" S18="SIZE 57 X 54 X 15CM" />
         <OOS A01="HKG" A02="FRA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT P01="T" N43="X" />
         <BGD OC1="1" OC2="-1" />
         </OOS>
         </OSC>
         <OSC SHK="0LN" SFF="CARRYON HAND BAGGAGE ALLOWANCE" SFV="ATP" B01="LH" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="B">
         <OOS N11="S" A01="FRA" A02="LAX">
         <Q00>03</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="F" />
         <BGA BPC="1">
         <ITR Q00="1">
         <ITT SHK="0M1" SFF="CARRY8KG 18LB UPTO46LI 118LCM" SFV="ATP" B01="LH" N01="C" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="C">
         <BIR B20="18" N0D="L" L01="U" />
         <BIR B20="8" N0D="K" L01="U" />
         <BIR B20="46" N0D="I" L01="U" />
         <BIR B20="118" N0D="C" L01="U" />
         <SDC DC1="08" D00="UP TO 18 POUNDS/8 KILOGRAMS" />
         <SDC DC1="4Y" D00="UP TO 46 LINEAR INCHES/118 LINEAR CENTIMETERS" />
         <MSG N06="X" Q0K="0" S18="MAXIMUM WEIGHT PER PEICE 8KG AND MAXIMUM SIZE" />
         <MSG N06="X" Q0K="0" S18="PER PIECE 55 X 40X 23CM." />
         <MSG N06="X" Q0K="0" S18="EXCEPTION APPLIES FOR A GARMENT BAG - MAXIMUM" />
         <MSG N06="X" Q0K="0" S18="SIZE 57 X 54 X 15CM" />
         </ITT>
         </ITR>
         </BGA>
         </OOS>
         </OSC>
         <OSC SHK="0L5" SFF="CARRYON HAND BAGGAGE" SFV="ATP" B01="LH" N01="C" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="C">
         <OOS A01="FRA" A02="LAX">
         <Q00>03</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="F" N45="N" P03="N" P04="Y" />
         <BGD OC1="1" OC2="1" />
         </OOS>
         </OSC>
         <OSC SHK="0M1" SFF="CARRY8KG 18LB UPTO46LI 118LCM" SFV="ATP" B01="LH" N01="C" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="C">
         <BIR B20="18" N0D="L" L01="U" />
         <BIR B20="8" N0D="K" L01="U" />
         <BIR B20="46" N0D="I" L01="U" />
         <BIR B20="118" N0D="C" L01="U" />
         <SDC DC1="08" D00="UP TO 18 POUNDS/8 KILOGRAMS" />
         <SDC DC1="4Y" D00="UP TO 46 LINEAR INCHES/118 LINEAR CENTIMETERS" />
         <MSG N06="X" Q0K="0" S18="MAXIMUM WEIGHT PER PEICE 8KG AND MAXIMUM SIZE" />
         <MSG N06="X" Q0K="0" S18="PER PIECE 55 X 40X 23CM." />
         <MSG N06="X" Q0K="0" S18="EXCEPTION APPLIES FOR A GARMENT BAG - MAXIMUM" />
         <MSG N06="X" Q0K="0" S18="SIZE 57 X 54 X 15CM" />
         <OOS A01="FRA" A02="LAX">
         <Q00>03</Q00>
         <SUM B70="ADT" C51="0.00" C5B="SGD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT P01="T" N43="X" />
         <BGD OC1="1" OC2="-1" />
         </OOS>
         </OSC>
         </OCG>
         </ITN>
        </AncillaryPricingResponse>
Files updated:
        Common/TrxUtil.cpp
        Common/TrxUtil.h
        Xform/AncillaryPricingResponseFormatter.cpp
        Xform/AncillaryPricingResponseFormatter.h
        Xform/PricingResponseXMLTags.h
Unit tests files:
        Xform/test/AncillaryPricingResponseFormatterTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Brajesh Tiwari
Code reviewers: Janusz.Jagodzinski@sabre.com;Marek.Talarczyk@sabre.com
BA: Joanna.Chrapek@sabre.com
QA: Grzegorz.Mozdzierz@sabre.com;Joanna.Kozlowska@sabre.com

Title: Remove FALLBACK_APO31441_CAT8_PU_CHECK
Date: 03/10/2015
Description:
        Remove FALLBACK_APO31441_CAT8_PU_CHECK
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        Remove_FALLBACK_APO31441_CAT8_PU_CHECK-sg218090 sg218090 true atsev2.2015.04.00 2015-03-09 14:57:51
        <FAM=atsev2> tseserver DYNAMIC_LOADABLE\FALLBACK_SECTION::FALLBACK_APO31441_CAT8_PU_CHECK Y Added in R11 = SCALAR N/A N N REMOVED
        <FAM=atsev2> tseserver FALLBACK_SECTION\FALLBACK_APO31441_CAT8_PU_CHECK N Added in R11 = SCALAR N/A N N REMOVED
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        Common/FallBack.cpp
        Rules/Stopovers.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Brajesh Tiwari
Code reviewers: Sashi.Reddy@sabre.com
BA: 
QA: 

Title: [Multiple settlement plans] ACMS flag to query customer table for multiple settlement plans
Date: 03/10/2015
Description:
        ACMS flag to query customer table for multiple settlement plans. 
        Fixed fallback flag FALLBACK_CUSTOMER_MULTI_SP.
        Set to 'Y' (fallback) for all environments.
Applies to: 
        [X] all agencies
        [ ] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        Fixed fallback flag FALLBACK_CUSTOMER_MULTI_SP.
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        None
Example after:
        None
Files updated:
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Mike Arterburn
Code reviewers: Mohammad Hossan
BA: Stan Overvik
QA: Kaleshia Newsome-Kjaun

Title: [Multiple settlement plans] Query customer table for multiple settlement plans
Date: 03/10/2015
Description:
        Query customer table for multiple settlement plans.
Applies to: 
        [X] all agencies
        [ ] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        Fixed fallback flag FALLBACK_CUSTOMER_MULTI_SP.
Resolution/QA recommendation:
        No data available yet for this column. This column has only been added to the Dev DB.
Entry/XML to recreate:
Example before:
        None
Example after:
        None
Files updated:
        Common/FallBack.cpp
        DBAccess/Customer.h
        DBAccess/CustomerDAO.h
        DBAccess/Queries/QueryGetCustomerSQLStatement.h
        DataModel/Agent.cpp
        Xform/CommonRequestHandler.cpp
Unit tests files:
        DBAccess/test/CustomerDAOTest.cpp
        DBAccess/test/DataHandleTest.cpp
        DBAccess/test/Makefile
        DataModel/test/AgentTest.cpp
DB: 
        [X] DB query update: customer table
        [X] DAO version number change: 8
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Mike Arterburn
Code reviewers: Mohammad Hossan
BA: Stan Ovrevik
QA: Kaleshia Newsome-Kjaun

Title: new tss cache
Date: 03/10/2015
Description:
        new tss cache
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        not active
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
        Common/TSSCacheCommon.cpp
        DBAccess/TSSCache.cpp
        DBAccess/TSSCache.h
        DBAccess/DataHandle.cpp
        DBAccess/DataHandle.h
        Decode/DecodeGenerator.cpp
        Taxes/LegacyTaxes/Tax.h
        Taxes/LegacyTaxes/UtcUtility.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Ilya Entin
Code reviewers: Alexander Zagrebin
BA: 
QA: 

Title: [ATPCO Tax] TaxRs to match the schema
Date: 03/11/2015
Description:
        so that the validation against the schema works...
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        na
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        na
Example after:
        na
Files updated:
        Taxes/AtpcoTaxes/Factories/OutputConverter.cpp
        Taxes/TestServer/Xform/NaturalXmlTagsList.h
        Taxes/TestServer/Xform/Xml2TagsList.h
        Taxes/TestServer/Xform/XmlTagsList.h
        Taxes/TestServer/Xform/XmlWriter.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [X] Historical
        [X] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [X] Other: ATPCO Taxes
Schema update: 
        [ ] Yes
Developer: Andrzej Krzemienski
Code reviewers: Piotr Lach
BA: 
QA: 

Title: [ATPCO Tax] Fixed uninitialized PointOfSale value
Date: 03/11/2015
Description:
        it contained random values. They were never read in the algorithm, so this wouldnt show up until I added the diagnostic 800/XML
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        na
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        na
Example after:
        na
Files updated:
        Taxes/LegacyFacades/InputPointOfSaleFactory.cpp
        Taxes/LegacyFacades/InputPointOfSaleFactory.h
        Taxes/LegacyFacades/TaxRequestBuilder.cpp<br>
Unit tests files:
        Taxes/LegacyFacades/test/InputPointOfSaleFactoryTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [X] Other: ATPCO Taxes only
Schema update: 
        [ ] Yes
Developer: Andrzej Krzemienski
Code reviewers: Piotr Lach, Jacek Roman
BA: 
QA: 

Title: [ATPCO Tax] tax::CurrencyCode does not allocate memory
Date: 03/11/2015
Description:
        optimization
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        na
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        na
Example after:
        na
Files updated:
        Taxes/AtpcoTaxes/DataModel/Common/Codes.h
        Taxes/AtpcoTaxes/DataModel/Common/Types.h
        Taxes/AtpcoTaxes/DataModel/Services/RulesRecord.h
        Taxes/AtpcoTaxes/Diagnostic/test/Diagnostic817Test.cpp
        Taxes/AtpcoTaxes/Diagnostic/test/NegativeDiagnosticTest.cpp
        Taxes/AtpcoTaxes/Diagnostic/test/PositiveDiagnosticTest.cpp
        Taxes/AtpcoTaxes/DomainDataObjects/TicketingOptions.cpp
        Taxes/AtpcoTaxes/Factories/test/OutputConverterTest.cpp
        Taxes/AtpcoTaxes/Processor/test/CheckRemoveTest.cpp
        Taxes/AtpcoTaxes/Rules/CurrencyOfSaleRule.cpp
        Taxes/AtpcoTaxes/Rules/RulesBuilder.cpp
        Taxes/AtpcoTaxes/Rules/TaxMinMaxValueApplicator.cpp
        Taxes/AtpcoTaxes/Rules/TaxMinMaxValueRule.cpp
        Taxes/AtpcoTaxes/Rules/TicketMinMaxValueApplicator.cpp
        Taxes/AtpcoTaxes/Rules/TicketMinMaxValueRule.cpp
        Taxes/AtpcoTaxes/Rules/test/BlankLimitApplicatorTest.cpp
        Taxes/AtpcoTaxes/Rules/test/BrApplTicketedPointTagTest.cpp
        Taxes/AtpcoTaxes/Rules/test/CarrierFlightApplicatorTest.cpp
        Taxes/AtpcoTaxes/Rules/test/ConnectionsTagsApplicatorTest.cpp
        Taxes/AtpcoTaxes/Rules/test/ContinuousJourneyLimitApplicatorTest.cpp
        Taxes/AtpcoTaxes/Rules/test/ContinuousJourneyTest.cpp
        Taxes/AtpcoTaxes/Rules/test/FillTimeStopoversApplicatorTest.cpp
        Taxes/AtpcoTaxes/Rules/test/JourneyIncludesApplicatorTest.cpp
        Taxes/AtpcoTaxes/Rules/test/JourneyLoc1AsOriginApplicatorTest.cpp
        Taxes/AtpcoTaxes/Rules/test/PercentageTaxTest.cpp
        Taxes/AtpcoTaxes/Rules/test/PointOfSaleApplicatorTest.cpp
        Taxes/AtpcoTaxes/Rules/test/PointOverlappingApplicatorTest.cpp
        Taxes/AtpcoTaxes/Rules/test/RawPaymentsHelper.cpp
        Taxes/AtpcoTaxes/Rules/test/RawPaymentsTest.cpp
        Taxes/AtpcoTaxes/Rules/test/ServiceBaggageTest.cpp
        Taxes/AtpcoTaxes/Rules/test/SpecialTripsTest.cpp
        Taxes/AtpcoTaxes/Rules/test/TaxMatchingApplTagTest.cpp
        Taxes/AtpcoTaxes/Rules/test/TaxMinMaxValueTest.cpp
        Taxes/AtpcoTaxes/Rules/test/TaxOnTaxTest.cpp
        Taxes/AtpcoTaxes/Rules/test/TaxPointLoc1ApplicatorTest.cpp
        Taxes/AtpcoTaxes/Rules/test/TaxPointLoc1InternationalDomesticApplicatorTest.cpp
        Taxes/AtpcoTaxes/Rules/test/TaxPointLoc1TransferTypeApplicatorTest.cpp
        Taxes/AtpcoTaxes/Rules/test/TaxPointLoc2ApplicatorTest.cpp
        Taxes/AtpcoTaxes/Rules/test/TaxPointLoc2CompareTest.cpp
        Taxes/AtpcoTaxes/Rules/test/TaxPointLoc2StopoverTagApplicatorTest.cpp
        Taxes/AtpcoTaxes/Rules/test/TaxPointLoc3AsNextStopoverApplicatorTest.cpp
        Taxes/AtpcoTaxes/Rules/test/TravelWhollyWithinApplicatorTest.cpp
        Taxes/AtpcoTaxes/Rules/test/ValidatingCarrierApplicatorTest.cpp
        Taxes/AtpcoTaxes/test/MakePaymentDetail.cpp
        Taxes/AtpcoTaxes/test/MakePaymentDetail.h
        Taxes/AtpcoTaxes/test/PaymentDetailMock.cpp
        Taxes/LegacyFacades/ConvertCode.cpp
        Taxes/LegacyFacades/ConvertCode.h
        Taxes/LegacyFacades/CurrencyServiceV2.cpp
        Taxes/LegacyFacades/DaoDataFormatConverter.cpp
        Taxes/LegacyFacades/LocServiceV2.cpp
        Taxes/LegacyFacades/ResponseConverter.cpp
        Taxes/LegacyFacades/TaxRequestBuilder.cpp
        Taxes/LegacyFacades/test/ResponseConverterTest.cpp
        Taxes/LegacyFacades/test/TaxRequestBuilderTest.cpp
        Taxes/TestServer/Facades/LocServiceServer.cpp<br>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [X] Other: ATPCO Taxes only
Schema update: 
        [ ] Yes
Developer: Andrzej Krzemienski
Code reviewers: Maciej Krawczyk, Aleksander Hryniewiecki
BA: 
QA: 

Title: [ATPCO Tax] Vendor code begets the size of an int.
Date: 03/11/2015
Description:
        optimization
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        na
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        na
Example after:
        na
Files updated:
        Taxes/AtpcoTaxes/DataModel/Common/Codes.h
        Taxes/AtpcoTaxes/DataModel/Common/Types.h
        Taxes/AtpcoTaxes/DataModel/Services/SubCache.h
        Taxes/AtpcoTaxes/Factories/test/MakeSabreCodeTest.cpp
        Taxes/AtpcoTaxes/Processor/BusinessRulesProcessor.cpp
        Taxes/AtpcoTaxes/Processor/test/BusinessRulesProcessorTest.cpp
        Taxes/AtpcoTaxes/Rules/PassengerTypeCodeApplicatorFacade.cpp
        Taxes/AtpcoTaxes/Rules/PassengerTypeCodeRule.cpp
        Taxes/AtpcoTaxes/Rules/SectorDetailRule.cpp
        Taxes/AtpcoTaxes/Rules/ServiceBaggageRule.cpp
        Taxes/AtpcoTaxes/Rules/ServiceFeeSecurityApplicatorFacade.cpp
        Taxes/AtpcoTaxes/Rules/ServiceFeeSecurityRule.cpp
        Taxes/AtpcoTaxes/Rules/TaxOnFareRule.cpp
        Taxes/AtpcoTaxes/Rules/TaxOnOptionalServiceRule.cpp
        Taxes/AtpcoTaxes/Rules/TaxOnTaxRule.cpp
        Taxes/AtpcoTaxes/Rules/TaxOnYqYrRule.cpp
        Taxes/LegacyFacades/CarrierApplicationServiceV2.cpp
        Taxes/LegacyFacades/CarrierFlightServiceV2.cpp
        Taxes/LegacyFacades/ConvertCode.cpp
        Taxes/LegacyFacades/ConvertCode.h
        Taxes/LegacyFacades/DaoDataFormatConverter.cpp
        Taxes/LegacyFacades/DaoDataFormatConverter.h
        Taxes/LegacyFacades/LocServiceV2.cpp
        Taxes/LegacyFacades/PassengerTypesServiceV2.cpp
        Taxes/LegacyFacades/ReportingRecordServiceV2.cpp
        Taxes/LegacyFacades/SectorDetailServiceV2.cpp
        Taxes/LegacyFacades/ServiceBaggageServiceV2.cpp
        Taxes/LegacyFacades/ServiceFeeSecurityServiceV2.cpp<br>
Unit tests files:
        Taxes/LegacyFacades/test/CarrierFlightServiceV2Test.cpp
        Taxes/LegacyFacades/test/ConvertCodeTest.cpp
        Taxes/LegacyFacades/test/DaoDataFormatConverterTest.cpp
        Taxes/LegacyFacades/test/LocServiceV2Test.cpp
        Taxes/TestServer/Xform/test/XmlParserTest.cpp
        Taxes/AtpcoTaxes/Rules/test/PercentageTaxTest.cpp
        Taxes/AtpcoTaxes/Rules/test/RulesTest.cpp
        Taxes/AtpcoTaxes/Rules/test/SectorDetailTest.cpp
        Taxes/AtpcoTaxes/Rules/test/ServiceBaggageTest.cpp
        Taxes/AtpcoTaxes/Rules/test/TaxCodeConversionApplicatorTest.cpp
        Taxes/AtpcoTaxes/Rules/test/TaxOnTaxTest.cpp
        Taxes/AtpcoTaxes/Rules/test/TaxOnYqYrTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [X] Historical
        [X] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [X] Other: ATPCO Taxes only
Schema update: 
        [ ] Yes
Developer: Andrzej Krzemienski
Code reviewers: Maciej Krawczyk, Jacek Roman
BA: 
QA: 

Title: [Enhance Family Logic] Validate cat 8 for children
Date: 03/11/2015
Description:
        Added cat8 validation for children in family logic.
        Enable choosing categories to validate from configuration
        <FAM=atsev2>    tseserver    DYNAMIC_LOADABLE\FALLBACK_SECTION::VALIDATE_CAT8_FOR_CHILDREN    Y        =    SCALAR    N/A    N    N    CREATED
        <FAM=atsev2>    tseserver    FALLBACK_SECTION\VALIDATE_CAT8_FOR_CHILDREN    N        =    SCALAR    N/A    N    N    CREATED
        <FAM=atsev2>    tseserver    RULECATEGORY\FP_FAMILY_LOGIC_CHILDREN    4|8        =    SCALAR    N/A    N    N    CREATED
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        <FAM=atsev2>    tseserver    DYNAMIC_LOADABLE\FALLBACK_SECTION::VALIDATE_CAT8_FOR_CHILDREN    Y        =    SCALAR    N/A    N    N    CREATED
        <FAM=atsev2>    tseserver    FALLBACK_SECTION\VALIDATE_CAT8_FOR_CHILDREN    N        =    SCALAR    N/A    N    N    CREATED
        <FAM=atsev2>    tseserver    RULECATEGORY\FP_FAMILY_LOGIC_CHILDREN    4|8        =    SCALAR    N/A    N    N    CREATED
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
        Common/FallBack.cpp
        Diagnostic/Diag990Collector.cpp
        Diagnostic/Diag990Collector.h
        Pricing/PricingOrchestrator.cpp
        Pricing/PricingOrchestrator.h<br>
        RexPricing/test/MockRexRuleController.h
        Rules/CategoryRuleItemSet.h
        Rules/FareMarketRuleController.cpp
        Rules/FareMarketRuleController.h
        Rules/PricingUnitRuleController.cpp
        Rules/PricingUnitRuleController.h
        Rules/RuleConst.cpp
        Rules/RuleConst.h
        Rules/RuleController.cpp
        Rules/RuleController.h<br>
Unit tests files:
        Pricing/test/PricingOrchestratorTest.cpp
        Rules/test/RuleControllerReuseWarningTest.cpp
        Rules/test/RuleControllerTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Michal Jedros
Code reviewers: Marek Markiewicz, Damian Krolik
BA: 
QA: 

Title: [Enhance Family Logic] Do not delete category
Date: 03/11/2015
Description:
        Fix for previous change, do not delete validating category for all paxTypeFares
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        n/a
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
        Pricing/PricingOrchestrator.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Michal Jedros
Code reviewers: Damian Krolik, Marek Markiewicz
BA: 
QA: 

Title: [IBF] Mixed availability should not pass brand
Date: 03/11/2015
Description:
        When there is mixed availability for a fare with flow availability, the sold-out status should not be F (no fares found). Any sold-outs that might happen here should be A (no availability).
        This fix is a prerequisite to fixing SHP-1084.<br>
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        DYNAMIC_LOADABLE\FALLBACK_SECTION::FALLBACK_FIX_MIXED_BKG_PASS_IN_IBF = Y
        FALLBACK_SECTION\FALLBACK_FIX_MIXED_BKG_PASS_IN_IBF = N
Resolution/QA recommendation:
        Test IBF:
        - without Change Brand for Soldout - brands that previously showed soldout status F but there were fares in this brand should now show A
        - with Change Brand for Soldout - brands that previously showed soldout status F but there were fares in this brand should now show A or price with another brand on one leg
Entry/XML to recreate:
        <ShoppingRequest N06="M" D70="12" STK="ttfhlp671:27036 2015-03-04T08:08:42 4489d8">
          <AGI A10="USZ" A21="USZ" A90="AMJ" N0G="*" B00="AM" C40="USD" A80="USZ"/>
          <BIL A20="USZ" A22="USZ" A70="JR" AE0="AM" AD0="000000" AA0="AMJ" C00="142547812244789512" C01="142547812244789512" C20="ATSEIMIP" C21="SISXXADL"/>
          <PXI B70="ADT"/>
          <PRO B05="AM" P69="T" C48="USD" D54="548" P0J="T" SEZ="T" SEV="T" PA0="T" PA1="T" PA2="T" BFR="T" CBS="T"/>
          <DIA Q0A="889"/>
          <AAF Q1K="0" B00="AM" B01="AM" Q0B="633" S05="E90" P0Z="T">
            <BRD A01="SAT" D01="2015-03-19" D31="1415"/>
            <OFF A02="MEX" D02="2015-03-19" D32="1529"/>
          </AAF>
          <AAF Q1K="1" B00="AM" B01="AM" Q0B="1" S05="777" P0Z="T">
            <BRD A01="MEX" D01="2015-03-19" D31="1835"/>
            <OFF A02="MAD" D02="2015-03-20" D32="1230"/>
          </AAF>
          <AAF Q1K="2" B00="AM" B01="AM" Q0B="2" S05="788" P0Z="T">
            <BRD A01="MAD" D01="2015-03-26" D31="1440"/>
            <OFF A02="MEX" D02="2015-03-26" D32="2025"/>
          </AAF>
          <AAF Q1K="3" B00="AM" B01="AM" Q0B="632" S05="E90" P0Z="T">
            <BRD A01="MEX" D01="2015-03-27" D31="1010"/>
            <OFF A02="SAT" D02="2015-03-27" D32="1315"/>
          </AAF>
          <AAF Q1K="4" B00="AM" B01="AM" Q0B="2303" S05="E90" P0Z="T">
            <BRD A01="SAT" D01="2015-03-19" D31="1111"/>
            <OFF A02="MEX" D02="2015-03-19" D32="1225"/>
          </AAF>
          <AAF Q1K="5" B00="AM" B01="AM" Q0B="2302" S05="E90" P0Z="T">
            <BRD A01="MEX" D01="2015-03-27" D31="0700"/>
            <OFF A02="SAT" D02="2015-03-27" D32="1011"/>
          </AAF>
          <AAF Q1K="6" B00="AM" B01="AM" Q0B="21" S05="788" P0Z="T">
            <BRD A01="MEX" D01="2015-03-19" D31="2325"/>
            <OFF A02="MAD" D02="2015-03-20" D32="1710"/>
          </AAF>
          <AVL Q16="0" A01="SAT" A02="MEX">
            <FBK Q1K="0" Q17="J9|F2|C9|D9|I9|Z4|O2|Y9|P9|B9|M9|U9|K9|H9|L9|S9|Q9|T9|E0|N0|R0|V0|W0|G0|X0"/>
          </AVL>
          <AVL Q16="1" A01="MEX" A02="MAD">
            <FBK Q1K="1" Q17="J9|F0|C9|D0|I0|Z0|O1|Y9|P9|B9|M9|U9|K9|H9|L9|S1|Q9|T9|E9|N9|R9|V9|W9|G4|X2"/>
          </AVL>
          <AVL Q16="2" A01="SAT" A02="MAD">
            <FBK Q1K="0" Q17="J9|F2|C9|D9|I9|Z4|O2|Y9|P9|B9|M9|U9|K9|H9|L9|S9|Q9|T9|E0|N0|R0|V0|W0|G0|X0"/>
            <FBK Q1K="1" Q17="J9|F0|C9|D0|I0|Z0|O1|Y9|P9|B9|M9|U9|K9|H9|L9|S1|Q9|T0|E0|N0|R0|V0|W0|G0|X0"/>
          </AVL>
          <AVL Q16="3" A01="MAD" A02="MEX">
            <FBK Q1K="2" Q17="J9|F3|C9|D9|I9|Z0|O0|Y9|P9|B9|M9|U9|K9|H9|L9|S0|Q9|T9|E9|N9|R9|V0|W0|G0|X0"/>
          </AVL>
          <AVL Q16="4" A01="MEX" A02="SAT">
            <FBK Q1K="3" Q17="J6|F2|C6|D4|I4|Z4|O2|Y9|P9|B9|M9|U9|K9|H9|L0|S0|Q0|T0|E0|N0|R0|V0|W0|G0|X0"/>
          </AVL>
          <AVL Q16="5" A01="MAD" A02="SAT">
            <FBK Q1K="2" Q17="J9|F3|C9|D9|I8|Z0|O0|Y9|P9|B9|M9|U9|K9|H9|L9|S0|Q9|T0|E0|N0|R0|V0|W0|G0|X0"/>
            <FBK Q1K="3" Q17="J6|F2|C6|D4|I4|Z4|O2|Y9|P9|B9|M9|U9|K9|H9|L0|S0|Q0|T0|E0|N0|R0|V0|W0|G0|X0"/>
          </AVL>
          <AVL Q16="6" A01="SAT" A02="MEX">
            <FBK Q1K="4" Q17="J9|F2|C9|D9|I9|Z4|O2|Y9|P9|B9|M9|U9|K9|H9|L9|S9|Q9|T9|E9|N9|R9|V9|W9|G4|X2"/>
          </AVL>
          <AVL Q16="7" A01="SAT" A02="MAD">
            <FBK Q1K="4" Q17="J9|F2|C9|D9|I9|Z4|O2|Y9|P9|B9|M9|U9|K9|H9|L9|S9|Q9|T9|E9|N9|R9|V9|W9|G4|X2"/>
            <FBK Q1K="1" Q17="J9|F0|C9|D0|I0|Z0|O1|Y9|P9|B9|M9|U9|K9|H9|L9|S1|Q9|T0|E0|N0|R0|V0|W0|G0|X0"/>
          </AVL>
          <AVL Q16="8" A01="MEX" A02="SAT">
            <FBK Q1K="5" Q17="J8|F2|C8|D8|I8|Z4|O2|Y9|P9|B9|M9|U9|K9|H9|L9|S9|Q9|T9|E0|N0|R0|V0|W0|G0|X0"/>
          </AVL>
          <AVL Q16="9" A01="MAD" A02="SAT">
            <FBK Q1K="2" Q17="J9|F3|C9|D9|I8|Z0|O0|Y9|P9|B9|M9|U9|K9|H9|L9|S0|Q9|T0|E0|N0|R0|V0|W0|G0|X0"/>
            <FBK Q1K="5" Q17="J8|F2|C8|D8|I8|Z4|O2|Y9|P9|B9|M9|U9|K9|H9|L9|S9|Q9|T9|E0|N0|R0|V0|W0|G0|X0"/>
          </AVL>
          <AVL Q16="10" A01="MEX" A02="MAD">
            <FBK Q1K="6" Q17="J9|F0|C4|D3|I0|Z0|O1|Y9|P9|B9|M9|U9|K9|H9|L9|S0|Q9|T9|E9|N9|R9|V9|W9|G4|X2"/>
          </AVL>
          <AVL Q16="11" A01="SAT" A02="MAD">
            <FBK Q1K="0" Q17="J9|F2|C9|D9|I9|Z4|O2|Y9|P9|B9|M9|U9|K9|H9|L9|S9|Q9|T9|E0|N0|R0|V0|W0|G0|X0"/>
            <FBK Q1K="6" Q17="J9|F0|C6|D6|I0|Z0|O0|Y9|P9|B9|M9|U9|K9|H9|L9|S0|Q9|T9|E9|N9|R9|V9|W9|G0|X0"/>
          </AVL>
          <AVL Q16="12" A01="SAT" A02="MAD">
            <FBK Q1K="4" Q17="J9|F2|C9|D9|I9|Z4|O2|Y9|P9|B9|M9|U9|K9|H9|L9|S9|Q9|T9|E9|N9|R9|V9|W9|G4|X2"/>
            <FBK Q1K="6" Q17="J9|F0|C6|D6|I0|Z0|O0|Y9|P9|B9|M9|U9|K9|H9|L9|S0|Q9|T9|E9|N9|R9|V9|W9|G0|X0"/>
          </AVL>
          <LEG Q14="0" B31="Y">
            <SOP Q15="0">
              <FID Q1K="0"/>
              <FID Q1K="1"/>
              <AID Q16="0"/>
              <AID Q16="1"/>
              <AID Q16="2"/>
            </SOP>
            <SOP Q15="1">
              <FID Q1K="4"/>
              <FID Q1K="1"/>
              <AID Q16="6"/>
              <AID Q16="1"/>
              <AID Q16="7"/>
            </SOP>
            <SOP Q15="2">
              <FID Q1K="0"/>
              <FID Q1K="6"/>
              <AID Q16="0"/>
              <AID Q16="10"/>
              <AID Q16="11"/>
            </SOP>
            <SOP Q15="3">
              <FID Q1K="4"/>
              <FID Q1K="6"/>
              <AID Q16="6"/>
              <AID Q16="10"/>
              <AID Q16="12"/>
            </SOP>
          </LEG>
          <LEG Q14="1" B31="Y">
            <SOP Q15="0">
              <FID Q1K="2"/>
              <FID Q1K="3"/>
              <AID Q16="3"/>
              <AID Q16="4"/>
              <AID Q16="5"/>
            </SOP>
            <SOP Q15="1">
              <FID Q1K="2"/>
              <FID Q1K="5"/>
              <AID Q16="3"/>
              <AID Q16="8"/>
              <AID Q16="9"/>
            </SOP>
          </LEG>
          <ITN NUM="5" Q5Q="5" C65="0">
            <SID Q14="0" Q15="3">
              <BKK B30="Y" B31="Y"/>
              <BKK B30="Y" B31="Y"/>
            </SID>
            <SID Q14="1" Q15="1">
              <BKK B30="Y" B31="Y"/>
              <BKK B30="Y" B31="Y"/>
            </SID>
          </ITN>
            <OND A01="SAT" A02="MAD" D01="2015-03-19"/>
          <OND A01="MAD" A02="SAT" D01="2015-03-26"/>
        </ShoppingRequest><br>
Example before:
        <ITN NUM="5" FML="M" B05="AM" D00="2015-03-14" PBC="F" D14="2015-03-14" D16="2015-03-14" P0J="T" VTA="F" PVT="F" FBR="F" STI="F">
            <SID Q14="0" Q15="3"/>
            <SID Q14="1" Q15="1"/>
            <GRI SB2="BG" SBL="F">
              <LEG Q14="0" SBL="F"/>
              <LEG Q14="1" SBL="F"/>
            </GRI><br>
Example after:
        <ITN NUM="5" FML="M" B05="AM" D00="2015-03-14" PBC="F" D14="2015-03-14" D16="2015-03-14" P0J="T" VTA="F" PVT="T" FBR="F" STI="F" N1U="@">
            <SID Q14="0" Q15="3"/>
            <SID Q14="1" Q15="1"/>
            <GRI SB2="BG">
              <SEG P2H="T">
                <BKC B30="V" Q13="8" B31="Y"/>
              </SEG>
              <SEG P2M="T">
                <BKC B30="W" Q13="8" B31="Y"/>
              </SEG>
              <SEG P2H="T">
                <BKC B30="T" Q13="8" B31="Y"/>
              </SEG>
              <SEG P2H="T">
                <BKC B30="Q" Q13="8" B31="Y"/>
              </SEG>
              <PSG Q0U="1" B70="ADT" C43="NUC" C5E="1455.00" C40="USD" C5A="1455.00" C46="USD" C66="1548.80" C65="93.80" S07="SAT AM MEX96.00AM MAD233.50AM MEX539.00AM SAT196.50Q MADSAT195.00Q SATMAD195.00NUC1455.00END ROE1.00 XFSAT4.5" N1U="@" C54="1.00000000" Q05="8" P27="T" C5D="0.00" C5B="0.00">
                <FDC Q20="0" A01="SAT" A02="MEX" A11="SAT" A12="MEX" B00="AM" B50="VOBG" B70="ADT" C40="USD" C50="96.00" C51="96.00" A60="WH" S70="FR" P0F="F" P04="F" P05="T" N0K="P" D00="2015-03-19" D06="2015-03-19" D05="2015-03-19">
                  <BKC B30="V" Q13="8" B31="Y" B52="VOBG" Q3S="9"/>
                  <FAT PAW="T" N1L="L" Q0D="2" P2F="T"/>
                  <FDS A01="SAT" A02="MEX" A11="SAT" A12="MEX" P2H="T" PAW="T" P0F="F" Q0D="2" B30="V" Q13="8" B31="Y" P2F="T"/>
                  <CAT>2 3 4 5 6 7 8 10 18</CAT>
                  <TAD C40="USD">
                    <TAX BC0="US2" C6B="17.70" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="SAT" C41="USD" C6A="17.70" A40="US"/>
                    <TAX BC0="AY" C6B="5.60" S04="US SECURITY FEE" S05="SAT" C41="USD" C6A="5.60" A40="US"/>
                    <TAX BC0="XF" C6B="4.50" S04="PASSENGER FACILITY CHARGES" S05="SAT" C41="USD" C6A="4.50" A40="US"/>
                    <TSM BC0="US2" C6B="17.70" S05="SAT" S04="US INTERNATIONAL TRANSPORTATION TAX" C6A="17.70" C41="USD" A40="US"/>
                    <TSM BC0="AY" C6B="5.60" S05="SAT" S04="US SECURITY FEE" C6A="5.60" C41="USD" A40="US"/>
                    <TSM BC0="XF" C6B="4.50" S05="SAT" S04="PASSENGER FACILITY CHARGE" C6A="4.50" C41="USD" A40="US"/>
                  </TAD>
                  <TOT C43="NUC" C5E="96.00" C40="USD" C5A="96.00" C45="USD" C5F="96.00" C46="USD" C65="27.80" C56="123.80"/>
                </FDC>
                <FDC Q20="1" A01="MEX" A02="MAD" A11="MEX" A12="MAD" B00="AM" B50="WRBG1/WEB" B70="ADT" C40="USD" C50="233.50" C51="467.00" A60="AT" S70="FR" P0F="F" BE0="WEB" P04="F" P05="T" N0K="P" D00="2015-03-19" N1U="@" D06="2015-03-19" D05="2015-03-19">
                  <BKC B30="W" Q13="8" B31="Y" B52="WRBG1/WEB" Q3S="9"/>
                  <SUR A01="MEX" A02="MAD" N0F="F" C40="NUC" C69="195.00" S03="FUEL"/>
                  <FAT PAW="T" N1L="L" Q0D="2" P2F="T"/>
                  <FDS A01="MEX" A02="MAD" A11="MEX" A12="MAD" P2M="T" PAW="T" P0F="F" Q0D="2" B30="W" Q13="8" B31="Y" P2F="T"/>
                  <CAT>2 3 4 5 6 7 8 10 12 15 16 18</CAT>
                  <TAD C40="USD"/>
                  <TOT C43="NUC" C5E="428.50" C40="USD" C5A="429.00" C45="USD" C5F="429.00" C46="USD" C65="0.00" C56="429.00"/>
                </FDC>
                <FDC Q20="2" A01="MAD" A02="MEX" A11="MAD" A12="MEX" B00="AM" B50="TRLXSL" B70="ADT" C40="USD" C50="539.00" C51="1078.00" A60="AT" S70="TO" P0F="F" SBL="A" P04="F" P05="T" N0K="P" D00="2015-03-26" D06="2015-03-26" D05="2015-03-26">
                  <BKC B30="T" Q13="8" B31="Y" B52="TRLXSL" Q3S="9"/>
                  <SUR A01="MAD" A02="MEX" N0F="F" C40="NUC" C69="195.00" S03="FUEL"/>
                  <FAT PAW="T" N1L="L" Q0D="2" P2F="T"/>
                  <FDS A01="MAD" A02="MEX" A11="MAD" A12="MEX" P2H="T" PAW="T" P0F="F" Q0D="2" B30="T" Q13="8" B31="Y" P2F="T"/>
                  <CAT>2 3 4 5 6 7 9 10 15 16 18</CAT>
                  <TAD C40="USD">
                    <TAX BC0="JD" C6B="25.00" S04="AIRPORT SERVICE CHARGE" S05="MAD" C41="EUR" C6A="22.99" A40="ES"/>
                    <TAX BC0="QV" C6B="4.10" S04="SECURITY TAX" S05="MAD" C41="EUR" C6A="3.78" A40="ES"/>
                    <TAX BC0="OG" C6B="0.60" S04="AVIATION SAFETY AND SECURITY FEE-" S05="MAD" C41="EUR" C6A="0.58" A40="ES"/>
                    <TSM BC0="JD" C6B="25.00" S05="MAD" S04="AIRPORT SERVICE CHARGE" C6A="22.99" C41="EUR" A40="ES"/>
                    <TSM BC0="QV" C6B="4.10" S05="MAD" S04="SECURITY TAX" C6A="3.78" C41="EUR" A40="ES"/>
                    <TSM BC0="OG" C6B="0.60" S05="MAD" S04="AVIATION SAFETY AND SECURITY FEE-" C6A="0.58" C41="EUR" A40="ES"/>
                  </TAD>
                  <TOT C43="NUC" C5E="734.00" C40="USD" C5A="734.00" C45="USD" C5F="734.00" C46="USD" C65="29.70" C56="763.70"/>
                </FDC>
                <FDC Q20="3" A01="MEX" A02="SAT" A11="MEX" A12="SAT" B00="AM" B50="QRHSL" B70="ADT" C40="USD" C50="196.50" C51="393.00" A60="WH" S70="TO" P0F="F" SBL="A" P04="F" P05="T" N0K="P" D00="2015-03-27" D06="2015-03-27" D05="2015-03-27">
                  <BKC B30="Q" Q13="8" B31="Y" B52="QRHSL" Q3S="9"/>
                  <FAT PAW="T" N1L="L" Q0D="2" P2F="T"/>
                  <FDS A01="MEX" A02="SAT" A11="MEX" A12="SAT" P2H="T" PAW="T" P0F="F" Q0D="2" B30="Q" Q13="8" B31="Y" P2F="T"/>
                  <CAT>2 3 4 5 7 8 10 18</CAT>
                  <TAD C40="USD">
                    <TAX BC0="YRI" C6B="1.10" S04="SERVICE FEE - CARRIER-IMPOSED MISC" S05="MEX" C41="MXN" C6A="17"/>
                    <TAX BC0="US2" C6B="17.70" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="MEX" C41="USD" C6A="17.70" A40="US"/>
                    <TAX BC0="YC" C6B="5.50" S04="US CUSTOMS USER FEE" S05="MEX" C41="USD" C6A="5.50" A40="US"/>
                    <TAX BC0="XY" C6B="7.00" S04="US FEDERAL INSPECTION FEE" S05="MEX" C41="USD" C6A="7.00" A40="US"/>
                    <TAX BC0="XA" C6B="5.00" S04="US APHIS USER FEE" S05="MEX" C41="USD" C6A="5.00" A40="US"/>
                    <TSM BC0="YRI" C6B="1.10" S05="MEX" S04="SERVICE FEE - CARRIER-IMPOSED MISC" C6A="17" C41="MXN"/>
                    <TSM BC0="US2" C6B="17.70" S05="MEX" S04="US INTERNATIONAL TRANSPORTATION TAX" C6A="17.70" C41="USD" A40="US"/>
                    <TSM BC0="YC" C6B="5.50" S05="MEX" S04="US CUSTOMS USER FEE" C6A="5.50" C41="USD" A40="US"/>
                    <TSM BC0="XY" C6B="7.00" S05="MEX" S04="US FEDERAL INSPECTION FEE" C6A="7.00" C41="USD" A40="US"/>
                    <TSM BC0="XA" C6B="5.00" S05="MEX" S04="US APHIS USER FEE" C6A="5.00" C41="USD" A40="US"/>
                  </TAD>
                  <TOT C43="NUC" C5E="196.50" C40="USD" C5A="197.00" C45="USD" C5F="197.00" C46="USD" C65="36.30" C56="233.30"/>
                </FDC>
                <TAD C40="USD">
                  <TAX BC0="YRI" C6B="1.10" S04="SERVICE FEE - CARRIER-IMPOSED MISC" S05="MEX" C41="MXN" C6A="17"/>
                  <TAX BC0="US2" C6B="17.70" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="SAT" C41="USD" C6A="17.70" A40="US"/>
                  <TAX BC0="US2" C6B="17.70" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="MEX" C41="USD" C6A="17.70" A40="US"/>
                  <TAX BC0="YC" C6B="5.50" S04="US CUSTOMS USER FEE" S05="MEX" C41="USD" C6A="5.50" A40="US"/>
                  <TAX BC0="XY" C6B="7.00" S04="US FEDERAL INSPECTION FEE" S05="MEX" C41="USD" C6A="7.00" A40="US"/>
                  <TAX BC0="XA" C6B="5.00" S04="US APHIS USER FEE" S05="MEX" C41="USD" C6A="5.00" A40="US"/>
                  <TAX BC0="AY" C6B="5.60" S04="US SECURITY FEE" S05="SAT" C41="USD" C6A="5.60" A40="US"/>
                  <TAX BC0="JD" C6B="25.00" S04="AIRPORT SERVICE CHARGE" S05="MAD" C41="EUR" C6A="22.99" A40="ES"/>
                  <TAX BC0="QV" C6B="4.10" S04="SECURITY TAX" S05="MAD" C41="EUR" C6A="3.78" A40="ES"/>
                  <TAX BC0="OG" C6B="0.60" S04="AVIATION SAFETY AND SECURITY FEE-" S05="MAD" C41="EUR" C6A="0.58" A40="ES"/>
                  <TAX BC0="XF" C6B="4.50" S04="PASSENGER FACILITY CHARGES" S05="SAT" C41="USD" C6A="4.50" A40="US"/>
                  <TSM BC0="YRI" C6B="1.10" S05="MEX" S04="SERVICE FEE - CARRIER-IMPOSED MISC" C6A="0.00" C41="USD"/>
                  <TSM BC0="US2" C6B="35.40" S05="SAT" S04="US INTERNATIONAL TRANSPORTATION TAX" C6A="17.70" C41="USD" A40="US"/>
                  <TSM BC0="YC" C6B="5.50" S05="MEX" S04="US CUSTOMS USER FEE" C6A="5.50" C41="USD" A40="US"/>
                  <TSM BC0="XY" C6B="7.00" S05="MEX" S04="US FEDERAL INSPECTION FEE" C6A="7.00" C41="USD" A40="US"/>
                  <TSM BC0="XA" C6B="5.00" S05="MEX" S04="US APHIS USER FEE" C6A="5.00" C41="USD" A40="US"/>
                  <TSM BC0="AY" C6B="5.60" S05="SAT" S04="US SECURITY FEE" C6A="5.60" C41="USD" A40="US"/>
                  <TSM BC0="JD" C6B="25.00" S05="MAD" S04="AIRPORT SERVICE CHARGE" C6A="22.99" C41="EUR" A40="ES"/>
                  <TSM BC0="QV" C6B="4.10" S05="MAD" S04="SECURITY TAX" C6A="3.78" C41="EUR" A40="ES"/>
                  <TSM BC0="OG" C6B="0.60" S05="MAD" S04="AVIATION SAFETY AND SECURITY FEE-" C6A="0.58" C41="EUR" A40="ES"/>
                  <TSM BC0="XF" C6B="4.50" S05="SAT" S04="PASSENGER FACILITY CHARGE" C6A="4.50" C41="USD" A40="US"/>
                </TAD>
                <LEG Q14="0">
                  <TAD C40="USD">
                    <TAX BC0="US2" C6B="17.70" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="SAT" C41="USD" C6A="17.70" A40="US"/>
                    <TAX BC0="AY" C6B="5.60" S04="US SECURITY FEE" S05="SAT" C41="USD" C6A="5.60" A40="US"/>
                    <TAX BC0="XF" C6B="4.50" S04="PASSENGER FACILITY CHARGES" S05="SAT" C41="USD" C6A="4.50" A40="US"/>
                    <TSM BC0="US2" C6B="17.70" S05="SAT" S04="US INTERNATIONAL TRANSPORTATION TAX" C6A="17.70" C41="USD" A40="US"/>
                    <TSM BC0="AY" C6B="5.60" S05="SAT" S04="US SECURITY FEE" C6A="5.60" C41="USD" A40="US"/>
                    <TSM BC0="XF" C6B="4.50" S05="SAT" S04="PASSENGER FACILITY CHARGE" C6A="4.50" C41="USD" A40="US"/>
                  </TAD>
                  <TOT C43="NUC" C5E="524.50" C40="USD" C5A="525.00" C45="USD" C5F="525.00" C46="USD" C65="27.80" C56="552.80"/>
                </LEG>
                <LEG Q14="1">
                  <TAD C40="USD">
                    <TAX BC0="YRI" C6B="1.10" S04="SERVICE FEE - CARRIER-IMPOSED MISC" S05="MEX" C41="MXN" C6A="17"/>
                    <TAX BC0="US2" C6B="17.70" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="MEX" C41="USD" C6A="17.70" A40="US"/>
                    <TAX BC0="YC" C6B="5.50" S04="US CUSTOMS USER FEE" S05="MEX" C41="USD" C6A="5.50" A40="US"/>
                    <TAX BC0="XY" C6B="7.00" S04="US FEDERAL INSPECTION FEE" S05="MEX" C41="USD" C6A="7.00" A40="US"/>
                    <TAX BC0="XA" C6B="5.00" S04="US APHIS USER FEE" S05="MEX" C41="USD" C6A="5.00" A40="US"/>
                    <TAX BC0="JD" C6B="25.00" S04="AIRPORT SERVICE CHARGE" S05="MAD" C41="EUR" C6A="22.99" A40="ES"/>
                    <TAX BC0="QV" C6B="4.10" S04="SECURITY TAX" S05="MAD" C41="EUR" C6A="3.78" A40="ES"/>
                    <TAX BC0="OG" C6B="0.60" S04="AVIATION SAFETY AND SECURITY FEE-" S05="MAD" C41="EUR" C6A="0.58" A40="ES"/>
                    <TSM BC0="YRI" C6B="1.10" S05="MAD" S04="SERVICE FEE - CARRIER-IMPOSED MISC" C6A="0.00" C41="USD"/>
                    <TSM BC0="US2" C6B="17.70" S05="MEX" S04="US INTERNATIONAL TRANSPORTATION TAX" C6A="17.70" C41="USD" A40="US"/>
                    <TSM BC0="YC" C6B="5.50" S05="MEX" S04="US CUSTOMS USER FEE" C6A="5.50" C41="USD" A40="US"/>
                    <TSM BC0="XY" C6B="7.00" S05="MEX" S04="US FEDERAL INSPECTION FEE" C6A="7.00" C41="USD" A40="US"/>
                    <TSM BC0="XA" C6B="5.00" S05="MEX" S04="US APHIS USER FEE" C6A="5.00" C41="USD" A40="US"/>
                    <TSM BC0="JD" C6B="25.00" S05="MAD" S04="AIRPORT SERVICE CHARGE" C6A="22.99" C41="EUR" A40="ES"/>
                    <TSM BC0="QV" C6B="4.10" S05="MAD" S04="SECURITY TAX" C6A="3.78" C41="EUR" A40="ES"/>
                    <TSM BC0="OG" C6B="0.60" S05="MAD" S04="AVIATION SAFETY AND SECURITY FEE-" C6A="0.58" C41="EUR" A40="ES"/>
                  </TAD>
                  <TOT C43="NUC" C5E="930.50" C40="USD" C5A="931.00" C45="USD" C5F="931.00" C46="USD" C65="66.00" C56="997.00"/>
                </LEG>
                <CCD C41="USD" C42="USD" C54="1.00000" Q05="5" N02="O"/>
                <MSG N06="N" Q0K="0" B00="AM">NONEND/NONREF/CHG/CXL - FEE APPLIES</MSG>
                <MSG N06="N" Q0K="0" B00="AM">NONEND</MSG>
                <MSG N06="W" Q0K="0">PRIVATE FARE APPLIED - CHECK RULES FOR CORRECT TICKETING</MSG>
                <MSG N06="W" Q0K="0">VALIDATING CARRIER SPECIFIED - AM</MSG>
              </PSG>
              <TOT C43="NUC" C5E="1455.00" C40="USD" C5A="1455.00" C45="USD" C5F="1455.00" C46="USD" C65="93.80" C56="1548.80"/>
              <MMS I10="T"/>
            </GRI><br>
Files updated:
        BookingCode/FareBookingCodeValidator.cpp
        Common/FallBack.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [X] Shopping
        [ ] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Michal Mlynek, Artur de Sousa Rocha
Code reviewers: Michal Mlynek, Artur de Sousa Rocha
BA: 
QA: 

Title: Fix for taxes on OC for SA group
Date: 03/11/2015
Description:
        Taxes on OC for SA group has the same value within the OC fee item.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        TAXES_ON_OC_FROM_SA_GROUP
Resolution/QA recommendation:
Entry/XML to recreate:
        <AncillaryPricingRequest Version="1.0.2" xmlns="http://www.atse.sabre.com/AncillaryPricing/Request">
          <AGI A20="75VF" N0G="*" B00="1S" />
          <BIL C20="DIFFTEST" S0R="PBSO" AD0="84A867" />
          <PRO>
            <RFG S01="SA" />
          </PRO>
          <ITN Q00="1">
            <IRO>
              <PXI B70="ADT" Q0U="1" />
            </IRO>
            <SGI Q00="1">
              <FLI A01="CUN" A02="MEX" D01="2015-03-11" B00="AM" B01="AM" B30="K" Q0B="1590" S95="737" />
            </SGI>
          </ITN>
        </AncillaryPricingRequest>
Example before:
        <AncillaryPricingResponse xmlns="http://www.atse.sabre.com/AncillaryPricing/Response">
          <ITN Q00="1">
            <OCG Q00="1" SF0="SA">
              <OSC SHK="0B5" SFF="SEAT ASSIGNMENT" SFV="MMGR" B01="AM" N01="A" N02="2" AST="F">
                <OOS N11="S" A01="CUN" A02="MEX" PS1="T" PY0="N" SEQ="74">
                  <Q00>01</Q00>
                  <SUM B70="ADT" C51="28.00" C5A="USD" C52="433" C5B="MXN" C50="557" />
                  <SFQ />
                  <DTE D01="2015-03-06" D02="2020-03-10" />
                  <FAT N41="2" P01="T" N44="1" N45="Y" P03="N" />
                  <FCL B61="AM" BJ0="YLWAP" />
                  <TAX BC0="IVA" C6B="124" />
                </OOS>
                <OOS N11="S" A01="CUN" A02="MEX" PS1="T" PY0="N" SEQ="944" URT="12281">
                  <Q00>01</Q00>
                  <SUM B70="ADT" C51="4.50" C5A="USD" C52="70" C5B="MXN" C50="194" />
                  <SFQ />
                  <DTE D01="2015-03-11" D02="9999-12-31" />
                  <FAT N41="1" P01="T" N44="1" Q7D="2" N45="Y" P03="N" />
                  <FCL B61="AM" BJ0="Y2TST" />
                  <PSP>
                    <UPC SEU="1">
                      <PDS PDI="W" PCA="W" SED="WINDOW" />
                    </UPC>
                  </PSP>
                  <TAX BC0="IVA" C6B="124" />
                </OOS>
                <OOS N11="S" A01="CUN" A02="MEX" PS1="T" PY0="N" SEQ="1000">
                  <Q00>01</Q00>
                  <SUM B70="ADT" C51="10.00" C5A="USD" C52="155" C5B="MXN" C50="279" />
                  <SFQ />
                  <DTE D01="2015-03-06" D02="2020-03-06" />
                  <FAT N41="4" P01="T" N44="1" Q7D="1" N45="Y" P03="N" />
                  <TAX BC0="IVA" C6B="124" />
                </OOS>
                <OOS N11="S" A01="CUN" A02="MEX" PS1="T" PY0="N" SEQ="2000" URT="12249">
                  <Q00>01</Q00>
                  <SUM B70="ADT" C51="15.00" C5A="USD" C52="232" C5B="MXN" C50="356" />
                  <SFQ />
                  <DTE D01="2015-03-06" D02="2020-03-07" />
                  <FAT N41="4" P01="T" N44="1" Q7D="1" N45="Y" P03="N" />
                  <PSP>
                    <UPC SEU="1">
                      <PDS PDI="CH" PCA="PAID" SED="CHARGEABLE" />
                      <PDS PDI="W" PCA="W" SED="WINDOW" />
                    </UPC>
                  </PSP>
                  <TAX BC0="IVA" C6B="124" />
                </OOS>
                <OOS N11="S" A01="CUN" A02="MEX" PS1="T" PY0="N" SEQ="3000">
                  <Q00>01</Q00>
                  <SUM B70="ADT" C51="20.00" C5A="USD" C52="310" C5B="MXN" C50="434" />
                  <SFQ />
                  <DTE D01="2015-03-06" D02="2020-03-07" />
                  <FAT N41="4" P01="T" N44="1" Q7D="2" N45="Y" P03="N" />
                  <TAX BC0="IVA" C6B="124" />
                </OOS>
                <OOS N11="S" A01="CUN" A02="MEX" PS1="T" PY0="N" SEQ="4000" URT="12250">
                  <Q00>01</Q00>
                  <SUM B70="ADT" C51="25.00" C5A="USD" C52="387" C5B="MXN" C50="511" />
                  <SFQ />
                  <DTE D01="2015-03-06" D02="2020-03-08" />
                  <FAT N41="4" P01="T" N44="1" Q7D="2" N45="Y" P03="N" />
                  <PSP>
                    <UPC SEU="1">
                      <PDS PDI="CH" PCA="PAID" SED="CHARGEABLE" />
                      <PDS PDI="W" PCA="W" SED="WINDOW" />
                    </UPC>
                  </PSP>
                  <TAX BC0="IVA" C6B="124" />
                </OOS>
                <OOS N11="S" A01="CUN" A02="MEX" PS1="T" PY0="N" SEQ="5000">
                  <Q00>01</Q00>
                  <SUM B70="ADT" C51="30.00" C5A="USD" C52="464" C5B="MXN" C50="588" />
                  <SFQ />
                  <DTE D01="2015-03-06" D02="2020-03-08" />
                  <FAT N41="4" P01="T" N44="1" Q7D="3" N45="Y" P03="N" />
                  <TAX BC0="IVA" C6B="124" />
                </OOS>
                <OOS N11="S" A01="CUN" A02="MEX" PS1="T" PY0="N" SEQ="6000" URT="12251">
                  <Q00>01</Q00>
                  <SUM B70="ADT" C51="35.00" C5A="USD" C52="542" C5B="MXN" C50="666" />
                  <SFQ />
                  <DTE D01="2015-03-06" D02="2020-03-09" />
                  <FAT N41="4" P01="T" N44="1" Q7D="3" N45="Y" P03="N" />
                  <PSP>
                    <UPC SEU="1">
                      <PDS PDI="CH" PCA="PAID" SED="CHARGEABLE" />
                      <PDS PDI="W" PCA="W" SED="WINDOW" />
                    </UPC>
                  </PSP>
                  <TAX BC0="IVA" C6B="124" />
                </OOS>
                <OOS N11="S" A01="CUN" A02="MEX" PS1="T" PY0="N" SEQ="7000">
                  <Q00>01</Q00>
                  <SUM B70="ADT" C51="40.00" C5A="USD" C52="619" C5B="MXN" C50="743" />
                  <SFQ />
                  <DTE D01="2015-03-06" D02="2020-03-09" />
                  <FAT N41="4" P01="T" N44="1" Q7D="4" N45="Y" P03="N" />
                  <TAX BC0="IVA" C6B="124" />
                </OOS>
                <OOS N11="S" A01="CUN" A02="MEX" PS1="T" PY0="N" SEQ="8000" URT="12244">
                  <Q00>01</Q00>
                  <SUM B70="ADT" C51="45.00" C5A="USD" C52="696" C5B="MXN" C50="820" />
                  <SFQ />
                  <DTE D01="2015-03-06" D02="2020-03-10" />
                  <FAT N41="4" P01="T" N44="1" Q7D="4" N45="Y" P03="N" />
                  <PSP>
                    <UPC SEU="1">
                      <PDS PDI="CH" PCA="PAID" SED="CHARGEABLE" />
                      <PDS PDI="W" PCA="W" SED="WINDOW" />
                    </UPC>
                  </PSP>
                  <TAX BC0="IVA" C6B="124" />
                </OOS>
                <OOS N11="S" A01="CUN" A02="MEX" PY0="N" SEQ="32000">
                  <Q00>01</Q00>
                  <SUM B70="ADT" C51="50.00" C5A="USD" C52="774" C5B="MXN" C50="898" />
                  <SFQ />
                  <DTE D01="2015-03-10" D02="2020-03-06" />
                  <FAT N41="4" P01="T" N44="1" N45="Y" P03="N" />
                  <TAX BC0="IVA" C6B="124" />
                </OOS>
              </OSC>
            </OCG>
          </ITN>
        </AncillaryPricingResponse>
Example after:
        <AncillaryPricingResponse xmlns="http://www.atse.sabre.com/AncillaryPricing/Response">
          <ITN Q00="1">
            <OCG Q00="1" SF0="SA">
              <OSC SHK="0B5" SFF="SEAT ASSIGNMENT" SFV="MMGR" B01="AM" N01="A" N02="2" AST="F">
                <OOS N11="S" A01="CUN" A02="MEX" PS1="T" PY0="N" SEQ="74">
                  <Q00>01</Q00>
                  <SUM B70="ADT" C51="28.00" C5A="USD" C52="433" C5B="MXN" C50="503" />
                  <SFQ />
                  <DTE D01="2015-03-06" D02="2020-03-10" />
                  <FAT N41="2" P01="T" N44="1" N45="Y" P03="N" />
                  <FCL B61="AM" BJ0="YLWAP" />
                  <TAX BC0="IVA" C6B="70" />
                </OOS>
                <OOS N11="S" A01="CUN" A02="MEX" PS1="T" PY0="N" SEQ="944" URT="12281">
                  <Q00>01</Q00>
                  <SUM B70="ADT" C51="4.50" C5A="USD" C52="70" C5B="MXN" C50="82" />
                  <SFQ />
                  <DTE D01="2015-03-11" D02="9999-12-31" />
                  <FAT N41="1" P01="T" N44="1" Q7D="2" N45="Y" P03="N" />
                  <FCL B61="AM" BJ0="Y2TST" />
                  <PSP>
                    <UPC SEU="1">
                      <PDS PDI="W" PCA="W" SED="WINDOW" />
                    </UPC>
                  </PSP>
                  <TAX BC0="IVA" C6B="12" />
                </OOS>
                <OOS N11="S" A01="CUN" A02="MEX" PS1="T" PY0="N" SEQ="1000">
                  <Q00>01</Q00>
                  <SUM B70="ADT" C51="10.00" C5A="USD" C52="155" C5B="MXN" C50="180" />
                  <SFQ />
                  <DTE D01="2015-03-06" D02="2020-03-06" />
                  <FAT N41="4" P01="T" N44="1" Q7D="1" N45="Y" P03="N" />
                  <TAX BC0="IVA" C6B="25" />
                </OOS>
                <OOS N11="S" A01="CUN" A02="MEX" PS1="T" PY0="N" SEQ="2000" URT="12249">
                  <Q00>01</Q00>
                  <SUM B70="ADT" C51="15.00" C5A="USD" C52="232" C5B="MXN" C50="270" />
                  <SFQ />
                  <DTE D01="2015-03-06" D02="2020-03-07" />
                  <FAT N41="4" P01="T" N44="1" Q7D="1" N45="Y" P03="N" />
                  <PSP>
                    <UPC SEU="1">
                      <PDS PDI="CH" PCA="PAID" SED="CHARGEABLE" />
                      <PDS PDI="W" PCA="W" SED="WINDOW" />
                    </UPC>
                  </PSP>
                  <TAX BC0="IVA" C6B="38" />
                </OOS>
                <OOS N11="S" A01="CUN" A02="MEX" PS1="T" PY0="N" SEQ="3000">
                  <Q00>01</Q00>
                  <SUM B70="ADT" C51="20.00" C5A="USD" C52="310" C5B="MXN" C50="360" />
                  <SFQ />
                  <DTE D01="2015-03-06" D02="2020-03-07" />
                  <FAT N41="4" P01="T" N44="1" Q7D="2" N45="Y" P03="N" />
                  <TAX BC0="IVA" C6B="50" />
                </OOS>
                <OOS N11="S" A01="CUN" A02="MEX" PS1="T" PY0="N" SEQ="4000" URT="12250">
                  <Q00>01</Q00>
                  <SUM B70="ADT" C51="25.00" C5A="USD" C52="387" C5B="MXN" C50="449" />
                  <SFQ />
                  <DTE D01="2015-03-06" D02="2020-03-08" />
                  <FAT N41="4" P01="T" N44="1" Q7D="2" N45="Y" P03="N" />
                  <PSP>
                    <UPC SEU="1">
                      <PDS PDI="CH" PCA="PAID" SED="CHARGEABLE" />
                      <PDS PDI="W" PCA="W" SED="WINDOW" />
                    </UPC>
                  </PSP>
                  <TAX BC0="IVA" C6B="62" />
                </OOS>
                <OOS N11="S" A01="CUN" A02="MEX" PS1="T" PY0="N" SEQ="5000">
                  <Q00>01</Q00>
                  <SUM B70="ADT" C51="30.00" C5A="USD" C52="464" C5B="MXN" C50="539" />
                  <SFQ />
                  <DTE D01="2015-03-06" D02="2020-03-08" />
                  <FAT N41="4" P01="T" N44="1" Q7D="3" N45="Y" P03="N" />
                  <TAX BC0="IVA" C6B="75" />
                </OOS>
                <OOS N11="S" A01="CUN" A02="MEX" PS1="T" PY0="N" SEQ="6000" URT="12251">
                  <Q00>01</Q00>
                  <SUM B70="ADT" C51="35.00" C5A="USD" C52="542" C5B="MXN" C50="629" />
                  <SFQ />
                  <DTE D01="2015-03-06" D02="2020-03-09" />
                  <FAT N41="4" P01="T" N44="1" Q7D="3" N45="Y" P03="N" />
                  <PSP>
                    <UPC SEU="1">
                      <PDS PDI="CH" PCA="PAID" SED="CHARGEABLE" />
                      <PDS PDI="W" PCA="W" SED="WINDOW" />
                    </UPC>
                  </PSP>
                  <TAX BC0="IVA" C6B="87" />
                </OOS>
                <OOS N11="S" A01="CUN" A02="MEX" PS1="T" PY0="N" SEQ="7000">
                  <Q00>01</Q00>
                  <SUM B70="ADT" C51="40.00" C5A="USD" C52="619" C5B="MXN" C50="719" />
                  <SFQ />
                  <DTE D01="2015-03-06" D02="2020-03-09" />
                  <FAT N41="4" P01="T" N44="1" Q7D="4" N45="Y" P03="N" />
                  <TAX BC0="IVA" C6B="100" />
                </OOS>
                <OOS N11="S" A01="CUN" A02="MEX" PS1="T" PY0="N" SEQ="8000" URT="12244">
                  <Q00>01</Q00>
                  <SUM B70="ADT" C51="45.00" C5A="USD" C52="696" C5B="MXN" C50="808" />
                  <SFQ />
                  <DTE D01="2015-03-06" D02="2020-03-10" />
                  <FAT N41="4" P01="T" N44="1" Q7D="4" N45="Y" P03="N" />
                  <PSP>
                    <UPC SEU="1">
                      <PDS PDI="CH" PCA="PAID" SED="CHARGEABLE" />
                      <PDS PDI="W" PCA="W" SED="WINDOW" />
                    </UPC>
                  </PSP>
                  <TAX BC0="IVA" C6B="112" />
                </OOS>
                <OOS N11="S" A01="CUN" A02="MEX" PY0="N" SEQ="32000">
                  <Q00>01</Q00>
                  <SUM B70="ADT" C51="50.00" C5A="USD" C52="774" C5B="MXN" C50="898" />
                  <SFQ />
                  <DTE D01="2015-03-10" D02="2020-03-06" />
                  <FAT N41="4" P01="T" N44="1" N45="Y" P03="N" />
                  <TAX BC0="IVA" C6B="124" />
                </OOS>
              </OSC>
            </OCG>
          </ITN>
        </AncillaryPricingResponse>
Files updated:
        Common\FallBack.cpp
        ServiceFees\OCFees.cpp
        ServiceFees\OCFees.h
        ServiceFees\OCFeesUsage.h
        Taxes\Dispatcher\AtpcoTaxesDriverV2.cpp
        Taxes\Dispatcher\AtpcoTaxesDriverV2.h
        Taxes\LegacyFacades\OptionalServicesBuilder.cpp
        Taxes\LegacyFacades\OptionalServicesBuilder.h
        Taxes\LegacyFacades\ResponseConverter.cpp
        Taxes\LegacyFacades\ResponseConverter.h
        Taxes\LegacyFacades\TaxRequestBuilder.h
        Taxes\LegacyFacades\V2TrxMappingDetails.h
        Taxes\LegacyTaxes\TaxApplyOnOC.cpp
        Xform\AncillaryPricingResponseFormatter.cpp
        Xform\OCFeesPrice.cpp
        Xform\OCFeesPrice.h
Unit tests files:
        Common\test\ServiceFeeUtilTest.cpp
        Diagnostic\test\Diag877CollectorTaxTest.cpp
        ServiceFees\test\OCFeesTest.cpp
        Taxes\Dispatcher\test\AtpcoTaxesDriverTest.cpp
        Taxes\LegacyFacades\test\OptionalServicesBuilderTest.cpp
        Taxes\LegacyTaxes\test\TaxDriverTest.cpp
        Xform\test\AncillaryPricingResponseFormatterTest.cpp
        Xform\test\PricingResponseFormatterTest.cpp
        Xform\test\XMLShoppingResponseTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Jacek Roman, Piotr Szyba
Code reviewers: Piotr Lach, Jacek Roman, Piotr Szyba
BA: 
QA: Grzegorz Sowizral

Title: Minor response formatter refactoring to throttle early
Date: 03/11/2015
Description:
        We always parse xml and build Trx object (including all contained structures)
         even if it is not necessary (because of throttle). This causes a high memory
         utilisation in some cases.<br>
            FALLBACK\THROTTLE_EARLY = Y<br>
        Change-Id: I561892f73435348af0fd0eba49297cdb4f4ed198<br>
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK\THROTTLE_EARLY = N
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [X] Taxes
        [X] Currency
        [X] Mileage
        [X] Baggage
        [X] Reissue/Exchange
        [X] Other: Core
Schema update: 
        [ ] Yes
Developer: Dariusz Wlodek
Code reviewers: Grzegorz Lisowski, Gustaw Smolarczyk
BA: 
QA: 

Title: Refactoring: move CAT31 RBD processing to a separate class
Date: 03/11/2015
Description:
        This refactoring is a preparation for fixing APO-34865 (hence the fallback name) but it's NOT yet fixed. The new code is functionally the same as the old one.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_APO_34865
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [ ] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [X] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Michal Malek
Code reviewers: Grzegorz Wanke, Grzegorz Szczurek, Grzegorz Szwarc
BA: 
QA: 

Title: APM-713
Date: 03/11/2015
Description:
        YQYR not included for Total Price on Exch/Rei
        + RBD logger update
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_SECTION\EXCHANGE_TPC
Resolution/QA recommendation:
Entry/XML to recreate:
        All AR
Example before:
        <TAX BC0="AE" C6B="75" C40="AED" S05="AUH" S04="PASSENGER SERVICE CHARGE" C6A="75" C41="AED" A40="AE" />
        <TAX BC0="TP" C6B="5" C40="AED" S05="AUH" S04="PASSENGER SECURITY AND SAFETY FEE" C6A="5" C41="AED" A40="AE" />
        <TAX BC0="ZR" C6B="5" C40="AED" S05="LHR" S04="INTL ADVANCED PSGR INFORMATION FEE" C6A="5" C41="AED" A40="AE" />
        <TAX BC0="GB5" C6B="780" C40="AED" S05="LHR" S04="AIR PASSENGER DUTY APD" C6A="138.00" C41="GBP" A40="GB" />
        <TAX BC0="UB6" C6B="240" C40="AED" S05="LHR" S04="INTERNATIONAL DPTRS IOM THROUGH LTN" C6A="42.06" C41="GBP" A40="GB" />
        <br>
        <TBD BC0="AE" C6B="75" C41="AED" C6A="75" A04="BA" S05="AUH" C40="AED" A06="F" A40="AE" S04="PASSENGER SERVICE CHARGE" PXF="F" PXG="F" PXH="T" A05="F" C6F="75.00" />
        <TBD BC0="TP" C6B="5" C41="AED" C6A="5" A04="BA" S05="AUH" C40="AED" A06="F" A40="AE" S04="PASSENGER SECURITY AND SAFETY FEE" PXF="F" PXG="F" PXH="T" A05="F" C6F="5.00" />
        <TBD BC0="ZR" C6B="5" C41="AED" C6A="5" A04="BA" S05="LHR" C40="AED" A06="F" A40="AE" S04="INTL ADVANCED PSGR INFORMATION FEE" PXF="F" PXG="F" PXH="T" A05="F" C6F="5.00" />
        <TBD BC0="GB5" C6B="780" C41="GBP" C6A="138.00" A04="BA" S05="LHR" C40="AED" A06="F" A40="GB" S04="AIR PASSENGER DUTY APD" PXF="F" PXG="F" PXH="T" A05="F" C6F="138.00" />
        <TBD BC0="UB6" C6B="240" C41="GBP" C6A="42.06" A04="BA" S05="LHR" C40="AED" A06="F" A40="GB" S04="INTERNATIONAL DPTRS IOM THROUGH LTN" PXF="F" PXG="F" PXH="T" A05="F" C6F="42.06" /></pre>
Example after:
        <TAX BC0="YQF" C6B="1380" C40="AED" S05="LHR" S04="SERVICE FEE - FUEL" C6A="144.50" C41="GBP" />
        <TAX BC0="AE" C6B="75" C40="AED" S05="AUH" S04="PASSENGER SERVICE CHARGE" C6A="75" C41="AED" A40="AE" />
        <TAX BC0="TP" C6B="5" C40="AED" S05="AUH" S04="PASSENGER SECURITY AND SAFETY FEE" C6A="5" C41="AED" A40="AE" />
        <TAX BC0="ZR" C6B="5" C40="AED" S05="LHR" S04="INTL ADVANCED PSGR INFORMATION FEE" C6A="5" C41="AED" A40="AE" />
        <TAX BC0="GB5" C6B="780" C40="AED" S05="LHR" S04="AIR PASSENGER DUTY APD" C6A="138.00" C41="GBP" A40="GB" />
        <TAX BC0="UB6" C6B="240" C40="AED" S05="LHR" S04="INTERNATIONAL DPTRS IOM THROUGH LTN" C6A="42.06" C41="GBP" A40="GB" />
        <br>
        <TBD BC0="YQF" C6B="810" C41="GBP" C6A="144.50" A04="BA" S05="LHR" C40="AED" A06="F" S04="SERVICE FEE - FUEL" PXF="F" PXG="F" PXH="T" A05="F" C6F="144.50" />
        <TBD BC0="YQF" C6B="570" C41="GBP" C6A="101.50" A04="BA" S05="AUH" C40="AED" A06="F" S04="SERVICE FEE - FUEL" PXF="F" PXG="F" PXH="T" A05="F" C6F="101.50" />
        <TBD BC0="AE" C6B="75" C41="AED" C6A="75" A04="BA" S05="AUH" C40="AED" A06="F" A40="AE" S04="PASSENGER SERVICE CHARGE" PXF="F" PXG="F" PXH="T" A05="F" C6F="75.00" />
        <TBD BC0="TP" C6B="5" C41="AED" C6A="5" A04="BA" S05="AUH" C40="AED" A06="F" A40="AE" S04="PASSENGER SECURITY AND SAFETY FEE" PXF="F" PXG="F" PXH="T" A05="F" C6F="5.00" />
        <TBD BC0="ZR" C6B="5" C41="AED" C6A="5" A04="BA" S05="LHR" C40="AED" A06="F" A40="AE" S04="INTL ADVANCED PSGR INFORMATION FEE" PXF="F" PXG="F" PXH="T" A05="F" C6F="5.00" />
        <TBD BC0="GB5" C6B="780" C41="GBP" C6A="138.00" A04="BA" S05="LHR" C40="AED" A06="F" A40="GB" S04="AIR PASSENGER DUTY APD" PXF="F" PXG="F" PXH="T" A05="F" C6F="138.00" />
        <TBD BC0="UB6" C6B="240" C41="GBP" C6A="42.06" A04="BA" S05="LHR" C40="AED" A06="F" A40="GB" S04="INTERNATIONAL DPTRS IOM THROUGH LTN" PXF="F" PXG="F" PXH="T" A05="F" C6F="42.06" /></pre>
Files updated:
        BookingCode/MixedClassController.cpp
        Common/YQYRCalculator.cpp
        Common/YQYRCalculator.h<br>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [X] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Wanke
Code reviewers: Grzegorz Cholewiak, Grzegorz Szczurek
BA: 
QA: 

Title: [RBD By Cabin Answer Table] Sets up an activation date
Date: 03/10/2015
Description:
        Story S-385984 - Activation date in config file for the project, it's sets up for the far future date, to allow code change, delivery and test in private environment for time being.
        Also, instantiate the new Common/RBDByCabinUtil to conduct all RBD By Cabin validation in one common place. Move function code from Diag187Collector to RBDByCabinUtil which is not related to diagnostic.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        <FAM=atsev2>
        PRICING_SVC\ATPCO_RBDBYCABIN_ANSWER_TABLE_ACTIVATION_DATE 2025-01-31 add in R4.2015 to support ATPCO RBD By Cabin project CREATED
Resolution/QA recommendation:
        N/A
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        Common/Makefile.sources
        A       Common/RBDByCabinUtil.cpp
        A       Common/RBDByCabinUtil.h
        M       Common/TrxUtil.cpp
        M       Common/TrxUtil.h
        M       Diagnostic/Diag187Collector.cpp
        M       Diagnostic/Diag187Collector.h
        M       Internal/InternalServiceController.cpp
Unit tests files:
        A       Common/test/RBDByCabinUtilTest.cpp
        M       Diagnostic/test/Diag187CollectorTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [ ] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Alexander Zagrebin
Code reviewers: Ilya Entin
BA: Richard Rummell
QA: 

Title: [ATPCO Taxes] ATPCO-345 doubled tax values on DY server
Date: 03/11/2015
Description:
        Unnecessary responses and yqyr's for ATPCO Taxes.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_SECTION\ATPCO_TAX_PHASESREFACTORING
         ATPCO_TAXES_ON_OC_ENABLED
         ATPCO_TAXES_ONCHANGEFEE_ENABLED
         ATPCO_TAXES_ON_ITIN_ENABLED
Resolution/QA recommendation:
Entry/XML to recreate:
        <PricingRequest Version="1.1.1">
          <AGI A10="IRU" A21="IRU " A80="IRU" A90="SSW" AB2="9251000" B00="1S" C40="VND" N0G="5" />
          <BIL A20="IRU" A22="IRU" A70="WPMVN" AA0="SSW" AD0="8FEBF6" AE0="VN" C01="402891125839231746" C20="INTLWPI1" S0R="PPSS" />
          <PRO AE0="VN" B05="VN" C40="VND" C45="VND" D07="2015-03-04" D54="0011" N08="B" P0J="T" P69="T" PBB="F" PBK="T" PBZ="F" PPC="T" Q0P="1" Q16="03" RTW="F" S14="PROD_REPLAY_REGRESSION" SEY="T" C10="" />
          <PXI B70="ADT" Q0U="01" />
          <SGI Q0C="01">
            <FLI A01="HAN" A02="BKK" B00="VN" B01="VN" B30="T" BB0="OK" BB2="QF" D00="2015-03-04" D01="2015-04-01" D02="2015-04-01" D30="0011" D31="0540" D32="0650" N03="A" Q0B="611" Q0C="01" />
          </SGI>
          <SGI Q0C="02">
            <FLI A01="BKK" A02="HAN" B00="VN" B01="VN" B30="R" BB0="OK" BB2="QF" D00="2015-03-04" D01="2015-04-05" D02="2015-04-05" D30="0011" D31="1145" D32="1255" N03="A" Q0B="612" Q0C="02" />
          </SGI>
        </PricingRequest>
Example before:
        <PricingResponse>
          <AGI A10="IRU" A21="IRU" A90="SSW" N0G="5" A80="IRU" B00="1S" C40="VND" Q01="0" />
          <BIL A20="IRU" AE0="VN" AD0="8FEBF6" C20="INTLWPI1" A22="IRU" AA0="SSW" A70="WPMVN" />
          <SUM C56="73.00" C40="USD" D07="2015-03-04" D54="11" S69="SITI" AO0="IRU" AF0="IRU" B00="VN" D00="2015-03-31" D14="2015-03-31" D16="2015-03-31" D60="23:59" PBC="F" PAR="F" S79="atsedbld05b">
            <PXI B70="ADT" C43="NUC" C5E="72.50" S85="ADT 1 ADT 0 2 1 1 8 T3MVNW SW01 884 T  2 2 8 R3MVNW SW01 884 R " PBS="F" USI="6" B71="ADT" Q4P="1" C40="USD" C5A="73.00" C45="VND" C5F="1539000" C54="1.00000000000000" Q05="13" C46="USD" C66="9067000" C65="7528000" C5D="0" C5B="0" C64="7528000" S66="HAN VN BKK32.50T3MVNW VN HAN40.00R3MVNW NUC72.50END ROE1.00" P27="F" NRA="0.00" P26="F">
              <MSG N06="N" Q0K="0" B00="VN" S18="RESTRICTIONS MAY APPLY./NON-END/" />
              <MSG N06="W" Q0K="0" S18="PRIVATE FARE APPLIED - CHECK RULES FOR CORRECT TICKETING" />
              <MSG N06="W" Q0K="0" S18="VALIDATING CARRIER SPECIFIED - VN" />
              <MSG N06="B" Q0K="0" S18="BAG ALLOWANCE     -HANBKK-20KG/VN" />
              <MSG N06="B" Q0K="0" S18="BAG ALLOWANCE     -BKKHAN-20KG/VN" />
              <MSG N06="B" Q0K="0" S18="CARRY ON ALLOWANCE" />
              <MSG N06="B" Q0K="0" S18="HANBKK BKKHAN-VN-CARRY ON ALLOWANCE UNKNOWN-CONTACT CARRIER" />
              <MSG N06="B" Q0K="0" S18="CARRY ON CHARGES" />
              <MSG N06="B" Q0K="0" S18="HANBKK BKKHAN-VN-CARRY ON FEES UNKNOWN-CONTACT CARRIER" />
              <MSG N06="B" Q0K="0" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY DEPENDING ON" />
              <MSG N06="B" Q0K="0" S18="FLYER-SPECIFIC FACTORS /E.G. FREQUENT FLYER STATUS/MILITARY/" />
              <MSG N06="B" Q0K="0" S18="CREDIT CARD FORM OF PAYMENT/EARLY PURCHASE OVER INTERNET,ETC./" />
              <TAX BC0="YQF" C6B="5058000" C40="VND" S05="HAN" S04="SERVICE FEE - FUEL" C6A="40.00" C41="USD" />
              <TAX BC0="YRI" C6B="444000" C40="VND" S05="HAN" S04="SERVICE FEE - CARRIER-IMPOSED MISC" C6A="7.00" C41="USD" />
              <TAX BC0="JC" C6B="1054000" C40="VND" S05="HAN" S04="PSC - INTERNATIONAL" C6A="25.00" C41="USD" A40="VN" />
              <TAX BC0="C4" C6B="64000" C40="VND" S05="HAN" C6A="1.50" C41="USD" A40="VN" />
              <TAX BC0="TS" C6B="908000" C40="VND" S05="BKK" S04="PASSENGER SERVICE CHARGE" C6A="700" C41="THB" A40="TH" />
              <TBD BC0="YQF" C6B="843000" C41="USD" C6A="40.00" A04="VN" S05="HAN" C40="VND" A06="F" S04="SERVICE FEE - FUEL" />
              <TBD BC0="YQF" C6B="843000" C41="USD" C6A="40.00" A04="VN" S05="BKK" C40="VND" A06="F" S04="SERVICE FEE - FUEL" />
              <TBD BC0="YRI" C6B="148000" C41="USD" C6A="7.00" A04="VN" S05="HAN" C40="VND" A06="F" S04="SERVICE FEE - CARRIER-IMPOSED MISC" />
              <TBD BC0="JC" C6B="527000" C41="USD" C6A="25.00" A04="VN" S05="HAN" C40="VND" A06="F" A40="VN" S04="PSC - INTERNATIONAL" />
              <TBD BC0="C4" C6B="32000" C41="USD" C6A="1.50" A04="VN" S05="HAN" C40="VND" A06="F" A40="VN" />
              <TBD BC0="TS" C6B="454000" C41="THB" C6A="700" A04="VN" S05="BKK" C40="VND" A06="F" A40="TH" S04="PASSENGER SERVICE CHARGE" />
              <TBD BC0="YQF" C6B="843000" C41="USD" C6A="40.00" A04="VN" S05="HAN" C40="VND" A06="F" S04="SERVICE FEE - FUEL" />
              <TBD BC0="YQF" C6B="843000" C41="USD" C6A="40.00" A04="VN" S05="BKK" C40="VND" A06="F" S04="SERVICE FEE - FUEL" />
              <TBD BC0="YRI" C6B="148000" C41="USD" C6A="7.00" A04="VN" S05="HAN" C40="VND" A06="F" S04="SERVICE FEE - CARRIER-IMPOSED MISC" />
              <TBR>
                <CCD C41="USD" C42="VND" C54="21074.81559536353961" Q05="13" />
              </TBR>
              <TBR>
                <CCD C41="THB" C42="VND" C54="648.00414722654227" Q05="13" />
              </TBR>
              <FIR>
                <CCD C41="USD" C54="1.00000000000" Q05="10" D06="20SEP01" D05="INDEF" />
              </FIR>
              <P45>
                <CCD C41="USD" C42="VND" C54="0.00004745000000" Q05="13" N02="O" />
              </P45>
              <CAL A11="HAN" A01="HAN" B08="VN" A12="BKK" A02="BKK" C50="32.50" B50="T3MVNW" Q04="6" B71="ADT" B02="VN" N00="Y" A41="VN" A51="3" A42="TH" A52="3" C51="32.50" C40="USD" P04="F" P05="T" D00="2015-04-01" N0K="P" P2M="F" PAY="F" PAZ="T" Q4J="1" N1K="R" S70="FR" A60="EH" FTY="08" S53="XEL">
                <CAT>4 5 7 8 9 10 15 16 18</CAT>
                <ERD Q46="2" Q1K="1" D12="2014-02-28" D55="05-54-52.475000" S53="XEL" BJ0="T3MVNW" D08="2015-04-01" Q04="6" C5A="32.500000000" B70="ADT" />
                <SEG A11="HAN" C6I="HAN" A12="BKK" A02="BKK" S37="ATP" B09="VN" S89="884" S90="SW01" P72="T" Q0Z="01" S12="EH" C11="VN" C12="TH" C13="I" D06="2015-04-01" D05="2015-04-01" P2F="T" P2I="F" PAW="F" B00="VN" B01="VN" N00="Y" SHR="321" P2M="T" P2H="F" Q0Y="1" B20="20" N0D="K" P26="F" />
              </CAL>
              <CAL A11="BKK" A01="BKK" B08="VN" A12="HAN" A02="HAN" C50="40.00" B50="R3MVNW" Q04="6" B71="ADT" B02="VN" N00="Y" A41="TH" A51="3" A42="VN" A52="3" C51="40.00" C40="USD" P04="F" P05="T" D00="2015-04-01" N0K="P" P2M="F" PAY="F" PAZ="T" Q4J="1" N1K="R" S70="TO" A60="EH" FTY="08" S53="XEL">
                <CAT>4 5 7 8 9 10 15 16 18</CAT>
                <ERD Q46="2" Q1K="1" D12="2014-02-28" D55="05-54-52.385000" S53="XEL" BJ0="R3MVNW" D08="2015-04-05" Q04="6" C5A="40.000000000" B70="ADT" />
                <SEG A11="BKK" C6I="BKK" A12="HAN" A02="HAN" S37="ATP" B09="VN" S89="884" S90="SW01" P72="R" Q0Z="02" S12="EH" C11="TH" C12="VN" C13="I" D06="2015-04-05" D05="2015-04-05" P2F="T" P2I="F" PAW="F" B00="VN" B01="VN" N00="Y" SHR="321" P2M="T" P2H="F" Q0Y="1" B20="20" N0D="K" P26="F" />
              </CAL>
              <ABL D16="20140228" S89="884    " S90="SW01" S83="ATP  " B02="VN" B50="T3MVNW         " A11="HAN" A12="BKK" />
              <BDI BPT="A" SFK="VN" SHK="0DFAAVN" B20="20" N0D="K">
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="A" SFK="VN" SHK="0DFAAVN" B20="20" N0D="K">
                <Q00>2</Q00>
              </BDI>
            </PXI>
          </SUM>
          <MSG N06="X" Q0K="3" S18="01APR DEPARTURE DATE-----LAST DAY TO PURCHASE 31MAR/2359" />
          <MSG N06="X" Q0K="4" S18="       BASE FARE      EQUIV AMT  TAXES/FEES/CHARGES    TOTAL" />
          <MSG N06="X" Q0K="5" S18=" 1-     USD73.00     VND1539000    7528000XT      VND9067000ADT" />
          <MSG N06="X" Q0K="6" S18="    XT   5058000YQ     444000YR    1054000JC      64000C4 " />
          <MSG N06="X" Q0K="7" S18="          908000TS " />
          <MSG N06="X" Q0K="8" S18="           73.00        1539000    7528000           9067000TTL" />
          <MSG N06="X" Q0K="9" S18="ADT-01  T3MVNW R3MVNW" />
          <MSG N06="X" Q0K="10" S18=" HAN VN BKK32.50T3MVNW VN HAN40.00R3MVNW NUC72.50END ROE1.00" />
          <MSG N06="X" Q0K="11" S18="RESTRICTIONS MAY APPLY./NON-END/" />
          <MSG N06="X" Q0K="12" S18="PRIVATE FARE APPLIED - CHECK RULES FOR CORRECT TICKETING" />
          <MSG N06="X" Q0K="13" S18="VALIDATING CARRIER SPECIFIED - VN" />
          <MSG N06="Y" Q0K="14" S18="ADT-01" />
          <MSG N06="Y" Q0K="15" S18="BAG ALLOWANCE     -HANBKK-20KG/VN" />
          <MSG N06="Y" Q0K="16" S18="BAG ALLOWANCE     -BKKHAN-20KG/VN" />
          <MSG N06="Y" Q0K="17" S18="CARRY ON ALLOWANCE" />
          <MSG N06="Y" Q0K="18" S18="HANBKK BKKHAN-VN-CARRY ON ALLOWANCE UNKNOWN-CONTACT CARRIER" />
          <MSG N06="Y" Q0K="19" S18="CARRY ON CHARGES" />
          <MSG N06="Y" Q0K="20" S18="HANBKK BKKHAN-VN-CARRY ON FEES UNKNOWN-CONTACT CARRIER" />
          <MSG N06="Y" Q0K="21" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY" />
          <OSC SHK="0DFAAVN" SFF="FREE BAGGAGE ALLOWANCE" SF0="BG" N02="4" />
        </PricingResponse>
Example after:
        <PricingResponse>
          <AGI A10="IRU" A21="IRU" A90="SSW" N0G="5" A80="IRU" B00="1S" C40="VND" Q01="0" />
          <BIL A20="IRU" AE0="VN" AD0="8FEBF6" C20="INTLWPI1" A22="IRU" AA0="SSW" A70="WPMVN" />
          <SUM C56="73.00" C40="USD" D07="2015-03-04" D54="11" S69="SITI" AO0="IRU" AF0="IRU" B00="VN" D00="2015-03-31" D14="2015-03-31" D16="2015-03-31" D60="23:59" PBC="F" PAR="F" S79="ltxl0240">
            <PXI B70="ADT" C43="NUC" C5E="72.50" S85="ADT 1 ADT 0 2 1 1 8 T3MVNW SW01 884 T  2 2 8 R3MVNW SW01 884 R " PBS="F" USI="6" B71="ADT" Q4P="1" C40="USD" C5A="73.00" C45="VND" C5F="1539000" C54="1.00000000000000" Q05="13" C46="USD" C66="5399000" C65="3860000" C5D="0" C5B="0" C64="3860000" S66="HAN VN BKK32.50T3MVNW VN HAN40.00R3MVNW NUC72.50END ROE1.00" P27="F" NRA="0.00" P26="F">
              <MSG N06="N" Q0K="0" B00="VN" S18="RESTRICTIONS MAY APPLY./NON-END/" />
              <MSG N06="W" Q0K="0" S18="PRIVATE FARE APPLIED - CHECK RULES FOR CORRECT TICKETING" />
              <MSG N06="W" Q0K="0" S18="VALIDATING CARRIER SPECIFIED - VN" />
              <MSG N06="B" Q0K="0" S18="BAG ALLOWANCE     -HANBKK-20KG/VN" />
              <MSG N06="B" Q0K="0" S18="BAG ALLOWANCE     -BKKHAN-20KG/VN" />
              <MSG N06="B" Q0K="0" S18="CARRY ON ALLOWANCE" />
              <MSG N06="B" Q0K="0" S18="HANBKK BKKHAN-VN-CARRY ON ALLOWANCE UNKNOWN-CONTACT CARRIER" />
              <MSG N06="B" Q0K="0" S18="CARRY ON CHARGES" />
              <MSG N06="B" Q0K="0" S18="HANBKK BKKHAN-VN-CARRY ON FEES UNKNOWN-CONTACT CARRIER" />
              <MSG N06="B" Q0K="0" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY DEPENDING ON" />
              <MSG N06="B" Q0K="0" S18="FLYER-SPECIFIC FACTORS /E.G. FREQUENT FLYER STATUS/MILITARY/" />
              <MSG N06="B" Q0K="0" S18="CREDIT CARD FORM OF PAYMENT/EARLY PURCHASE OVER INTERNET,ETC./" />
              <TAX BC0="YQF" C6B="1686000" C40="VND" S05="HAN" S04="SERVICE FEE - FUEL" C6A="40.00" C41="USD" />
              <TAX BC0="YRI" C6B="148000" C40="VND" S05="HAN" S04="SERVICE FEE - CARRIER-IMPOSED MISC" C6A="7.00" C41="USD" />
              <TAX BC0="JC" C6B="1054000" C40="VND" S05="HAN" S04="PSC - INTERNATIONAL" C6A="25.00" C41="USD" A40="VN" />
              <TAX BC0="C4" C6B="64000" C40="VND" S05="HAN" C6A="1.50" C41="USD" A40="VN" />
              <TAX BC0="TS" C6B="908000" C40="VND" S05="BKK" S04="PASSENGER SERVICE CHARGE" C6A="700" C41="THB" A40="TH" />
              <TBD BC0="YQF" C6B="843000" C41="USD" C6A="40.00" A04="VN" S05="HAN" C40="VND" A06="F" S04="SERVICE FEE - FUEL" />
              <TBD BC0="YQF" C6B="843000" C41="USD" C6A="40.00" A04="VN" S05="BKK" C40="VND" A06="F" S04="SERVICE FEE - FUEL" />
              <TBD BC0="YRI" C6B="148000" C41="USD" C6A="7.00" A04="VN" S05="HAN" C40="VND" A06="F" S04="SERVICE FEE - CARRIER-IMPOSED MISC" />
              <TBD BC0="JC" C6B="527000" C41="USD" C6A="25.00" A04="VN" S05="HAN" C40="VND" A06="F" A40="VN" S04="PSC - INTERNATIONAL" />
              <TBD BC0="C4" C6B="32000" C41="USD" C6A="1.50" A04="VN" S05="HAN" C40="VND" A06="F" A40="VN" />
              <TBD BC0="TS" C6B="454000" C41="THB" C6A="700" A04="VN" S05="BKK" C40="VND" A06="F" A40="TH" S04="PASSENGER SERVICE CHARGE" />
              <TBR>
                <CCD C41="USD" C42="VND" C54="21074.81559536353961" Q05="13" />
              </TBR>
              <TBR>
                <CCD C41="THB" C42="VND" C54="648.00414722654227" Q05="13" />
              </TBR>
              <FIR>
                <CCD C41="USD" C54="1.00000000000" Q05="10" D06="20SEP01" D05="INDEF" />
              </FIR>
              <P45>
                <CCD C41="USD" C42="VND" C54="0.00004745000000" Q05="13" N02="O" />
              </P45>
              <CAL A11="HAN" A01="HAN" B08="VN" A12="BKK" A02="BKK" C50="32.50" B50="T3MVNW" Q04="6" B71="ADT" B02="VN" N00="Y" A41="VN" A51="3" A42="TH" A52="3" C51="32.50" C40="USD" P04="F" P05="T" D00="2015-04-01" N0K="P" P2M="F" PAY="F" PAZ="T" Q4J="1" N1K="R" S70="FR" A60="EH" FTY="08" S53="XEL">
                <CAT>4 5 7 8 9 10 15 16 18</CAT>
                <ERD Q46="2" Q1K="1" D12="2014-02-28" D55="05-54-52.475000" S53="XEL" BJ0="T3MVNW" D08="2015-04-01" Q04="6" C5A="32.500000000" B70="ADT" />
                <SEG A11="HAN" C6I="HAN" A12="BKK" A02="BKK" S37="ATP" B09="VN" S89="884" S90="SW01" P72="T" Q0Z="01" S12="EH" C11="VN" C12="TH" C13="I" D06="2015-04-01" D05="2015-04-01" P2F="T" P2I="F" PAW="F" B00="VN" B01="VN" N00="Y" SHR="321" P2M="T" P2H="F" Q0Y="1" B20="20" N0D="K" P26="F" />
              </CAL>
              <CAL A11="BKK" A01="BKK" B08="VN" A12="HAN" A02="HAN" C50="40.00" B50="R3MVNW" Q04="6" B71="ADT" B02="VN" N00="Y" A41="TH" A51="3" A42="VN" A52="3" C51="40.00" C40="USD" P04="F" P05="T" D00="2015-04-01" N0K="P" P2M="F" PAY="F" PAZ="T" Q4J="1" N1K="R" S70="TO" A60="EH" FTY="08" S53="XEL">
                <CAT>4 5 7 8 9 10 15 16 18</CAT>
                <ERD Q46="2" Q1K="1" D12="2014-02-28" D55="05-54-52.385000" S53="XEL" BJ0="R3MVNW" D08="2015-04-05" Q04="6" C5A="40.000000000" B70="ADT" />
                <SEG A11="BKK" C6I="BKK" A12="HAN" A02="HAN" S37="ATP" B09="VN" S89="884" S90="SW01" P72="R" Q0Z="02" S12="EH" C11="TH" C12="VN" C13="I" D06="2015-04-05" D05="2015-04-05" P2F="T" P2I="F" PAW="F" B00="VN" B01="VN" N00="Y" SHR="321" P2M="T" P2H="F" Q0Y="1" B20="20" N0D="K" P26="F" />
              </CAL>
              <ABL D16="20140228" S89="884    " S90="SW01" S83="ATP  " B02="VN" B50="T3MVNW         " A11="HAN" A12="BKK" />
              <BDI BPT="A" SFK="VN" SHK="0DFAAVN" B20="20" N0D="K">
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="A" SFK="VN" SHK="0DFAAVN" B20="20" N0D="K">
                <Q00>2</Q00>
              </BDI>
            </PXI>
          </SUM>
          <MSG N06="X" Q0K="3" S18="01APR DEPARTURE DATE-----LAST DAY TO PURCHASE 31MAR/2359" />
          <MSG N06="X" Q0K="4" S18="       BASE FARE      EQUIV AMT  TAXES/FEES/CHARGES    TOTAL" />
          <MSG N06="X" Q0K="5" S18=" 1-     USD73.00     VND1539000    3860000XT      VND5399000ADT" />
          <MSG N06="X" Q0K="6" S18="    XT   1686000YQ     148000YR    1054000JC      64000C4 " />
          <MSG N06="X" Q0K="7" S18="          908000TS " />
          <MSG N06="X" Q0K="8" S18="           73.00        1539000    3860000           5399000TTL" />
          <MSG N06="X" Q0K="9" S18="ADT-01  T3MVNW R3MVNW" />
          <MSG N06="X" Q0K="10" S18=" HAN VN BKK32.50T3MVNW VN HAN40.00R3MVNW NUC72.50END ROE1.00" />
          <MSG N06="X" Q0K="11" S18="RESTRICTIONS MAY APPLY./NON-END/" />
          <MSG N06="X" Q0K="12" S18="PRIVATE FARE APPLIED - CHECK RULES FOR CORRECT TICKETING" />
          <MSG N06="X" Q0K="13" S18="VALIDATING CARRIER SPECIFIED - VN" />
          <MSG N06="Y" Q0K="14" S18="ADT-01" />
          <MSG N06="Y" Q0K="15" S18="BAG ALLOWANCE     -HANBKK-20KG/VN" />
          <MSG N06="Y" Q0K="16" S18="BAG ALLOWANCE     -BKKHAN-20KG/VN" />
          <MSG N06="Y" Q0K="17" S18="CARRY ON ALLOWANCE" />
          <MSG N06="Y" Q0K="18" S18="HANBKK BKKHAN-VN-CARRY ON ALLOWANCE UNKNOWN-CONTACT CARRIER" />
          <MSG N06="Y" Q0K="19" S18="CARRY ON CHARGES" />
          <MSG N06="Y" Q0K="20" S18="HANBKK BKKHAN-VN-CARRY ON FEES UNKNOWN-CONTACT CARRIER" />
          <MSG N06="Y" Q0K="21" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY" />
          <OSC SHK="0DFAAVN" SFF="FREE BAGGAGE ALLOWANCE" SF0="BG" N02="4" />
        </PricingResponse>
Files updated:
        Taxes/Dispatcher/AtpcoTaxOrchestrator.cpp
        Taxes/LegacyFacades/FacadesUtils.cpp
        Taxes/LegacyFacades/FacadesUtils.h
        Taxes/LegacyFacades/InputRequestUtils.h
        Taxes/LegacyFacades/ServicesFeesCollector.cpp
        Taxes/LegacyFacades/TaxRequestBuilder.cpp
        Taxes/LegacyTaxes/TaxDriver.cpp
        Taxes/LegacyTaxes/TaxRecord.cpp<br>
Unit tests files:
        Taxes/LegacyFacades/test/FacadeUtilsTest.cpp
        Taxes/LegacyFacades/test/InputRequestUtilsTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [X] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Krawczyk Maciej
Code reviewers: Lach Piotr, Krzemienski Andrzej
BA: 
QA: 

Title: [APO39171] Mark-up of CAT25 C-type displaying in PQ as COMMISSION
Date: 03/11/2015
Description:
        This is ACMS change only to turn on the fix for APO-39171 in R4.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        DYNAMIC LOADABLE/FALLBACK SECTION::APO39171 CAT35 MARKUP/Y      
        FALLBACK SECTION/APO39171 CAT35 MARKUP/N
Resolution/QA recommendation:
        Code changes were delivered in R3 with fallback flag set to Y due to no time for QA testing.
        The fallback flag is set to N for R4 testing.
Entry/XML to recreate:
        *M                                                              
        TSTSB                                                           
        *IA*P6                                                          
         1 OZ 221Y 19MAR Q JFKICN SS1   100P  430P  20MAR F /DCOZ       
         2 OZ 703Y 20MAR F ICNMNL SS1   750P 1100P /DCOZ                
        SK32.HDQ*Y2K 1357/11MAR15
Example before:
        WP                                                              
               BASE FARE                 TAXES/FEES/CHARGES    TOTAL    
         1-   USD1507.00                    198.60XT      USD1705.60ADT 
            XT    161.80YQ      17.70US       5.60AY       9.00BP       
                    4.50XF                                              
                 1507.00                    198.60           1705.60TTL 
        ADT-01  Y1US/AMX                                                
         NYC OZ X/SEL OZ MNL M1506.96NUC1506.96END ROE1.00 XFJFK4.5     
        PRIVATE FARE APPLIED - CHECK RULES FOR CORRECT TICKETING        
        CAT35   /                                                       
        VALIDATING CARRIER - OZ 
        PQ                                                              
        PRICE QUOTE RECORD RETAINED                                     <br>
        FARE NOT GUARANTEED UNTIL TICKETED                              <br>
        PQ 1                                                            <br>
               BASE FARE              TAXES/FEES/CHARGES     TOTAL      
             USD1507.00                      198.60XT     USD1705.60ADT 
            XT     161.80YQ      17.70US       5.60AY       9.00BP      
                     4.50XF                                             
        ADT-01  Y1US/AMX                                                
        NYC OZ X/SEL OZ MNL M1506.96NUC1506.96END ROE1.00 XFJFK4.5      
        PRIVATE FARE APPLIED - CHECK RULES FOR CORRECT TICKETING        
        VALIDATING CARRIER - OZ                                         
        01 O JFK OZ 221Y 19MAR  100P Y1US/AMX               19MAR16 02P 
        02 X ICN OZ 703Y 20MAR  750P Y1US/AMX               19MAR16 02P 
             MNL                                                        
        COMM PCT N    0                                                 
        TOUR CODE-AMEXNSA                                               
        MD                                                              
        CAT35   /                                                       
        *** NET TICKET FARE EXISTS - USE*PQ N ***                       
        FARE SOURCE - ATPC                                              
        VALIDATING CARRIER-OZ                                           <br>
        BAG ALLOWANCE     -JFKMNL-02P/OZ/EACH PIECE UP TO 50 POUNDS/23  
        KILOGRAMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS     
        CARRY ON ALLOWANCE                                              
        JFKICN ICNMNL-01P/OZ                                            
        01/UP TO 22 POUNDS/10 KILOGRAMS AND UP TO 45 LINEAR INCHES/115  
        LINEAR CENTIMETERS                                              
        CARRY ON CHARGES                                                
        JFKICN ICNMNL-OZ-CARRY ON FEES UNKNOWN-CONTACT CARRIER          
        ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY DEPENDING ON   
        FLYER-SPECIFIC FACTORS /E.G. FREQUENT FLYER STATUS/MILITARY/    
        CREDIT CARD FORM OF PAYMENT/EARLY PURCHASE OVER INTERNET,ETC./  
        SK32 HDQ  *Y2K 1502/11MAR15                           PRICE-SYS<br>
        *PQ N                                                           
                         PRICE QUOTE RECORD - DETAILS                   
        PQ 1                                                            <br>
        *NET FARE*                                                      
         BASE FARE          USD 1449.00                                 
         EQUIV FARE                                                     
         TOTAL TAXES        USD  198.60                                 
         TOTAL              USD 1647.60                                 
         COMM PCT N                   0                                 
         COMM AMT                                                       
         FARECAL            NYC OZ X/SEL OZ MNL M1449.00NUC1449.00END R 
                            OE1.00 XFJFK4.5                             
         TAXES/FEES/CHARGES    161.80YQ     17.70US      5.60AY         
                                 9.00BP      4.50XF                     
        *SELLING FARE*                                                  
         BASE FARE          USD 1507.00                                 
         EQUIV FARE                                                     
         TOTAL TAXES        USD  198.60                                 
         TOTAL              USD 1705.60        
         COMM PCT N               0                                     
        <color=red> COMM AMT           USD   58.00                                </color> 
         FARECAL            NYC OZ X/SEL OZ MNL M1506.96NUC1506.96END R 
                            OE1.00 XFJFK4.5                             
         TAXES/FEES/CHARGES    161.80YQ     17.70US      5.60AY         
                                 9.00BP      4.50XF            
        WPQ/*197                                                        
        :PRICINGRESPONSE: 
        MD/C61                                                          
              C61- 0.00                                                 
              <color=red>C60- 58.00 </color> 
        MD/C61                                                          
                C61- 0.00                                               
                C60- 0.00 /:
        WPQ/*865                                                        
        *************************************************************** 
        *  ATSE REQUEST DATA FOR NEGOTIATED FARE COMMISSION PROCESS   * 
        *************************************************************** 
          ABACUS USER                      : N                          
          AXESS USER                       : N                          
          CWT USER                         : N                          
          NET REMIT METHOD                 :                            
          TICKETING ENTRY                  : N                          
          PRINT SELLING CATEGORY 35 FARE   : N                          
          PRINT NET CATEGORY 35 FARE       : N                          
          CREDIT CARD FOP                  : N                          
          CASH FOP                         : N                          
          OTHER FOP                        : N                          
          BASE FARE CURRENCY               : USD                        
          PAYMENT CURRENCY                 : USD                        
          AGENT COMMISSION TYPE            : NONE                       
          AGENT COMMISSION VALUE           :                            <br>
        *************************************************************** 
        *         COMMISSION ANALYSIS - FARE COMPONENT LEVEL          * 
        *************************************************************** 
         JFK - OZ - MNL  Y1US                                           
        *************************************************************** 
          REQUESTED PAXTYPE: ADT      TEXT: IT       DISPLAY TYPE: C    <br>
          COMMISSION PERCENT               : 0.00                       
          COMMISSION AMOUNT 1              : 0.00                       
          COMMISSION AMOUNT 2              : 0.00                       
          NET GROSS INDICATOR              : N                          <br>
          SELLING CATEGORY 35 FARE AMT     : 1506.96   NUC              
          EXTRA MILAGE SURCHARGE           : 0.00      NUC              
          CAT8  STOPOVER CHARGE            : 0.00      NUC              
          CAT9  TRANSFER CHARGE            : 0.00      NUC              
          CAT12 SURCHARGE                  : 0.00      NUC              
          TOTAL SELL AMT                   : 1506.96   NUC              
          TOTAL SELL AMT IN PAYMENT CURR   : 1507.00   USD   
          NET CATEGORY 35 FARE AMT         : 1449.00   NUC              
          EXTRA MILAGE SURCHARGE           : 0.00      NUC              
          CAT8  STOPOVER CHARGE            : 0.00      NUC              
          CAT9  TRANSFER CHARGE            : 0.00      NUC              
          CAT12 SURCHARGE                  : 0.00      NUC              
          TOTAL NET AMT                    : 1449.00   NUC              
          TOTAL NET AMT IN PAYMENT CURR    : 1449.00   USD              <br>
          COMMISSION APPLICATION                                        
          AMOUNT                           :                            
          NET  * COMM PCT                  :                            
          SELL * COMM PCT                  :                            
          SELL - NET PLUS SELL * COMM PCT  : 58.00     USD              
          SELL - NET PLUS COMM AMOUNT      :                            
          SELL - NET DIFFERENCE            :                            <br>
          NET COMMISSION APPLICATION                                    
          AMOUNT                           :                            
          NET  * COMM PCT                  : 0.00      USD 
          SELL * COMM PCT                  :                            <br>
        *************************************************************** 
        *     FINAL NEGOTIATED FARE COMMISSION - FARE PATH LEVEL      * 
        *************************************************************** 
         <color=red> CALCULATED COMMISSION AMOUNT     : 58.00     USD             </color> 
          TICKET COMMISSION PERCENT        : NOT APPLICABLE             
          CALCULATED NET COMMISSION AMOUNT : 0.00      USD              
          TICKET NET COMMISSION PERCENT    : NOT APPLICABLE             
        ***************************************************************<br>
Example after:
        WPIPA-LTXL0238:17744                                            
               BASE FARE                 TAXES/FEES/CHARGES    TOTAL    
         1-   USD1507.00                    198.60XT      USD1705.60ADT 
            XT    161.80YQ      17.70US       5.60AY       9.00BP       
                    4.50XF                                              
                 1507.00                    198.60           1705.60TTL 
        ADT-01  Y1US/AMX                                                
         NYC OZ X/SEL OZ MNL M1506.96NUC1506.96END ROE1.00 XFJFK4.5     
        PRIVATE FARE APPLIED - CHECK RULES FOR CORRECT TICKETING        
        CAT35   /                                                       
        VALIDATING CARRIER - OZ <br>
        PQ                                                              
        PRICE QUOTE RECORD RETAINED                                     <br>
        FARE NOT GUARANTEED UNTIL TICKETED                              <br>
        PQ 1  IPA-LTXL0238:17744                                        <br>
               BASE FARE              TAXES/FEES/CHARGES     TOTAL      
             USD1507.00                      198.60XT     USD1705.60ADT 
            XT     161.80YQ      17.70US       5.60AY       9.00BP      
                     4.50XF                                             
        ADT-01  Y1US/AMX                                                
        NYC OZ X/SEL OZ MNL M1506.96NUC1506.96END ROE1.00 XFJFK4.5      
        PRIVATE FARE APPLIED - CHECK RULES FOR CORRECT TICKETING        
        VALIDATING CARRIER - OZ                                         
        01 O JFK OZ 221Y 19MAR  100P Y1US/AMX               19MAR16 02P 
        02 X ICN OZ 703Y 20MAR  750P Y1US/AMX               19MAR16 02P 
             MNL                                                        
        COMM PCT N    0                                                 
        TOUR CODE-AMEXNSA                                               
        MD                                                              
        CAT35   /                                                       
        *** NET TICKET FARE EXISTS - USE*PQ N ***                       
        FARE SOURCE - ATPC                                              
        VALIDATING CARRIER-OZ                                           <br>
        BAG ALLOWANCE     -JFKMNL-02P/OZ/EACH PIECE UP TO 50 POUNDS/23  
        KILOGRAMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS     
        CARRY ON ALLOWANCE                                              
        JFKICN ICNMNL-01P/OZ                                            
        01/UP TO 22 POUNDS/10 KILOGRAMS AND UP TO 45 LINEAR INCHES/115  
        LINEAR CENTIMETERS                                              
        CARRY ON CHARGES                                                
        JFKICN ICNMNL-OZ-CARRY ON FEES UNKNOWN-CONTACT CARRIER          
        ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY DEPENDING ON   
        FLYER-SPECIFIC FACTORS /E.G. FREQUENT FLYER STATUS/MILITARY/    
        CREDIT CARD FORM OF PAYMENT/EARLY PURCHASE OVER INTERNET,ETC./  
        SK32 HDQ  *Y2K 1455/11MAR15                           PRICE-SYS <br>
        MD                                                              
        .                                                               
        *PQ N                                                           
                         PRICE QUOTE RECORD - DETAILS                   
        PQ 1  IPA-LTXL0238:17744                                        <br>
        *NET FARE*                                                      
         BASE FARE          USD 1449.00                                 
         EQUIV FARE                                                     
         TOTAL TAXES        USD  198.60                                 
         TOTAL              USD 1647.60                                 
         COMM PCT N                   0                                 
         COMM AMT                                                       
         FARECAL            NYC OZ X/SEL OZ MNL M1449.00NUC1449.00END R 
                            OE1.00 XFJFK4.5                             
         TAXES/FEES/CHARGES    161.80YQ     17.70US      5.60AY         
                                 9.00BP      4.50XF                     
        *SELLING FARE*                                                  
         BASE FARE          USD 1507.00                                 
         EQUIV FARE                                                     
         TOTAL TAXES        USD  198.60                                 
         TOTAL              USD 1705.60                                 
        MD                                                              
         COMM PCT N               0                                     
         <color=#00ff00>COMM AMT                                                      </color> 
         FARECAL            NYC OZ X/SEL OZ MNL M1506.96NUC1506.96END R 
                            OE1.00 XFJFK4.5                             
         TAXES/FEES/CHARGES    161.80YQ     17.70US      5.60AY         
                                 9.00BP      4.50XF                  <br>
        WPIPA-LTXL0238:17744 Q/*197                                     
        :PRICINGRESPONSE: 
        MD/C61                                                          
              C61- 0.00                                                 
            <color=#00ff00>  C60- 0.00 </color>
        MD/C61                                                          
                C61- 0.00                                               
                C60- 0.00 /:   
        WPIPA-LTXL0238:17744 Q/*865                                     
        *************************************************************** 
        *  ATSE REQUEST DATA FOR NEGOTIATED FARE COMMISSION PROCESS   * 
        *************************************************************** 
          ABACUS USER                      : N                          
          AXESS USER                       : N                          
          CWT USER                         : N                          
          NET REMIT METHOD                 :                            
          TICKETING ENTRY                  : N                          
          PRINT SELLING CATEGORY 35 FARE   : N                          
          PRINT NET CATEGORY 35 FARE       : N                          
          CREDIT CARD FOP                  : N                          
          CASH FOP                         : N                          
          OTHER FOP                        : N                          
          BASE FARE CURRENCY               : USD                        
          PAYMENT CURRENCY                 : USD                        
          AGENT COMMISSION TYPE            : NONE                       
          AGENT COMMISSION VALUE           :                            <br>
        *************************************************************** 
        *         COMMISSION ANALYSIS - FARE COMPONENT LEVEL          * 
        *************************************************************** 
         JFK - OZ - MNL  Y1US                                           
        *************************************************************** 
          REQUESTED PAXTYPE: ADT      TEXT: IT       DISPLAY TYPE: C    <br>
          COMMISSION PERCENT               : 0.00                       
          COMMISSION AMOUNT 1              : 0.00                       
          COMMISSION AMOUNT 2              : 0.00                       
          NET GROSS INDICATOR              : N                          <br>
          SELLING CATEGORY 35 FARE AMT     : 1506.96   NUC              
          EXTRA MILAGE SURCHARGE           : 0.00      NUC              
          CAT8  STOPOVER CHARGE            : 0.00      NUC              
          CAT9  TRANSFER CHARGE            : 0.00      NUC              
          CAT12 SURCHARGE                  : 0.00      NUC              
          TOTAL SELL AMT                   : 1506.96   NUC              
          TOTAL SELL AMT IN PAYMENT CURR   : 1507.00   USD             
          NET CATEGORY 35 FARE AMT         : 1449.00   NUC              
          EXTRA MILAGE SURCHARGE           : 0.00      NUC              
          CAT8  STOPOVER CHARGE            : 0.00      NUC              
          CAT9  TRANSFER CHARGE            : 0.00      NUC              
          CAT12 SURCHARGE                  : 0.00      NUC              
          TOTAL NET AMT                    : 1449.00   NUC              
          TOTAL NET AMT IN PAYMENT CURR    : 1449.00   USD              <br>
          COMMISSION APPLICATION                                        
          AMOUNT                           :                            
          NET  * COMM PCT                  :                            
          SELL * COMM PCT                  : 0.00      USD              
          SELL - NET PLUS SELL * COMM PCT  :                            
          SELL - NET PLUS COMM AMOUNT      :                            
          SELL - NET DIFFERENCE            :                            <br>
          NET COMMISSION APPLICATION                                    
          AMOUNT                           :                            
          NET  * COMM PCT                  :        
          SELL * COMM PCT                  : 0.00      USD              <br>
        *************************************************************** 
        *     FINAL NEGOTIATED FARE COMMISSION - FARE PATH LEVEL      * 
        *************************************************************** 
         <color=#00ff00> CALCULATED COMMISSION AMOUNT     : 0.00      USD             </color> 
          TICKET COMMISSION PERCENT        : NOT APPLICABLE             
          CALCULATED NET COMMISSION AMOUNT : 0.00      USD              
          TICKET NET COMMISSION PERCENT    : NOT APPLICABLE             
        ***************************************************************             <br>
Files updated:
        N/A
Unit tests files:
        N/A
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [X] Other: PQ
Schema update: 
        [ ] Yes
Developer: Mike Arterburn
Code reviewers: Nakamon Thamsiriboon
BA: Jaymini Patel
QA: Paul Cazares

Title: new tsscache, load on updnfiguration for FareByRuleApp
Date: 03/11/2015
Description:
        new tsscache, load on updnfiguration for FareByRuleApp
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        tsscache not active
        load on update activated in dbaccess-ora.ini
Resolution/QA recommendation:
        regression
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
        <a href=#> Common</a> <a href=#Common/TSSCacheCommon.cpp> TSSCacheCommon.cpp</a> <a href=#Common/TSSCacheCommon.h> TSSCacheCommon.h</a> <a href=#> DBAccess</a> <a href=#DBAccess/DataHandle.cpp> DataHandle.cpp</a> <a href=#DBAccess/TSSCache.cpp> TSSCache.cpp</a> <a href=#DBAccess/TSSCache.h> TSSCache.h</a> <a href=#> deploy/integ/config</a> <a href=#> faredisplay</a> <a href=#deploy/integ/config/faredisplay/dbaccess-ora.ini> dbaccess-ora.ini</a> <a href=#> historical</a> <a href=#deploy/integ/config/historical/dbaccess-ora.ini> dbaccess-ora.ini</a> <a href=#> pricingv2</a> <a href=#deploy/integ/config/pricingv2/dbaccess-ora.ini> dbaccess-ora.ini</a> <a href=#> shopping</a> <a href=#deploy/integ/config/shopping/dbaccess-ora.ini> dbaccess-ora.ini</a> <a href=#> shoppingesv</a> <a href=#deploy/integ/config/shoppingesv/dbaccess-ora.ini> dbaccess-ora.ini</a> <a href=#> shoppinghist</a> <a href=#deploy/integ/config/shoppinghist/dbaccess-ora.ini> dbaccess-ora.ini</a> <a href=#> tax</a> <a href=#deploy/integ/config/tax/dbaccess-ora.ini> dbaccess-ora.ini</a>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Ilya Entin
Code reviewers: Alexander Zagrebin
BA: 
QA: 

Title: [ATPCO Tax] Subset of LocCode's becomes Code<1, 8>
Date: 03/12/2015
Description:
        Optimization: replace strings with int-like short codes
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        na
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        na
Example after:
        na
Files updated:
        Taxes/AtpcoTaxes/Common/LocZone.cpp
        Taxes/AtpcoTaxes/Common/LocZone.h
        Taxes/AtpcoTaxes/DataModel/Common/Codes.h
        Taxes/AtpcoTaxes/DataModel/Services/IsInLoc.h
        Taxes/AtpcoTaxes/DataModel/Services/PassengerTypeCode.h
        Taxes/AtpcoTaxes/Rules/PassengerTypeCodeApplicator.cpp
        Taxes/AtpcoTaxes/Rules/PassengerTypeCodeRule.cpp<br>
        Taxes/AtpcoTaxes/ServiceInterfaces/LocService.h
        Taxes/AtpcoTaxes/test/LocServiceMock.h
        Taxes/LegacyFacades/ConvertCode.cpp
        Taxes/LegacyFacades/ConvertCode.h
        Taxes/LegacyFacades/DaoDataFormatConverter.cpp
        Taxes/LegacyFacades/LocServiceV2.cpp
        Taxes/LegacyFacades/LocServiceV2.h<br>
        Taxes/TestServer/Facades/LocServiceServer.cpp
        Taxes/TestServer/Facades/LocServiceServer.h
        Taxes/TestServer/Xform/XmlParser.cpp<br>
Unit tests files:
        Taxes/TestServer/Xform/test/XmlParserTest.cpp
        Taxes/LegacyFacades/test/DaoDataFormatConverterTest.cpp
        Taxes/LegacyFacades/test/LocServiceV2Test.cpp
        Taxes/AtpcoTaxes/Rules/test/PassengerTypeCodeApplicatorTest.cpp
        Taxes/AtpcoTaxes/Rules/test/PointOfSaleApplicatorTest.cpp
        Taxes/AtpcoTaxes/Rules/test/ServiceFeeSecurityApplicatorTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [X] Other: ATPCO Taxes
Schema update: 
        [ ] Yes
Developer: Andrzej Krzemienski
Code reviewers: Maciej Krawczyk, Aleksander Hryniewiecki
BA: 
QA: 

Title: [SCONS] Package creator update
Date: 03/12/2015
Description:
        - Fix default build directory setup
            - Fix backup location for packages setup<br>
Applies to: 
        [ ] all agencies
        [ ] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
        N/A
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        scons/packagecreator.py
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Lisowski
Code reviewers: N/A
BA: 
QA: 

Title:  [SCONS] SCM config file
Date: 03/12/2015
Description:
        Added release build configuration file for scons builds
Applies to: 
        [ ] all agencies
        [ ] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
        N/A
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        scons/.release.build.cfg<br>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Lisowski
Code reviewers: N/A
BA: 
QA: 

Title: [SCONS] Extend building environment support
Date: 03/12/2015
Description:
        - Setup server starting environment
        - Remove cleartool reference from gettseservercfg.pl<br>
Applies to: 
        [ ] all agencies
        [ ] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
        N/A
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        Server/gettseservercfg.pl
        scons/scripts/acms_server.sh
        scons/scripts/dbaccess-ora.ini
        scons/scripts/dbaccess.ini
        scons/scripts/dbconn.ini
        scons/scripts/faredisplay_server.sh
        scons/scripts/gettseservercfg.pl
        scons/scripts/historical_server.sh
        scons/scripts/pricing_server.sh
        scons/scripts/prof-server.sh
        scons/scripts/pserver.sh
        scons/scripts/pserver_shopping.sh
        scons/scripts/server.sh
        scons/scripts/set_paths.sh
        scons/scripts/shopping_server.sh
        scons/scripts/shoppingesv_server.sh
        scons/scripts/shoppinghist_server.sh
        scons/scripts/shoppingis_server.sh
        scons/scripts/tax_server.sh
        scons/scripts/tnsnames.ora<br>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Lisowski
Code reviewers: Marek Markiewicz
BA: 
QA: 

Title: [RTW] Enabling Alliance Code in CARRIER FLIGHT TABLE 986 and Embedded Surface Tag, byte 53 for non-RTW transaction.
Date: 03/12/2015
Description:
        Changes applies for:
         - CATEGORY 4 (Flight Application)
         - CATEGORY 12 / (Surcharges)
         - CATEGORY 15 / (Sales Restrictions)
         - CATEGORY 9 (Transfers)</pre>
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        tseserver DYNAMIC_LOADABLE\FALLBACK_SECTION::ALLIANCE_CODE_AND_EMBEDDED_SURFACE Y 
         = SCALAR N/A N N CREATED 
         tseserver FALLBACK_SECTION\ALLIANCE_CODE_AND_EMBEDDED_SURFACE N 
         = SCALAR N/A N N CREATED
Resolution/QA recommendation:
Entry/XML to recreate:
        *IA*P6
         1 AA  51D 15APR W LHRDFW HK1   930A  145P /DCAA*OATJIG /E
         2 BA1830R 15APR W DFWAUS TK1  1010P 1100P /RLBA*3L46PF /E
             /OPERATED BY AMERICAN AIRLINES
         3 BA5076R 25APR J AUSDFW TK1   810A  915A /RLBA*3L46PF /E
             /OPERATED BY AMERICAN AIRLINES
         4 AA  78D 25APR J DFWLHR HK1   755P 1115A  26APR S
                                                       /DCAA*OATJIG /E
        RECEIVED FROM - P
        HDQ.HDQ8RLS 1258/07MAR15 OATJZF H
Example before:
        BASE FARE      EQUIV AMT  TAXES/FEES/CHARGES    TOTAL
         1-   GBP6732.00    USD10154.00     355.20XT     USD10509.20ADT
            XT     35.40US       5.50YC       7.00XY       5.00XA 
                   11.20AY     214.20GB      63.40UB      13.50XF 
                 6732.00       10154.00     355.20          10509.20TTL
        ADT-01  R2UKJBG
         LON AA X/DFW <color=#000000>Q125.00</color>Q257.61BA AUS M4888.38R2UKJBG BA X/DFW AA 
         LON Q125.00Q257.61M4888.38R2UKJBG NUC10541.98END ROE0.638555 
         XFDFW4.5AUS4.5DFW4.5
        VALIDATING CARRIER SPECIFIED - LA
        BAG ALLOWANCE     -LHRAUS-03P/AA/EACH PIECE UP TO 70 POUNDS/32 
        KILOGRAMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS
        BAG ALLOWANCE     -AUSLHR-03P/AA/EACH PIECE UP TO 70 POUNDS/32 
        KILOGRAMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS
        CARRY ON ALLOWANCE
        LHRDFW DFWAUS AUSDFW DFWLHR-02P/AA
        01/SMALL PERSONAL ITEM
        01/UP TO 45 LINEAR INCHES/115 LINEAR CENTIMETERS
        ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY<br>
        EMBARGOES-APPLY TO EACH PASSENGER
        LHRDFW DFWLHR-AA
        PET IN CABIN NOT PERMITTED
        OVER 100 POUNDS/45 KILOGRAMS NOT PERMITTED
        DFWAUS AUSDFW-AA
        OVER 100 POUNDS/45 KILOGRAMS NOT PERMITTED<br>
        **
        PRICED USING RULE OVERRIDE-FOLLOWING FARE RULES NOT MET
        <color=red>  FLIGHT APP RESTRICTIONS</color>
          ADVANCE RES/TICKETING RESTRICTIONS
          SALES RESTRICTIONS
        FARE NOT GUARANTEED IF TICKETED
        **<br>
Example after:
        **
               BASE FARE      EQUIV AMT  TAXES/FEES/CHARGES    TOTAL
         1-   GBP6732.00    USD10154.00     355.20XT     USD10509.20ADT
            XT     35.40US       5.50YC       7.00XY       5.00XA 
                   11.20AY     214.20GB      63.40UB      13.50XF 
                 6732.00       10154.00     355.20          10509.20TTL
        ADT-01  R2UKJBG
         LON AA X/DFW Q257.61BA AUS Q LONAUS125.00M4888.38R2UKJBG BA X/
         DFW AA LON Q257.61Q AUSLON125.00M4888.38R2UKJBG NUC10541.98
         END ROE0.638555 XFDFW4.5AUS4.5DFW4.5
        VALIDATING CARRIER SPECIFIED - LA
        BAG ALLOWANCE     -LHRAUS-03P/AA/EACH PIECE UP TO 70 POUNDS/32 
        KILOGRAMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS
        BAG ALLOWANCE     -AUSLHR-03P/AA/EACH PIECE UP TO 70 POUNDS/32 
        KILOGRAMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS
        CARRY ON ALLOWANCE
        LHRDFW DFWAUS AUSDFW DFWLHR-02P/AA
        01/SMALL PERSONAL ITEM
        01/UP TO 45 LINEAR INCHES/115 LINEAR CENTIMETERS
        ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY<br>
        EMBARGOES-APPLY TO EACH PASSENGER
        LHRDFW DFWLHR-AA
        PET IN CABIN NOT PERMITTED
        OVER 100 POUNDS/45 KILOGRAMS NOT PERMITTED
        DFWAUS AUSDFW-AA
        OVER 100 POUNDS/45 KILOGRAMS NOT PERMITTED<br>
        **
        PRICED USING RULE OVERRIDE-FOLLOWING FARE RULES NOT MET
          ADVANCE RES/TICKETING RESTRICTIONS
          SALES RESTRICTIONS
        FARE NOT GUARANTEED IF TICKETED
        **<br>
Files updated:
        Common/FallBack.cpp
        Rules/FlightApplication.cpp
        Rules/SalesRestrictionRule.cpp
        Rules/SalesRestrictionRule.h
        Rules/SurchargesRule.cpp
        Rules/Transfers1.cpp<br>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Slawomir Machowicz
Code reviewers: Damian Krolik, Grzegorz Wanke
BA: Richard Rummel
QA: Richard Rummel, Ewelina Mucha, Aleksandra Rajska

Title:  Fix missing @SB2 and @SC0 in shopping response
Date: 03/12/2015
Description:
        Fix missing @SB2 and @SC0 in shopping response
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        n/a
Resolution/QA recommendation:
        n/a
Entry/XML to recreate:
        n/a
Example before:
        n/a
Example after:
        n/a
Files updated:
        Xform/XMLShoppingResponse.cpp
Unit tests files:
        n/a
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [X] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [X] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Szczurek
Code reviewers: Michal Mlynek
BA: n/a
QA: n/a

Title: Fix APO-39157 Pricing passes componentusing multi C09-Transfer R3 sets/subsets
Date: 03/12/2015
Description:
        <color=#1f497d>When Cat9 has THEN, THEN, you have two different sets.  The THEN relational
        indicator tells you when a new set is starting. The system cannot collect permission
        across sets. </color>
        <color=#1f497d>The system was pricing but should Fail. </color>
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        <fam=atsev2>tseserverDYNAMIC_LOADABLE\FALLBACK_SECTION::FALLBACK_APO39157_CAT9_MULTIPLE_THEN Y Added 2015 R4=SCALARN/ANNCREATED<fam=atsev2>tseserverFALLBACK_SECTION\FALLBACK_APO39157_CAT9_MULTIPLE_THEN N Added 2015 R4 =SCALARN/ANNCREATED
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        *A
        NO NAMES
         1 OZ8552S 19JUL S CJUICN QF1  1100A 1220P /E
         2 CZ3062L 19JUL S ICNCAN QF1   415P  725P /E
         3 CZ 323L 19JUL S CANPNH QF1   930P 1130P /E
         4 CZ6060R 05AUG W PNHCAN QF1   230P  610P /E
         5 CZ3059E 06AUG Q CANCJU QF1  1100A  245P
        E8KE.HDQ*YIJ 1206/12MAR15
        WPQ/*854/F1LHRTKR6/F2EHRTKR6/FCLHRTKR6/DDSFA
        PO HOSTNAME/BASELINE:PICLI300/PRICINGORCHESTRATOR.2015.03.00
        HOSTNAME/PORT:  PIFHLI404/53701
        BASELINE: ATSEV2.2015.03.00
        DATABASE: FUNCIA MIPA
                 1         2         3         4         5         6
        123456789012345678901234567890123456789012345678901234567890123
               BASE FARE      EQUIV AMT  TAXES/FEES/CHARGES    TOTAL
         1-    KRW580000      USD516.00     198.70XT       USD714.70ADT
            XT     16.00YQ     100.00YR       3.60DA      24.90BP 
                   29.20CN      25.00KX 
                  580000         516.00     198.70            714.70TTL
        ADT-01  LHRTKR6 EHRTKR6
         CJU OZ X/SEL S53.96CZ X/CAN CZ PNH265.31CZ X/CAN CZ CJU202.35
         NUC521.62END ROE1111.9SOTO
        Q/NONEND PENALTY APPLS
        VALIDATING CARRIER - CZ
        ADT-01
        BAG ALLOWANCE     -CJUPNH-01P/CZ/EACH PIECE UP TO 50 POUNDS/23 
        KILOGRAMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS
        2NDCHECKED BAG FEE-CJUPNH-USD73.00/CZ/UP TO 50 POUNDS/23 KILOGR
        AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS
        BAG ALLOWANCE     -PNHCJU-01P/CZ/EACH PIECE UP TO 50 POUNDS/23 
        KILOGRAMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS
Example after:
        *A
        NO NAMES
         1 OZ8552S 19JUL S CJUICN QF1  1100A 1220P /E
         2 CZ3062L 19JUL S ICNCAN QF1   415P  725P /E
         3 CZ 323L 19JUL S CANPNH QF1   930P 1130P /E
         4 CZ6060R 05AUG W PNHCAN QF1   230P  610P /E
         5 CZ3059E 06AUG Q CANCJU QF1  1100A  245P
        E8KE.HDQ*YIJ 1206/12MAR15
        WPQ/*854/F1LHRTKR6/F2EHRTKR6/FCLHRTKR6/DDSFA IPA-LTXL0237.SGDCELAB.SABRE.COM:22222
        PO HOSTNAME/BASELINE:LTXL0651/PRICINGORCHESTRATOR.2015.04.AE
        HOSTNAME/PORT:  LTXL0237/22222
        BASELINE: MANUALBUILD
        DATABASE: FUNCI1 PRC
        <bgcolor=yellow>NO FARE FOR CLASS USED</bgcolor>
        .
Files updated:
        Common/FallBack.cpp
        Rules/CategoryRuleItem.cpp
Unit tests files:
        Rules/test/CategoryRuleItem_doMainCategoryTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Mauricio Dantas
Code reviewers: Alexander Zagrebin
BA: Richard Rummell
QA: 

Title: [SCONS] Update scons scripts
Date: 03/12/2015
Description:
        - Add 'package' target to support baseline packages builds
            - Split configuration for server and ldctools builds
Applies to: 
        [ ] all agencies
        [ ] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
        N/A
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        SConstruct
        scons/config.py
        scons/configtasks.py<br>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Lisowski
Code reviewers: N/A
BA: 
QA: 

Title: Turn off fallback for R4 - Over 3 Fare Component Special Circle Trip
Date: 03/12/2015
Description:
        "Over 3 Fare Component Special Circle Trip" for Abacus/Inifi is a go. It will also impact 3 Fare Component Special Circle Trip for all users - restriction will be wholly depending on 103, removed some extra check that is not automated.
        This delivery is to set root fall back FALLBACK_SECTION\OVER3_FC_SPECIAL_CIRCLETRIP to N, and removed fall back settings at daily of historical, pricing, shopping and shoppinghis.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_SECTION\OVER3_FC_SPECIAL_CIRCLETRIP
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Simon Li
Code reviewers: Mohammad Hossan
BA: 
QA: 

Title: [ICER] S-385408 - Create Date Activation flag for the Single Source for Exchange Rates project
Date: 03/12/2015
Description:
        S-385408
        Create configuration flag for the Single Source for Exchange Rates project (ICER - <b><i>IATA
        Consolidated Exchange Rates)</i></b>
        Activation date is set to far future date for every environments except DEV.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        <FAM=atsev2>DYNAMIC LOADABLE/COMMON FUNCTIONAL::ICER_ACTIVATION_DATE = Y  
        <FAM=atsev2>COMMON FUNCTIONAL/ICER_ACTIVATION_DATE = 2025-04-01              
        <FAM=atsev2><APP=historical><ENV=dev>COMMON FUNCTIONAL/ICER_ACTIVATION_DATE = 2015-03-07
Resolution/QA recommendation:
        Validate activation date based on diagnostic WPQ/*854/FCCONFIG/RUICER to see the ICER_ACTIVATION_DATE value.
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        Common/TrxUtil.h
        Common/TrxUtil.cpp
Unit tests files:
        Common/test/TrxUtilTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Nakamon Thamsiriboon
Code reviewers: Mohammad Hossan/Alexander Zagrebin
BA: Stan Ovrevik
QA: Kaleshia Newsome-Kjaun

Title: [Maintenance] Fix for APO-13139 Cat10 EOE Failing
Date: 03/13/2015
Description:
        This fix is connected to following JIRA: <a href=http://atsedbld05b.dev.sabre.com:2227/>https://jira.sabre.com/browse/APO-13139</a>
        According to ATPCO restrictions filled on following bytes of subcategory EOE 104: Normal Fares, Special Fares, International Fares, Domestic Fares, US/Can Fares , should be validated across enitre rule string not only across one rule set as was in V2. This has been reworked and should now work as expected.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        Added following flagsa to make this rework configurable:
        DYNAMIC_LOADABLE\FALLBACK_SECTION::FALLBACK_APO13139_CAT10_EOE_FIX
        FALLBACK_SECTION\FALLBACK_APO13139_CAT10_EOE_FIX
Resolution/QA recommendation:
        This is major logic change in Cat 10 processing, so full regression tests are very recommended
Entry/XML to recreate:
        <PRICINGREQUEST VERSION="1.1.8">
          <AGI A10="CDG" A20="5OF1" A21="JN8F" A80="5OF1" A90="HKS" AB0="2025660" AB1="2025660" B00="1S" C40="EUR" N0G="*" Q01="38" />
          <BIL A20="HDQ" A22="5OF1" A70="WPS1/" AA0="HKS" AD0="183B8E" AE0="AA" C00="2157891213282083135" C20="INTLWPI1" S0R="LBTY" Q02="0" Q03="0" />
          <PRO C45="EUR" D07="2015-03-13" D54="0515" PBK="T" N08="B" Q0P="1" P0J="T" SEZ="T" SEY="T" PPC="T" S15="CRSAGT" />
          <PXI B70="ITX" Q0U="1" />
          <SGI Q0C="1" B50="QKSFRUQ">
            <FLI Q0C="1" N03="A" B00="QF" B01="EK" A01="CDG" A02="DXB" B30="Q" D01="2015-12-11" Q0B="8074" D02="2015-12-11" D00="2015-03-13" D31="0865" D32="1439" D30="0515" BB2="QF" BB0="OK" B40="388" />
          </SGI>
          <SGI Q0C="2" B50="QKSFRUQ">
            <FLI Q0C="2" N03="A" B00="QF" B01="EK" A01="DXB" A02="PER" B30="Q" D01="2015-12-12" Q0B="8420" D02="2015-12-12" D00="2015-03-13" D31="0175" D32="1055" D30="0515" BB2="QF" BB0="OK" B40="388" />
          </SGI>
          <SGI Q0C="3" B50="SWLTFRUQ">
            <FLI Q0C="3" N03="A" B00="QF" B01="QF" A01="PER" A02="SYD" B30="S" D01="2015-12-22" Q0B="642" D02="2015-12-22" D00="2015-03-13" D31="0550" D32="0980" D30="0515" BB2="QF" BB0="OK" B40="332" />
          </SGI>
          <SGI Q0C="4" B50="OWLTFRUQ">
            <FLI Q0C="4" N03="A" B00="QF" B01="QF" A01="SYD" A02="HVB" B30="O" D01="2015-12-26" Q0B="2094" D02="2015-12-26" D00="2015-03-13" D31="0580" D32="0640" D30="0515" BB2="QF" BB0="OK" />
          </SGI>
          <SGI Q0C="5" B50="OWLTFRUQ">
            <FLI Q0C="5" N03="A" B00="QF" B01="QF" A01="HVB" A02="BNE" B30="O" D01="2016-01-01" Q0B="2377" D02="2016-01-01" D00="2015-03-13" D31="0735" D32="0785" D30="0515" BB2="QF" BB0="OK" B40="DH3" />
          </SGI>
          <SGI Q0C="6" B50="OWLTFRUQ">
            <FLI Q0C="6" N03="A" B00="QF" B01="QF" A01="BNE" A02="MKY" B30="O" D01="2016-01-01" Q0B="1768" D02="2016-01-01" D00="2015-03-13" D31="0855" D32="0955" D30="0515" BB2="QF" BB0="OK" B40="717" />
          </SGI>
          <SGI Q0C="7">
            <FLI N03="K" A01="MKY" A02="HTI" />
          </SGI>
          <SGI Q0C="8" B50="SWLTFRUQ">
            <FLI Q0C="8" N03="A" B00="QF" B01="QF" A01="HTI" A02="SYD" B30="S" D01="2016-01-10" Q0B="867" D02="2016-01-10" D00="2015-03-13" D31="0690" D32="0890" D30="0515" BB2="QF" BB0="OK" B40="73H" />
          </SGI>
          <SGI Q0C="9" B50="SKSFRUQ">
            <FLI Q0C="9" N03="A" B00="QF" B01="QF" A01="SYD" A02="DXB" B30="S" D01="2016-01-10" Q0B="1" D02="2016-01-11" D00="2015-03-13" D31="1010" D32="0040" D30="0515" BB2="QF" BB0="OK" B40="388" />
          </SGI>
          <SGI Q0C="10" B50="SKSFRUQ">
            <FLI Q0C="10" N03="A" B00="QF" B01="EK" A01="DXB" A02="CDG" B30="S" D01="2016-01-11" Q0B="8071" D02="2016-01-11" D00="2015-03-13" D31="0200" D32="0470" D30="0515" BB2="QF" BB0="OK" B40="388" />
          </SGI>
          <RES />
          <POC A03="CDG" D01="2015-12-11" D02="1425" />
        </PRICINGREQUEST>
Example before:
        CARRIER RESTRICTIONS APPLY/FEES APPLY
        PRIVATE FARE APPLIED - CHECK RULES FOR CORRECT TICKETING
        VALIDATING CARRIER - QF
        BAG ALLOWANCE     -CDGPER-30KG/EK
        BAG ALLOWANCE     -PERSYD-30KG/QF
        BAG ALLOWANCE     -SYDHVB-30KG/QF
        BAG ALLOWANCE     -HVBMKY-30KG/QF
        BAG ALLOWANCE     -HTICDG-30KG/QF
        CARRY ON ALLOWANCE
        CDGDXB DXBPER DXBCDG-01P/EK
        01/UP TO 15 POUNDS/7 KILOGRAMS AND UP TO 45 LINEAR INCHES/115 L
        INEAR CENTIMETERS
        PERSYD SYDHVB HVBBNE BNEMKY HTISYD SYDDXB-QF-CARRY ON ALLOWANCE
        UNKNOWN-CONTACT CARRIER
        CARRY ON CHARGES
        CDGDXB DXBPER DXBCDG-EK-CARRY ON FEES UNKNOWN-CONTACT CARRIER
        PERSYD SYDHVB HVBBNE BNEMKY HTISYD SYDDXB-QF-CARRY ON FEES UNKN
        OWN-CONTACT CARRIER
        ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY DEPENDING ON
        FLYER-SPECIFIC FACTORS /E.G. FREQUENT FLYER STATUS/MILITARY/
        CREDIT CARD FORM OF PAYMENT/EARLY PURCHASE OVER INTERNET,ETC./
        EMBARGOES-APPLY TO EACH PASSENGER
        PERSYD SYDHVB HVBBNE BNEMKY HTISYD-QF
        SPORTING EQUIPMENT/SURFBOARD OVER 109 INCHES/277 CENTIMETERS NO
        T PERMITTED
        OVER 70 POUNDS/32 KILOGRAMS NOT PERMITTED
        SPORTING EQUIPMENT/WINDSURF EQUIPMENT NOT PERMITTED
        SPORTING EQUIPMENT/WINDSURF EQUIPMENT OVER 109 INCHES/277 CENTI
        METERS NOT PERMITTED
        SYDDXB-QF
        SPORTING EQUIPMENT/SURFBOARD OVER 109 INCHES/277 CENTIMETERS NO
        T PERMITTED
        OVER 70 POUNDS/32 KILOGRAMS NOT PERMITTED
        SPORTING EQUIPMENT/WINDSURF EQUIPMENT OVER 109 INCHES/277 CENTI
        METERS NOT PERMITTED<br>
        <color=#ff0000>**</color>
        <color=#ff0000>PRICED USING RULE OVERRIDE-FOLLOWING FARE RULES NOT MET</color>
        <color=#ff0000>  COMBINABILITY REQUIREMENTS</color>
        <color=#ff0000>FARE NOT GUARANTEED IF TICKETED</color>
        <color=#ff0000>**</color>
        11DEC DEPARTURE DATE-----LAST DAY TO PURCHASE 27OCT/2359
               BASE FARE                 TAXES/FEES/CHARGES    TOTAL
         1-    EUR878.00                    627.18XT      EUR1505.18ITX
            XT    430.00YQ      20.60FR      29.16QX       4.51IZ 
                   39.35AU      56.18QR      15.80WG      31.58WY 
                  878.00                    627.18           1505.18TTL
        ITX-01  QKSFRUQ SWLTFRUQ OWLTFRUQ SWLTFRUQ SKSFRUQ
         PAR QF DXB QF PER295.81QF SYD127.98QF HVB40.95QF BNE40.95QF 
         MKY40.95/-HTI QF SYD127.98QF X/DXB QF PAR324.25NUC998.87
         END ROE0.878934
        CARRIER RESTRICTIONS APPLY/FEES APPLY
        PRIVATE FARE APPLIED - CHECK RULES FOR CORRECT TICKETING
        PRIVATE @
        VALIDATING CARRIER - QF
        ITX-01
        BAG ALLOWANCE     -CDGPER-30KG/EK
        BAG ALLOWANCE     -PERSYD-30KG/QF
        BAG ALLOWANCE     -SYDHVB-30KG/QF
        BAG ALLOWANCE     -HVBMKY-30KG/QF
        BAG ALLOWANCE     -HTICDG-30KG/QF
        CARRY ON ALLOWANCE
        CDGDXB DXBPER DXBCDG-01P/EK
        01/UP TO 15 POUNDS/7 KILOGRAMS AND UP TO 45 LINEAR INCHES/115 L
        INEAR CENTIMETERS
        PERSYD SYDHVB HVBBNE BNEMKY HTISYD SYDDXB-QF-CARRY ON ALLOWANCE
        UNKNOWN-CONTACT CARRIER
        CARRY ON CHARGES
        CDGDXB DXBPER DXBCDG-EK-CARRY ON FEES UNKNOWN-CONTACT CARRIER
        PERSYD SYDHVB HVBBNE BNEMKY HTISYD SYDDXB-QF-CARRY ON FEES UNKN
        OWN-CONTACT CARRIER
        ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY<br>
        EMBARGOES-APPLY TO EACH PASSENGER
        PERSYD SYDHVB HVBBNE BNEMKY HTISYD-QF
        SPORTING EQUIPMENT/SURFBOARD OVER 109 INCHES/277 CENTIMETERS NO
        T PERMITTED
        OVER 70 POUNDS/32 KILOGRAMS NOT PERMITTED
        SPORTING EQUIPMENT/WINDSURF EQUIPMENT NOT PERMITTED
        SPORTING EQUIPMENT/WINDSURF EQUIPMENT OVER 109 INCHES/277 CENTI
        METERS NOT PERMITTED
        SYDDXB-QF
        SPORTING EQUIPMENT/SURFBOARD OVER 109 INCHES/277 CENTIMETERS NO
        T PERMITTED
        OVER 70 POUNDS/32 KILOGRAMS NOT PERMITTED
        SPORTING EQUIPMENT/WINDSURF EQUIPMENT OVER 109 INCHES/277 CENTI
        METERS NOT PERMITTED<br>
        <color=#ff0000>**</color>
        <color=#ff0000>PRICED USING RULE OVERRIDE-FOLLOWING FARE RULES NOT MET</color>
        <color=#ff0000>  COMBINABILITY REQUIREMENTS</color>
        <color=#ff0000>FARE NOT GUARANTEED IF TICKETED</color>
        <color=#ff0000>**</color><br>
Example after:
        CARRIER RESTRICTIONS APPLY/FEES APPLY
        PRIVATE FARE APPLIED - CHECK RULES FOR CORRECT TICKETING
        VALIDATING CARRIER - QF
        BAG ALLOWANCE     -CDGPER-30KG/EK
        BAG ALLOWANCE     -PERSYD-30KG/QF
        BAG ALLOWANCE     -SYDHVB-30KG/QF
        BAG ALLOWANCE     -HVBMKY-30KG/QF
        BAG ALLOWANCE     -HTICDG-30KG/QF
        CARRY ON ALLOWANCE
        CDGDXB DXBPER DXBCDG-01P/EK
        01/UP TO 15 POUNDS/7 KILOGRAMS AND UP TO 45 LINEAR INCHES/115 L
        INEAR CENTIMETERS
        PERSYD SYDHVB HVBBNE BNEMKY HTISYD SYDDXB-QF-CARRY ON ALLOWANCE
        UNKNOWN-CONTACT CARRIER
        CARRY ON CHARGES
        CDGDXB DXBPER DXBCDG-EK-CARRY ON FEES UNKNOWN-CONTACT CARRIER
        PERSYD SYDHVB HVBBNE BNEMKY HTISYD SYDDXB-QF-CARRY ON FEES UNKN
        OWN-CONTACT CARRIER
        ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY DEPENDING ON
        FLYER-SPECIFIC FACTORS /E.G. FREQUENT FLYER STATUS/MILITARY/
        CREDIT CARD FORM OF PAYMENT/EARLY PURCHASE OVER INTERNET,ETC./
        EMBARGOES-APPLY TO EACH PASSENGER
        PERSYD SYDHVB HVBBNE BNEMKY HTISYD-QF
        SPORTING EQUIPMENT/SURFBOARD OVER 109 INCHES/277 CENTIMETERS NO
        T PERMITTED
        OVER 70 POUNDS/32 KILOGRAMS NOT PERMITTED
        SPORTING EQUIPMENT/WINDSURF EQUIPMENT NOT PERMITTED
        SPORTING EQUIPMENT/WINDSURF EQUIPMENT OVER 109 INCHES/277 CENTI
        METERS NOT PERMITTED
        SYDDXB-QF
        SPORTING EQUIPMENT/SURFBOARD OVER 109 INCHES/277 CENTIMETERS NO
        T PERMITTED
        OVER 70 POUNDS/32 KILOGRAMS NOT PERMITTED
        SPORTING EQUIPMENT/WINDSURF EQUIPMENT OVER 109 INCHES/277 CENTI
        METERS NOT PERMITTED
        11DEC DEPARTURE DATE-----LAST DAY TO PURCHASE 27OCT/2359
               BASE FARE                 TAXES/FEES/CHARGES    TOTAL
         1-    EUR878.00                    627.18XT      EUR1505.18ITX
            XT    430.00YQ      20.60FR      29.16QX       4.51IZ 
                   39.35AU      56.18QR      15.80WG      31.58WY 
                  878.00                    627.18           1505.18TTL
        ITX-01  QKSFRUQ SWLTFRUQ OWLTFRUQ SWLTFRUQ SKSFRUQ
         PAR QF X/DXB QF PER295.81QF SYD127.98QF HVB40.95QF BNE40.95QF 
         MKY40.95/-HTI QF SYD127.98QF X/DXB QF PAR324.25NUC998.87
         END ROE0.878934
        CARRIER RESTRICTIONS APPLY/FEES APPLY
        PRIVATE FARE APPLIED - CHECK RULES FOR CORRECT TICKETING
        PRIVATE @
        VALIDATING CARRIER - QF
        ITX-01
        BAG ALLOWANCE     -CDGPER-30KG/EK
        BAG ALLOWANCE     -PERSYD-30KG/QF
        BAG ALLOWANCE     -SYDHVB-30KG/QF
        BAG ALLOWANCE     -HVBMKY-30KG/QF
        BAG ALLOWANCE     -HTICDG-30KG/QF
        CARRY ON ALLOWANCE
        CDGDXB DXBPER DXBCDG-01P/EK
        01/UP TO 15 POUNDS/7 KILOGRAMS AND UP TO 45 LINEAR INCHES/115 L
        INEAR CENTIMETERS
        PERSYD SYDHVB HVBBNE BNEMKY HTISYD SYDDXB-QF-CARRY ON ALLOWANCE
        UNKNOWN-CONTACT CARRIER
        CARRY ON CHARGES
        CDGDXB DXBPER DXBCDG-EK-CARRY ON FEES UNKNOWN-CONTACT CARRIER
        PERSYD SYDHVB HVBBNE BNEMKY HTISYD SYDDXB-QF-CARRY ON FEES UNKN
        OWN-CONTACT CARRIER
        ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY<br>
        EMBARGOES-APPLY TO EACH PASSENGER
        PERSYD SYDHVB HVBBNE BNEMKY HTISYD-QF
        SPORTING EQUIPMENT/SURFBOARD OVER 109 INCHES/277 CENTIMETERS NO
        T PERMITTED
        OVER 70 POUNDS/32 KILOGRAMS NOT PERMITTED
        SPORTING EQUIPMENT/WINDSURF EQUIPMENT NOT PERMITTED
        SPORTING EQUIPMENT/WINDSURF EQUIPMENT OVER 109 INCHES/277 CENTI
        METERS NOT PERMITTED
        SYDDXB-QF
        SPORTING EQUIPMENT/SURFBOARD OVER 109 INCHES/277 CENTIMETERS NO
        T PERMITTED
        OVER 70 POUNDS/32 KILOGRAMS NOT PERMITTED
        SPORTING EQUIPMENT/WINDSURF EQUIPMENT OVER 109 INCHES/277 CENTI
        METERS NOT PERMITTED<br>
Files updated:
        Common/FallBack.cpp
        Pricing/Combinations.cpp
        Pricing/Combinations.h<br>
Unit tests files:
        Pricing/test/CombinationsTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Konrad Koch
Code reviewers: Leszek Banaszek
BA: 
QA: 

Title: Decrease size of FLATTENIZE macro
Date: 03/13/2015
Description:
        The purpose of this delivery is to decrease size of binary files and reduce compilation time.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        n/a
Resolution/QA recommendation:
        I don't exoect any impact from this change but it's related to the code common for all apps.
Entry/XML to recreate:
        n/a
Example before:
        n/a
Example after:
        n/a
Files updated:
        DBAccess/Flattenizable.cpp
        DBAccess/Flattenizable.h
        DBAccess/Makefile.sources
        Taxes/AtpcoTaxes/Common/Convert.h
        Util/BranchPrediction.h
        Util/Utility.h
Unit tests files:
        n/a
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [X] Taxes
        [X] Currency
        [X] Mileage
        [X] Baggage
        [X] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Damian Krolik
Code reviewers: Gustaw Smolarczyk, Rados?aw Przyby?
BA: n/a
QA: n/a

Title: Disable FBA and FBI validation for AB240
Date: 03/13/2015
Description:
        Disable FBA and FBI validation for AB240</pre>
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
Entry/XML to recreate:
        <AncillaryPricingRequest<br>
        <color=#ff0000>xmlns</color><color=#0000ff>="http://www.atse.sabre.com/AncillaryPricing/Request" </color><color=#ff0000>Version</color><color=#0000ff>="3.0.1"</color><color=#8b008b>></color><br>
          <AGI<br>
        <color=#ff0000>A10</color><color=#0000ff>="MIA" </color><color=#ff0000>A20</color><color=#0000ff>="80K2" </color><color=#ff0000>A21</color><color=#0000ff>="9I98" </color><color=#ff0000>A80</color><color=#0000ff>="80K2" </color><color=#ff0000>A90</color><color=#0000ff>="JK2" </color><color=#ff0000>AB0</color><color=#0000ff>="9999999" </color><color=#ff0000>AB1</color><color=#0000ff>="9999999" </color><color=#ff0000>B00</color><color=#0000ff>="1S" </color><color=#ff0000>C40</color><color=#0000ff>="USD" </color><color=#ff0000>N0G</color><color=#0000ff>="*" </color><color=#ff0000>Q01</color><color=#0000ff>="34" </color><color=#8b008b>/></color><br>
          <BIL<br>
        <color=#ff0000>A20</color><color=#0000ff>="HDQ" </color><color=#ff0000>A22</color><color=#0000ff>="80K2" </color><color=#ff0000>A70</color><color=#0000ff>="A" </color><color=#ff0000>AA0</color><color=#0000ff>="JK2" </color><color=#ff0000>AD0</color><color=#0000ff>="52D3B4" </color><color=#ff0000>AE0</color><color=#0000ff>="AA" </color><color=#ff0000>C00</color><color=#0000ff>="7896804216328249856" </color><color=#ff0000>Q02</color><color=#0000ff>="0" </color><color=#ff0000>Q03</color><color=#0000ff>="0" </color><color=#ff0000>S0R</color><color=#0000ff>="PANC" </color><color=#8b008b>/></color><br>
          <PRO<br>
        <color=#ff0000>AF0</color><color=#0000ff>="MIA" </color><color=#ff0000>AG0</color><color=#0000ff>="MIA" </color><color=#ff0000>C10</color><color=#0000ff>="" </color><color=#ff0000>PS1</color><color=#0000ff>="T" </color><color=#ff0000>S14</color><color=#0000ff>="WP" </color><color=#8b008b>/></color><br>
          <ITN<br>
        <color=#ff0000>Q00</color><color=#0000ff>="1"</color><color=#8b008b>></color><br>
            <SGI<br>
        <color=#ff0000>Q00</color><color=#0000ff>="1"</color><color=#8b008b>></color><br>
              <FLI<br>
        <color=#ff0000>A01</color><color=#0000ff>="MUC" </color><color=#ff0000>A02</color><color=#0000ff>="LAX" </color><color=#ff0000>B00</color><color=#0000ff>="LH" </color><color=#ff0000>B01</color><color=#0000ff>="LH" </color><color=#ff0000>B30</color><color=#0000ff>="Y" </color><color=#ff0000>BB0</color><color=#0000ff>="OK" </color><color=#ff0000>C7B</color><color=#0000ff>="T" </color><color=#ff0000>D01</color><color=#0000ff>="2015-09-20" </color><color=#ff0000>D02</color><color=#0000ff>="2015-09-20" </color><color=#ff0000>D31</color><color=#0000ff>="1200" </color><color=#ff0000>D32</color><color=#0000ff>="1515" </color><color=#ff0000>Q0B</color><color=#0000ff>="452" </color><color=#ff0000>S95</color><color=#0000ff>="346" </color><color=#8b008b>/></color><br>
            </SGI><br>
            <SGI<br>
        <color=#ff0000>Q00</color><color=#0000ff>="2"</color><color=#8b008b>></color><br>
              <FLI<br>
        <color=#ff0000>A01</color><color=#0000ff>="LAX" </color><color=#ff0000>A02</color><color=#0000ff>="MUC" </color><color=#ff0000>B00</color><color=#0000ff>="LH" </color><color=#ff0000>B01</color><color=#0000ff>="LH" </color><color=#ff0000>B30</color><color=#0000ff>="Y" </color><color=#ff0000>BB0</color><color=#0000ff>="OK" </color><color=#ff0000>C7B</color><color=#0000ff>="T" </color><color=#ff0000>D01</color><color=#0000ff>="2015-09-30" </color><color=#ff0000>D02</color><color=#0000ff>="2015-10-01" </color><color=#ff0000>D31</color><color=#0000ff>="1705" </color><color=#ff0000>D32</color><color=#0000ff>="1335" </color><color=#ff0000>Q0B</color><color=#0000ff>="453" </color><color=#ff0000>S95</color><color=#0000ff>="346" </color><color=#8b008b>/></color><br>
            </SGI><br>
          </ITN><br>
          <ITN<br>
        <color=#ff0000>Q00</color><color=#0000ff>="2"</color><color=#8b008b>></color><br>
            <IRO><br>
              <PXI<br>
        <color=#ff0000>B70</color><color=#0000ff>="ADT" </color><color=#ff0000>Q0U</color><color=#0000ff>="1" </color><color=#8b008b>/></color><br>
            </IRO><br>
            <SGI<br>
        <color=#ff0000>Q00</color><color=#0000ff>="1"</color><color=#8b008b>></color><br>
              <FLI<br>
        <color=#ff0000>A01</color><color=#0000ff>="MUC" </color><color=#ff0000>A02</color><color=#0000ff>="LAX" </color><color=#ff0000>B00</color><color=#0000ff>="LH" </color><color=#ff0000>B01</color><color=#0000ff>="LH" </color><color=#ff0000>B30</color><color=#0000ff>="Y" </color><color=#ff0000>BB0</color><color=#0000ff>="OK" </color><color=#ff0000>C7B</color><color=#0000ff>="T" </color><color=#ff0000>D01</color><color=#0000ff>="2015-09-20" </color><color=#ff0000>D02</color><color=#0000ff>="2015-09-20" </color><color=#ff0000>D31</color><color=#0000ff>="1200" </color><color=#ff0000>D32</color><color=#0000ff>="1515" </color><color=#ff0000>N0E</color><color=#0000ff>="Y" </color><color=#ff0000>Q0B</color><color=#0000ff>="452" </color><color=#ff0000>S95</color><color=#0000ff>="346" </color><color=#8b008b>/></color><br>
            </SGI><br>
            <SGI<br>
        <color=#ff0000>Q00</color><color=#0000ff>="2"</color><color=#8b008b>></color><br>
              <FLI<br>
        <color=#ff0000>A01</color><color=#0000ff>="LAX" </color><color=#ff0000>A02</color><color=#0000ff>="MUC" </color><color=#ff0000>B00</color><color=#0000ff>="LH" </color><color=#ff0000>B01</color><color=#0000ff>="LH" </color><color=#ff0000>B30</color><color=#0000ff>="Y" </color><color=#ff0000>BB0</color><color=#0000ff>="OK" </color><color=#ff0000>C7B</color><color=#0000ff>="T" </color><color=#ff0000>D01</color><color=#0000ff>="2015-09-30" </color><color=#ff0000>D02</color><color=#0000ff>="2015-10-01" </color><color=#ff0000>D31</color><color=#0000ff>="1705" </color><color=#ff0000>D32</color><color=#0000ff>="1335" </color><color=#ff0000>N0E</color><color=#0000ff>="Y" </color><color=#ff0000>Q0B</color><color=#0000ff>="453" </color><color=#ff0000>S95</color><color=#0000ff>="346" </color><color=#8b008b>/></color><br>
            </SGI><br>
          </ITN><br>
        </AncillaryPricingRequest>
Example before:
        <AncillaryPricingResponse<br>
        <color=#ff0000>xmlns</color><color=#0000ff>="http://www.atse.sabre.com/AncillaryPricing/Response"</color><color=#8b008b>></color><br>
          <MSG<br>
        <color=#ff0000>N06</color><color=#0000ff>="E" </color><color=#ff0000>Q0K</color><color=#0000ff>="0" </color><color=#ff0000>S18</color><color=#0000ff>="INVALID - NO MATCHING FBA SECTION FOR SEGMENT 1" </color><color=#8b008b>/></color><br>
        </AncillaryPricingResponse>
Example after:
        AncillaryPricingResponse with OC and Baggage data
        <color=#8b008b></color> <br>
Files updated:
        <a href=https://atsegen01.sgdcelab.sabre.com/#/c/8146/1/Xform/AncillaryPricingRequestHandler.cpp>Xform/AncillaryPricingRequestHandler.cpp</a>
        <a href=https://atsegen01.sgdcelab.sabre.com/#/c/8146/1/Xform/AncillaryPricingRequestHandler.h>Xform/AncillaryPricingRequestHandler.h</a>
Unit tests files:
        <a href=https://atsegen01.sgdcelab.sabre.com/#/c/8146/1/Xform/test/AncillaryPricingRequestHandlerTest.cpp>Xform/test/AncillaryPricingRequestHandlerTest.cpp</a>
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [X] Shopping
        [ ] Fare Display
        [ ] Historical
        [X] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Marek Talarczyk
Code reviewers: Janusz Jagodzinski, Piotr Szyba
BA: 
QA: 

Title: Allocator: Introduce null allocator.
Date: 03/13/2015
Description:
        Don't override anything, just use standard glibc malloc/free.<br>
         Useful for ASAN.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
        No impact
Entry/XML to recreate:
        N/A
Example before:
        N/A
Example after:
        N/A
Files updated:
        Allocator/Makefile.sources
        Allocator/NullAllocator.c
        Allocator/SConscript
        SConstruct
        scons/config.py
        scons/configtasks.py
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Gustaw Smolarczyk
Code reviewers: Grzegorz Lisowski, Damian Krolik
BA: N/A
QA: N/A

Title: [HARDENINGS] Move rawRequest to BaseTrx.
Date: 03/13/2015
Description:
        Fixes a race condition in NotTimingOutDetector.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
        No impact
Entry/XML to recreate:
        N/A
Example before:
        N/A
Example after:
        N/A
Files updated:
        DataModel/BaseTrx.h
        DataModel/Trx.h
        Xform/XformClientShoppingXML.cpp
        Xform/XformClientXML.cpp
        Xform/XformTaxXML.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Gustaw Smolarczyk
Code reviewers: Grzegorz Lisowski, Damian Krolik, Marek Markiewicz
BA: N/A
QA: N/A

Title: [AB-240] [Task TK-761237] Fix issue SSDMPS-85 different in v1 and v3 for OC
Date: 03/13/2015
Description:
        In the request we have RFG GBA="OCF" so only OC should be received. Below is the example with 
        two BG group in the response (one with 2 OSC element and one with NOT FOUND status).
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        Changes are controlled by FALLBACK_AB240 and active in daily only.
Resolution/QA recommendation:
Entry/XML to recreate:
        <AncillaryPricingRequest xmlns="http://www.atse.sabre.com/AncillaryPricing/Request" Version="3.0.0">
         <AGI A10="SYD" A20="00PA" A21="2PWA" A80="00PA" A90="-C1" AB0="0235883" AB1="0235883" B00="1S" C40="AUD" N0G="*" Q01="4" />
         <BIL A20="HDQ" A22="00PA" A70="A" AA0="-C1" AD0="5229A2" AE0="AA" C00="4422304897375004272" C20="ANCPRICE" Q02="0" Q03="0" S0R="PANC" />
         <PRO AF0="SYD" AG0="SYD" C10="" PS1="T" S14="WPPADT/INS$IPA-DY:IS">
         <RFG GBA="OCF" />
         </PRO>
         <ITN Q00="1">
         <SGI Q00="1">
         <FLI A01="MEL" A02="AKL" B00="NZ" B01="NZ" B30="Y" BB0="OK" C7B="T" D01="2015-04-11" D02="2015-04-11" D31="1145" D32="1715" Q0B="124" />
         </SGI>
         </ITN>
         <ITN Q00="2">
         <IRO>
         <PXI B70="ADT" Q0U="1" />
         </IRO>
         <SGI Q00="1">
         <FLI A01="MEL" A02="AKL" B00="NZ" B01="NZ" B30="Y" BB0="OK" C7B="T" D01="2015-04-11" D02="2015-04-11" D31="1145" D32="1715" N0E="Y" Q0B="124" />
         <FBA Q6D="1" />
         </SGI>
         <FBI B02="NZ" B50="YWRKUFO" C50="629.46" FTY="0E" Q00="1" Q3W="912" S37="ATP" S53="XOX" S90="5017" />
         </ITN>
         <ITN Q00="3">
         <IRO>
         <PXI B70="INS" Q0U="1" />
         </IRO>
         <SGI Q00="1">
         <FLI A01="MEL" A02="AKL" B00="NZ" B01="NZ" B30="Y" BB0="OK" C7B="T" D01="2015-04-11" D02="2015-04-11" D31="1145" D32="1715" N0E="Y" Q0B="124" />
         <FBA Q6D="1" />
         </SGI>
         <FBI B02="NZ" B50="YWRKUFO" C50="629.46" FTY="0E" Q00="1" Q3W="912" S37="ATP" S53="XOX" S90="5017" />
         </ITN>
        </AncillaryPricingRequest>
Example before:
        <AncillaryPricingResponse xmlns="http://www.atse.sabre.com/AncillaryPricing/Response">
         <ITN Q00="2">
         <OCG Q00="0" SF0="BD">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="2" SF0="BG">
         <OSC SHK="0CD" SFF="2ND CHECKED BAG" SFV="ATP" B01="NZ" N01="C" SHL="ASVC" N02="2" SFN="01" AST="F">
         <SDC DC1="B2" D00="SECOND BAG" />
         <MSG N06="X" Q0K="0" S18="CHECKED BAGGAGE LENGTH RESTRICTIONS-" />
         <MSG N06="X" Q0K="0" S18="JET SERVICES - 2.5 M" />
         <MSG N06="X" Q0K="0" S18="LINK SERVICES - 1.8M" />
         <OOS N11="P" A01="MEL" A02="AKL">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="55.00" C5A="AUD" N21="X" C50="55.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N44="1" N45="Y" P03="N" P04="N" />
         </OOS>
         </OSC>
         <OSC SHK="0CE" SFF="3RD CHECKED BAG" SFV="ATP" B01="NZ" N01="C" SHL="ASVC" N02="2" SFN="01" AST="F">
         <SDC DC1="B3" D00="THIRD BAG" />
         <MSG N06="X" Q0K="0" S18="CHECKED BAGGAGE LENGTH RESTRICTIONS-" />
         <MSG N06="X" Q0K="0" S18="JET SERVICES - 2.5 M" />
         <MSG N06="X" Q0K="0" S18="LINK SERVICES - 1.8M" />
         <OOS N11="P" A01="MEL" A02="AKL">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="95.00" C5A="AUD" N21="X" C50="95.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N44="1" N45="Y" P03="N" P04="N" />
         </OOS>
         </OSC>
         </OCG>
         <OCG Q00="0" SF0="FF">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="GT">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="1" SF0="IE">
         <OSC SHK="0AE" SFF="HEADSET" SFV="MMGR" B01="NZ" N01="G" N02="2" ASG="HS" ASD="HEADSET" AST="F">
         <OOS N11="S" A01="MEL" A02="AKL" PY0="N">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="5.00" C5A="NZD" C52="4.80" C5B="AUD" C50="4.80" />
         <SFQ />
         <DTE D01="2013-12-27" D02="9999-12-31" />
         <FAT N41="4" P01="T" N44="1" N45="Y" />
         </OOS>
         </OSC>
         </OCG>
         <OCG Q00="0" SF0="LG">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="MD">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="ML">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="PT">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="SA">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="SB">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="4" SF0="TS">
         <OSC SHK="029" SFF="FAST TRACK" SFV="MMGR" B01="NZ" N01="D" N02="2" ASG="FT" ASD="FAST TRACK" AST="F">
         <OOS N11="S" A01="MEL" A02="AKL" PY0="N">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="0.00" C5B="AUD" C50="0.00" />
         <SFQ />
         <DTE D01="2014-08-07" D02="9999-12-31" />
         <FAT P01="T" N43="F" N44="1" N45="Y" P03="N" P04="N" />
         </OOS>
         </OSC>
         <OSC SHK="03E" SFF="GROUP" SFV="MMGR" B01="NZ" N01="D" N02="2" ASG="GR" ASD="GROUP" AST="F">
         <OOS N11="S" A01="MEL" A02="AKL" PY0="N">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="0.00" C5B="AUD" C50="0.00" />
         <SFQ />
         <DTE D01="2014-08-07" D02="9999-12-31" />
         <FAT P01="T" N43="E" N44="1" N45="Y" P03="N" P04="N" />
         </OOS>
         </OSC>
         <OSC SHK="0BG" SFF="TRIP INSURANCE" SFV="MMGR" B01="NZ" N01="D" N02="2" ASG="TI" ASD="TRIP INSURANCE" AST="F">
         <OOS N11="S" A01="MEL" A02="AKL" PY0="N">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="0.00" C5B="AUD" C50="0.00" />
         <SFQ />
         <DTE D01="2014-08-07" D02="9999-12-31" />
         <FAT P01="T" N43="G" N44="1" N45="Y" P03="N" P04="N" />
         </OOS>
         </OSC>
         <OSC SHK="0BK" SFF="PREPAID TKT ADVICE TKT ON DPTR" SFV="MMGR" B01="NZ" N01="D" N02="2" ASG="PD" ASD="PREPAID" AST="F">
         <OOS N11="S" A01="MEL" A02="AKL" PY0="N">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="0.00" C5B="AUD" C50="0.00" />
         <SFQ />
         <DTE D01="2014-08-07" D02="9999-12-31" />
         <FAT P01="T" N43="H" N44="1" N45="Y" P03="N" P04="N" />
         </OOS>
         </OSC>
         </OCG>
         <OCG Q00="0" SF0="UN">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="UP">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="BG">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="PT">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         </ITN>
         <ITN Q00="3">
         <OCG Q00="0" SF0="BD">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="2" SF0="BG">
         <OSC SHK="0CD" SFF="2ND CHECKED BAG" SFV="ATP" B01="NZ" N01="C" SHL="ASVC" N02="2" SFN="01" AST="F">
         <SDC DC1="B2" D00="SECOND BAG" />
         <MSG N06="X" Q0K="0" S18="CHECKED BAGGAGE LENGTH RESTRICTIONS-" />
         <MSG N06="X" Q0K="0" S18="JET SERVICES - 2.5 M" />
         <MSG N06="X" Q0K="0" S18="LINK SERVICES - 1.8M" />
         <OOS N11="P" A01="MEL" A02="AKL">
         <Q00>01</Q00>
         <SUM B70="INS" C51="55.00" C5A="AUD" N21="X" C50="55.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N44="1" N45="Y" P03="N" P04="N" />
         </OOS>
         </OSC>
         <OSC SHK="0CE" SFF="3RD CHECKED BAG" SFV="ATP" B01="NZ" N01="C" SHL="ASVC" N02="2" SFN="01" AST="F">
         <SDC DC1="B3" D00="THIRD BAG" />
         <MSG N06="X" Q0K="0" S18="CHECKED BAGGAGE LENGTH RESTRICTIONS-" />
         <MSG N06="X" Q0K="0" S18="JET SERVICES - 2.5 M" />
         <MSG N06="X" Q0K="0" S18="LINK SERVICES - 1.8M" />
         <OOS N11="P" A01="MEL" A02="AKL">
         <Q00>01</Q00>
         <SUM B70="INS" C51="95.00" C5A="AUD" N21="X" C50="95.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N44="1" N45="Y" P03="N" P04="N" />
         </OOS>
         </OSC>
         </OCG>
         <OCG Q00="0" SF0="FF">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="GT">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="1" SF0="IE">
         <OSC SHK="0AE" SFF="HEADSET" SFV="MMGR" B01="NZ" N01="G" N02="2" ASG="HS" ASD="HEADSET" AST="F">
         <OOS N11="S" A01="MEL" A02="AKL" PY0="N">
         <Q00>01</Q00>
         <SUM B70="INS" C51="5.00" C5A="NZD" C52="4.80" C5B="AUD" C50="4.80" />
         <SFQ />
         <DTE D01="2013-12-27" D02="9999-12-31" />
         <FAT N41="4" P01="T" N44="1" N45="Y" />
         </OOS>
         </OSC>
         </OCG>
         <OCG Q00="0" SF0="LG">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="MD">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="ML">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="PT">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="SA">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="SB">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="4" SF0="TS">
         <OSC SHK="029" SFF="FAST TRACK" SFV="MMGR" B01="NZ" N01="D" N02="2" ASG="FT" ASD="FAST TRACK" AST="F">
         <OOS N11="S" A01="MEL" A02="AKL" PY0="N">
         <Q00>01</Q00>
         <SUM B70="INS" C51="0.00" C5B="AUD" C50="0.00" />
         <SFQ />
         <DTE D01="2014-08-07" D02="9999-12-31" />
         <FAT P01="T" N43="F" N44="1" N45="Y" P03="N" P04="N" />
         </OOS>
         </OSC>
         <OSC SHK="03E" SFF="GROUP" SFV="MMGR" B01="NZ" N01="D" N02="2" ASG="GR" ASD="GROUP" AST="F">
         <OOS N11="S" A01="MEL" A02="AKL" PY0="N">
         <Q00>01</Q00>
         <SUM B70="INS" C51="0.00" C5B="AUD" C50="0.00" />
         <SFQ />
         <DTE D01="2014-08-07" D02="9999-12-31" />
         <FAT P01="T" N43="E" N44="1" N45="Y" P03="N" P04="N" />
         </OOS>
         </OSC>
         <OSC SHK="0BG" SFF="TRIP INSURANCE" SFV="MMGR" B01="NZ" N01="D" N02="2" ASG="TI" ASD="TRIP INSURANCE" AST="F">
         <OOS N11="S" A01="MEL" A02="AKL" PY0="N">
         <Q00>01</Q00>
         <SUM B70="INS" C51="0.00" C5B="AUD" C50="0.00" />
         <SFQ />
         <DTE D01="2014-08-07" D02="9999-12-31" />
         <FAT P01="T" N43="G" N44="1" N45="Y" P03="N" P04="N" />
         </OOS>
         </OSC>
         <OSC SHK="0BK" SFF="PREPAID TKT ADVICE TKT ON DPTR" SFV="MMGR" B01="NZ" N01="D" N02="2" ASG="PD" ASD="PREPAID" AST="F">
         <OOS N11="S" A01="MEL" A02="AKL" PY0="N">
         <Q00>01</Q00>
         <SUM B70="INS" C51="0.00" C5B="AUD" C50="0.00" />
         <SFQ />
         <DTE D01="2014-08-07" D02="9999-12-31" />
         <FAT P01="T" N43="H" N44="1" N45="Y" P03="N" P04="N" />
         </OOS>
         </OSC>
         </OCG>
         <OCG Q00="0" SF0="UN">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="UP">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="BG">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="PT">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         </ITN>
        </AncillaryPricingResponse>
Example after:
        <AncillaryPricingResponse xmlns="http://www.atse.sabre.com/AncillaryPricing/Response">
         <ITN Q00="2">
         <OCG Q00="0" SF0="BD">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="2" SF0="BG">
         <OSC SHK="0CD" SFF="2ND CHECKED BAG" SFV="ATP" B01="NZ" N01="C" SHL="ASVC" N02="2" SFN="01" AST="F">
         <SDC DC1="B2" D00="SECOND BAG" />
         <MSG N06="X" Q0K="0" S18="CHECKED BAGGAGE LENGTH RESTRICTIONS-" />
         <MSG N06="X" Q0K="0" S18="JET SERVICES - 2.5 M" />
         <MSG N06="X" Q0K="0" S18="LINK SERVICES - 1.8M" />
         <OOS N11="P" A01="MEL" A02="AKL">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="55.00" C5A="AUD" N21="X" C50="55.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N44="1" N45="Y" P03="N" P04="N" />
         </OOS>
         </OSC>
         <OSC SHK="0CE" SFF="3RD CHECKED BAG" SFV="ATP" B01="NZ" N01="C" SHL="ASVC" N02="2" SFN="01" AST="F">
         <SDC DC1="B3" D00="THIRD BAG" />
         <MSG N06="X" Q0K="0" S18="CHECKED BAGGAGE LENGTH RESTRICTIONS-" />
         <MSG N06="X" Q0K="0" S18="JET SERVICES - 2.5 M" />
         <MSG N06="X" Q0K="0" S18="LINK SERVICES - 1.8M" />
         <OOS N11="P" A01="MEL" A02="AKL">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="95.00" C5A="AUD" N21="X" C50="95.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N44="1" N45="Y" P03="N" P04="N" />
         </OOS>
         </OSC>
         </OCG>
         <OCG Q00="0" SF0="FF">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="GT">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="1" SF0="IE">
         <OSC SHK="0AE" SFF="HEADSET" SFV="MMGR" B01="NZ" N01="G" N02="2" ASG="HS" ASD="HEADSET" AST="F">
         <OOS N11="S" A01="MEL" A02="AKL" PY0="N">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="5.00" C5A="NZD" C52="4.80" C5B="AUD" C50="4.80" />
         <SFQ />
         <DTE D01="2013-12-27" D02="9999-12-31" />
         <FAT N41="4" P01="T" N44="1" N45="Y" />
         </OOS>
         </OSC>
         </OCG>
         <OCG Q00="0" SF0="LG">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="MD">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="ML">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="PT">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="SA">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="SB">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="4" SF0="TS">
         <OSC SHK="029" SFF="FAST TRACK" SFV="MMGR" B01="NZ" N01="D" N02="2" ASG="FT" ASD="FAST TRACK" AST="F">
         <OOS N11="S" A01="MEL" A02="AKL" PY0="N">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="0.00" C5B="AUD" C50="0.00" />
         <SFQ />
         <DTE D01="2014-08-07" D02="9999-12-31" />
         <FAT P01="T" N43="F" N44="1" N45="Y" P03="N" P04="N" />
         </OOS>
         </OSC>
         <OSC SHK="03E" SFF="GROUP" SFV="MMGR" B01="NZ" N01="D" N02="2" ASG="GR" ASD="GROUP" AST="F">
         <OOS N11="S" A01="MEL" A02="AKL" PY0="N">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="0.00" C5B="AUD" C50="0.00" />
         <SFQ />
         <DTE D01="2014-08-07" D02="9999-12-31" />
         <FAT P01="T" N43="E" N44="1" N45="Y" P03="N" P04="N" />
         </OOS>
         </OSC>
         <OSC SHK="0BG" SFF="TRIP INSURANCE" SFV="MMGR" B01="NZ" N01="D" N02="2" ASG="TI" ASD="TRIP INSURANCE" AST="F">
         <OOS N11="S" A01="MEL" A02="AKL" PY0="N">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="0.00" C5B="AUD" C50="0.00" />
         <SFQ />
         <DTE D01="2014-08-07" D02="9999-12-31" />
         <FAT P01="T" N43="G" N44="1" N45="Y" P03="N" P04="N" />
         </OOS>
         </OSC>
         <OSC SHK="0BK" SFF="PREPAID TKT ADVICE TKT ON DPTR" SFV="MMGR" B01="NZ" N01="D" N02="2" ASG="PD" ASD="PREPAID" AST="F">
         <OOS N11="S" A01="MEL" A02="AKL" PY0="N">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="0.00" C5B="AUD" C50="0.00" />
         <SFQ />
         <DTE D01="2014-08-07" D02="9999-12-31" />
         <FAT P01="T" N43="H" N44="1" N45="Y" P03="N" P04="N" />
         </OOS>
         </OSC>
         </OCG>
         <OCG Q00="0" SF0="UN">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="UP">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         </ITN>
         <ITN Q00="3">
         <OCG Q00="0" SF0="BD">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="2" SF0="BG">
         <OSC SHK="0CD" SFF="2ND CHECKED BAG" SFV="ATP" B01="NZ" N01="C" SHL="ASVC" N02="2" SFN="01" AST="F">
         <SDC DC1="B2" D00="SECOND BAG" />
         <MSG N06="X" Q0K="0" S18="CHECKED BAGGAGE LENGTH RESTRICTIONS-" />
         <MSG N06="X" Q0K="0" S18="JET SERVICES - 2.5 M" />
         <MSG N06="X" Q0K="0" S18="LINK SERVICES - 1.8M" />
         <OOS N11="P" A01="MEL" A02="AKL">
         <Q00>01</Q00>
         <SUM B70="INS" C51="55.00" C5A="AUD" N21="X" C50="55.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N44="1" N45="Y" P03="N" P04="N" />
         </OOS>
         </OSC>
         <OSC SHK="0CE" SFF="3RD CHECKED BAG" SFV="ATP" B01="NZ" N01="C" SHL="ASVC" N02="2" SFN="01" AST="F">
         <SDC DC1="B3" D00="THIRD BAG" />
         <MSG N06="X" Q0K="0" S18="CHECKED BAGGAGE LENGTH RESTRICTIONS-" />
         <MSG N06="X" Q0K="0" S18="JET SERVICES - 2.5 M" />
         <MSG N06="X" Q0K="0" S18="LINK SERVICES - 1.8M" />
         <OOS N11="P" A01="MEL" A02="AKL">
         <Q00>01</Q00>
         <SUM B70="INS" C51="95.00" C5A="AUD" N21="X" C50="95.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N44="1" N45="Y" P03="N" P04="N" />
         </OOS>
         </OSC>
         </OCG>
         <OCG Q00="0" SF0="FF">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="GT">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="1" SF0="IE">
         <OSC SHK="0AE" SFF="HEADSET" SFV="MMGR" B01="NZ" N01="G" N02="2" ASG="HS" ASD="HEADSET" AST="F">
         <OOS N11="S" A01="MEL" A02="AKL" PY0="N">
         <Q00>01</Q00>
         <SUM B70="INS" C51="5.00" C5A="NZD" C52="4.80" C5B="AUD" C50="4.80" />
         <SFQ />
         <DTE D01="2013-12-27" D02="9999-12-31" />
         <FAT N41="4" P01="T" N44="1" N45="Y" />
         </OOS>
         </OSC>
         </OCG>
         <OCG Q00="0" SF0="LG">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="MD">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="ML">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="PT">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="SA">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="SB">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="4" SF0="TS">
         <OSC SHK="029" SFF="FAST TRACK" SFV="MMGR" B01="NZ" N01="D" N02="2" ASG="FT" ASD="FAST TRACK" AST="F">
         <OOS N11="S" A01="MEL" A02="AKL" PY0="N">
         <Q00>01</Q00>
         <SUM B70="INS" C51="0.00" C5B="AUD" C50="0.00" />
         <SFQ />
         <DTE D01="2014-08-07" D02="9999-12-31" />
         <FAT P01="T" N43="F" N44="1" N45="Y" P03="N" P04="N" />
         </OOS>
         </OSC>
         <OSC SHK="03E" SFF="GROUP" SFV="MMGR" B01="NZ" N01="D" N02="2" ASG="GR" ASD="GROUP" AST="F">
         <OOS N11="S" A01="MEL" A02="AKL" PY0="N">
         <Q00>01</Q00>
         <SUM B70="INS" C51="0.00" C5B="AUD" C50="0.00" />
         <SFQ />
         <DTE D01="2014-08-07" D02="9999-12-31" />
         <FAT P01="T" N43="E" N44="1" N45="Y" P03="N" P04="N" />
         </OOS>
         </OSC>
         <OSC SHK="0BG" SFF="TRIP INSURANCE" SFV="MMGR" B01="NZ" N01="D" N02="2" ASG="TI" ASD="TRIP INSURANCE" AST="F">
         <OOS N11="S" A01="MEL" A02="AKL" PY0="N">
         <Q00>01</Q00>
         <SUM B70="INS" C51="0.00" C5B="AUD" C50="0.00" />
         <SFQ />
         <DTE D01="2014-08-07" D02="9999-12-31" />
         <FAT P01="T" N43="G" N44="1" N45="Y" P03="N" P04="N" />
         </OOS>
         </OSC>
         <OSC SHK="0BK" SFF="PREPAID TKT ADVICE TKT ON DPTR" SFV="MMGR" B01="NZ" N01="D" N02="2" ASG="PD" ASD="PREPAID" AST="F">
         <OOS N11="S" A01="MEL" A02="AKL" PY0="N">
         <Q00>01</Q00>
         <SUM B70="INS" C51="0.00" C5B="AUD" C50="0.00" />
         <SFQ />
         <DTE D01="2014-08-07" D02="9999-12-31" />
         <FAT P01="T" N43="H" N44="1" N45="Y" P03="N" P04="N" />
         </OOS>
         </OSC>
         </OCG>
         <OCG Q00="0" SF0="UN">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="UP">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         </ITN>
        </AncillaryPricingResponse>
Files updated:
        Service/TransactionOrchestrator.cpp
Unit tests files:
        Service/test/TransactionOrchestratorTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Brajesh Tiwari
Code reviewers: Marek.Talarczyk@sabre.com
BA: Joanna.Chrapek@sabre.com
QA: Grzegorz.Mozdzierz@sabre.com;Joanna.Kozlowska@sabre.com

Title: [ATPCO Taxes] ATPCO-345 doubled tax values on DY server
Date: 03/13/2015
Description:
        Disable fillTaxRecordVector for new taxes.<br>
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_SECTION\ATPCO_TAX_PHASESREFACTORING
         ATPCO_TAXES_ON_OC_ENABLED
         ATPCO_TAXES_ONCHANGEFEE_ENABLED
         ATPCO_TAXES_ON_ITIN_ENABLED
Resolution/QA recommendation:
Entry/XML to recreate:
        <PricingRequest Version="1.1.1"> 
           <AGI A10="IRU" A21="IRU " A80="IRU" A90="SSW" AB2="9251000" B00="1S" C40="VND" N0G="5" /> 
           <BIL A20="IRU" A22="IRU" A70="WPMVN" AA0="SSW" AD0="8FEBF6" AE0="VN" C01="402891125839231746" C20="INTLWPI1" S0R="PPSS" /> 
           <PRO AE0="VN" B05="VN" C40="VND" C45="VND" D07="2015-03-04" D54="0011" N08="B" P0J="T" P69="T" PBB="F" PBK="T" PBZ="F" PPC="T" Q0P="1" Q16="03" RTW="F" S14="PROD_REPLAY_REGRESSION" SEY="T" /> 
           <PXI B70="ADT" Q0U="01" /> 
           <SGI Q0C="01"> 
             <FLI A01="HAN" A02="BKK" B00="VN" B01="VN" B30="T" BB0="OK" BB2="QF" D00="2015-03-04" D01="2015-04-01" D02="2015-04-01" D30="0011" D31="0540" D32="0650" N03="A" Q0B="611" Q0C="01" /> 
           </SGI> 
           <SGI Q0C="02"> 
             <FLI A01="BKK" A02="HAN" B00="VN" B01="VN" B30="R" BB0="OK" BB2="QF" D00="2015-03-04" D01="2015-04-05" D02="2015-04-05" D30="0011" D31="1145" D32="1255" N03="A" Q0B="612" Q0C="02" /> 
           </SGI> 
         </PricingRequest>
Example before:
        BASE FARE EQUIV AMT TAXES/FEES/CHARGES TOTAL 
         1- USD73.00 VND1539000 5694000XT VND7233000ADT 
         XT 3372000YQ 296000YR 1054000JC 64000C4 
         908000TS 
         73.00 1539000 5694000 7233000TTL 
         ADT-01 T3MVNW R3MVNW
Example after:
        BASE FARE EQUIV AMT TAXES/FEES/CHARGES TOTAL 
         1- USD73.00 VND1539000 2847000XT VND4386000ADT 
         XT 1686000YQ 148000YR 527000JC 32000C4 
         454000TS 
         73.00 1539000 2847000 4386000TTL 
         ADT-01 T3MVNW R3MVNW
Files updated:
        Taxes/Dispatcher/AtpcoTaxOrchestrator.cpp
        Taxes/LegacyFacades/ResponseConverter.cpp
        Taxes/LegacyTaxes/TaxRecord.cpp
        Taxes/LegacyTaxes/TaxRecord.h<br>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [X] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Krawczyk Maciej
Code reviewers: Lach Piotr, Roman Jacek
BA: 
QA: 

Title: [SCONS] Build scripts extensions
Date: 03/15/2015
Description:
        - Improve build log readability
         - Allow to provide custom build directory
         - Automatic creation of server startup environment within build directory<br>
Applies to: 
        [ ] all agencies
        [ ] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
        N/A
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        SConstruct
        Server/SConscript
        scons/config.py
        scons/configtasks.py
        scons/scripts/server.sh<br>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Lisowski
Code reviewers: N/A
BA: 
QA: 

Title: [TNS]Brand only used fares instead of all in BFS
Date: 03/16/2015
Description:
        Brand only fares that were used instead of all in BFS mode
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        DYNAMIC_LOADABLE\FALLBACK_SECTION::FALLBACK_LAZY_SINGLE_BRAND Y
         FALLBACK_SECTION\FALLBACK_LAZY_SINGLE_BRAND N
Resolution/QA recommendation:
        Compare BFS response with dynamic fallback FALLBACK_LAZY_SINGLE_BRAND set to Y/N. Content should be the same, response for FALLBACK_LAZY_SINGLE_BRAND = N should be faster.
Entry/XML to recreate:
        N/A
Example before:
        N/A
Example after:
        N/A
Files updated:
        BrandedFares/BrandedFaresSelector.cpp
        BrandedFares/BrandedFaresSelector.h
        BrandedFares/S8BrandedFaresSelector.cpp
        BrandedFares/S8BrandedFaresSelector.h
        Common/FallBack.cpp
        Pricing/PricingOrchestrator.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Andrzej Fediuk
Code reviewers: Michal Mlynek; Artur De Sousa Rocha
BA: Smoragiewicz Arkadiusz
QA: Rak Lukasz

Title: [OB Fees 2 Credit Cards] SSDMLT-717
Date: 03/16/2015
Description:
        <a href=http://asjira.sabre.com/browse/SSDMLT-717>FOP Breakdown have to send by ATSE on any 2 FOP transaction</a>
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_SECTION\FALLBACK_OB_FEES_2CC
Resolution/QA recommendation:
        When 2 Credit Cards are requested (PRO/FOP and PRO/FP2) return FOP info in the response<br>
              <OBF BIN="457041" PAT="291.90" STA="547.10"/> 
              <OBF BIN="535054" PAT="100.70" STA="547.10"/> <br>
        even though OB Fees are not processed for below scenarios:
        No S4 records filed by carrier
        Service Fee is not active for carrier (table SERVICEFEESCXRACTIVATION)
        Agent TJR (table CUSTOMER) has DONOTAPPLYOBTKTFEES set to Y
        Validating Carrier is invalid or not set
        All segments are Open
        All segments are not confirmed
        Form of payment is other than credit card but not credit card
Entry/XML to recreate:
        <PricingRequest Version="1.1.8">
          <AGI A10="MAD" A20="1J07" A21="FS6G" A80="1J07" A90="CGC" AB0="9999999" AB1="9999999" B00="1S" C40="EUR" N0G="*" Q01="38" />
          <BIL A20="HDQ" A22="1J07" A70="WPFMP" AA0="CGC" AD0="485AD6" AE0="AA" C00="1677018872090529326" C20="INTLWPI1" Q02="0" Q03="0" S0R="LBTY" />
          <PRO C45="EUR" D07="2015-03-10" D54="1175" FOP="373912" FP2="111122" N08="B" P0J="T" P63="T" PAT="100.00" PBK="T" PPC="T" PRS="T" Q0P="1" S13="MVNSAT" S14="WPFMP" S15="CRSAGT" SEY="T" SEZ="T" />
          <PXI B70="ADT" Q0U="1" />
          <SGI Q0C="1">
            <FLI A01="DFW" A02="LAX" B00="AA" B01="AA" B30="Y" B40="32B" BB0="OK" BB2="HK" D00="2015-01-29" D01="2015-03-15" D02="2015-03-15" D30="1371" D31="0410" D32="0501" N03="A" Q0B="2401" Q0C="1" />
          </SGI>
          <RES>
            <RLS B01="AA" S13="MVNSAT" />
            <IDS A01="DFW" A02="LAX" A70="HK" B00="AA" B30="Y" D01="2015-03-15" D02="2015-03-15" D31="0650" D32="0821" N0V="J" P2X="ET" Q0B="2401" Q0U="1" />
          </RES>
          <POC A03="DFW" D01="2015-03-15" D02="0650" />
        </PricingRequest>
Example before:
        PricingResponse>
          <AGI A10="MAD" A20="1J07" A21="FS6G" AB0="9999999" AB1="9999999" A90="CGC" N0G="*" A80="1J07" B00="1S" C40="EUR" Q01="38" />
          <BIL A20="HDQ" Q03="0" Q02="0" AE0="AA" AD0="485AD6" C20="INTLWPI1" A22="1J07" AA0="CGC" A70="WPFMP" />
          <SUM C56="953.49" C40="USD" D07="2015-03-10" D54="1175" S69="SOTO" AO0="MAD" AF0="MAD" B00="AA" PBC="F" PAR="F" S79="ltxl0243">
            <VCL P3L="F" SM0="BSP" VC0="T">
              <DCX B00="AA" TT0="ETKTREQ" />
            </VCL>
            <PXI B70="ADT" C43="USD" C5E="953.49" S85="ADT 1 ADT 0 1 1 1 8 YA2AA 2000 11 Y " PBS="F" USI="3" B71="ADT" Q4P="1" C40="USD" C5A="953.49" C45="EUR" C5F="879.00" C54="1.00000000000000" Q05="13" C46="USD" C66="957.90" C65="78.90" C5D="0.00" C5B="0.00" C64="78.90" S66="DFW AA LAX Q27.91Q27.91 897.67USD953.49END ZPDFW XFDFW4.5" P27="F" NRA="0.00" S83="ATPC" P26="F" BIN="373912">
              <MSG N06="W" Q0K="0" S18="VALIDATING CARRIER - AA" />
              <MSG N06="B" Q0K="0" S18="BAG ALLOWANCE     -DFWLAX-NIL/AA" />
              <MSG N06="B" Q0K="0" S18="1STCHECKED BAG FEE-DFWLAX-EUR23.00/AA/UP TO 50 POUNDS/23 KILOGR" />
              <MSG N06="B" Q0K="0" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="2NDCHECKED BAG FEE-DFWLAX-EUR33.00/AA/UP TO 50 POUNDS/23 KILOGR" />
              <MSG N06="B" Q0K="0" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="CARRY ON ALLOWANCE" />
              <MSG N06="B" Q0K="0" S18="DFWLAX-02P/AA" />
              <MSG N06="B" Q0K="0" S18="01/SMALL PERSONAL ITEM" />
              <MSG N06="B" Q0K="0" S18="01/UP TO 45 LINEAR INCHES/115 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY DEPENDING ON" />
              <MSG N06="B" Q0K="0" S18="FLYER-SPECIFIC FACTORS /E.G. FREQUENT FLYER STATUS/MILITARY/" />
              <MSG N06="B" Q0K="0" S18="CREDIT CARD FORM OF PAYMENT/EARLY PURCHASE OVER INTERNET,ETC./" />
              <MSG N06="B" Q0K="0" S18="EMBARGOES-APPLY TO EACH PASSENGER" />
              <MSG N06="B" Q0K="0" S18="DFWLAX-AA" />
              <MSG N06="B" Q0K="0" S18="OVER 100 POUNDS/45 KILOGRAMS NOT PERMITTED" />
              <TAX BC0="US1" C6B="65.92" C40="EUR" S05="DFW" S04="US DOMESTIC TRANSPORTATION TAX" C6A="0.07" C41="USD" A40="US" />
              <TAX BC0="ZP" C6B="3.68" C40="EUR" S05="DFW" S04="SEGMENT TAX" C6A="4.00" C41="USD" A40="US" />
              <TAX BC0="AY" C6B="5.16" C40="EUR" S05="DFW" S04="US SECURITY FEE" C6A="5.60" C41="USD" A40="US" />
              <TAX BC0="XF" C6B="4.14" C40="EUR" S05="DFW" S04="PASSENGER FACILITY CHARGE" C6A="4.50" C41="USD" A40="US" />
              <TBD BC0="US1" C6B="65.92" C41="USD" C6A="71.50" A04="AA" S05="DFW" C40="EUR" A06="P" A40="US" S04="US DOMESTIC TRANSPORTATION TAX" />
              <TBD BC0="ZP" C6B="3.68" C41="USD" C6A="4.00" A04="AA" S05="DFW" C40="EUR" A06="F" A40="US" S04="SEGMENT TAX" />
              <TBD BC0="AY" C6B="5.16" C41="USD" C6A="5.60" A04="AA" S05="DFW" C40="EUR" A06="F" A40="US" S04="US SECURITY FEE" />
              <TBD BC0="XF" C6B="4.14" C40="EUR" C6A="4.50" S05="DFW" A40="US" S04="PASSENGER FACILITY CHARGES" C41="USD" />
              <TBR>
                <CCD C41="USD" C42="EUR" C54="1.08490000000000" Q05="13" />
              </TBR>
              <P45>
                <CCD C41="USD" C42="EUR" C54="1.08490000000000" Q05="13" N02="O" />
              </P45>
              <CAL A11="DFW" A01="DFW" B08="AA" A12="LAX" A02="LAX" C50="897.67" B50="YA2AA" Q04="5" B71="ADT" B02="AA" N00="Y" A41="US" A51="1" A31="USTX" A42="US" A52="1" A32="USCA" C51="897.67" C40="USD" P04="T" P05="F" D00="2015-03-15" N0K="P" P2M="F" PAY="F" PAZ="F" Q4J="1" N1K="O" S70="FR" A60="WH" FTY="00" S53="EU" PPF="0">
                <CAT>5 8 10 11 12 15 16 23</CAT>
                <ERD Q46="2" Q1K="82" D12="2015-02-15" D55="16-16-24.029000" S53="EU" BJ0="YA2AA" D08="2015-03-15" Q04="5" C5A="897.670000000" B70="ADT" />
                <SEG A11="DFW" C6I="DFW" A12="LAX" A02="LAX" D71="2015-03-15" S37="ATP" B09="AA" S89="0" S90="2000" P72="Y" Q0Z="01" S12="WH" C11="US" C12="US" C13="D" D05="2016-03-15" P2F="T" P2I="F" PAW="F" B00="AA" B01="AA" N00="Y" N1L="L" SHR="32B" P2M="T" P2H="F" Q0Y="1" B20="NI" N0D=" " P26="F">
                  <SUR N0F="Q" C69="27.91" C46="USD" C41="USD" S03="MISCELLANEOUS/OTHER" A11="DFW" A12="LAX" N28="S" />
                  <SUR N0F="Q" C69="27.91" C46="USD" C41="USD" S03="MISCELLANEOUS/OTHER" A11="DFW" A12="LAX" N28="S" />
                </SEG>
              </CAL>
              <ABL D16="20150215" S89="0      " S90="2000" S83="ATP  " B02="AA" B50="YA2AA          " A11="DFW" A12="LAX" />
              <BDI BPT="A" SFK="AA" SHK="0DFAAAA" BPC="0">
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="C" SFK="AA" SHK="0GOACAA" OC1="1" OC2="1">
                <PFF N41="4" N45="N" P03="N" P04="Y" B70="ADT" C50="23.00" C51="25.00" C5A="USD" C52="23.00" C5B="EUR" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="C" SFK="AA" SHK="0GOACAA" OC1="2" OC2="2">
                <PFF N41="4" N45="N" P03="N" P04="Y" B70="ADT" C50="33.00" C51="35.00" C5A="USD" C52="33.00" C5B="EUR" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="B" SFK="AA" SHK="0LNABAA" BPC="2">
                <ITR BPC="1" SHK="0L5ACAA" />
                <ITR BPC="1" SHK="0MUACAA" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="E" SFK="AA" SHK="0DQAEAA">
                <PFF N41=" " P01="T" N43="X" B70="ADT" C51="0.00" C5B="EUR" />
                <Q00>1</Q00>
              </BDI>
            </PXI>
          </SUM>
          <MSG N06="X" Q0K="3" S18="       BASE FARE      EQUIV AMT  TAXES/FEES/CHARGES    TOTAL" />
          <MSG N06="X" Q0K="4" S18=" 1-    USD953.49      EUR879.00      78.90XT       EUR957.90ADT" />
          <MSG N06="X" Q0K="5" S18="    XT     65.92US       3.68ZP       5.16AY       4.14XF " />
          <MSG N06="X" Q0K="6" S18="          953.49         879.00      78.90            957.90TTL" />
          <MSG N06="X" Q0K="7" S18="ADT-01  YA2AA" />
          <MSG N06="X" Q0K="8" S18=" DFW AA LAX Q27.91Q27.91 897.67USD953.49END ZPDFW XFDFW4.5" />
          <MSG N06="X" Q0K="9" S18="VALIDATING CARRIER - AA" />
          <MSG N06="X" Q0K="10" S18="BAG ALLOWANCE     -DFWLAX-NIL/AA" />
          <MSG N06="X" Q0K="11" S18="1STCHECKED BAG FEE-DFWLAX-EUR23.00/AA/UP TO 50 POUNDS/23 KILOGR" />
          <MSG N06="X" Q0K="12" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
          <MSG N06="X" Q0K="13" S18="2NDCHECKED BAG FEE-DFWLAX-EUR33.00/AA/UP TO 50 POUNDS/23 KILOGR" />
          <MSG N06="X" Q0K="14" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
          <MSG N06="X" Q0K="15" S18="CARRY ON ALLOWANCE" />
          <MSG N06="X" Q0K="16" S18="DFWLAX-02P/AA" />
          <MSG N06="X" Q0K="17" S18="01/SMALL PERSONAL ITEM" />
          <MSG N06="X" Q0K="18" S18="01/UP TO 45 LINEAR INCHES/115 LINEAR CENTIMETERS" />
          <MSG N06="X" Q0K="19" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY" />
          <MSG N06="X" Q0K="20" S18="  " />
          <MSG N06="X" Q0K="21" S18="EMBARGOES-APPLY TO EACH PASSENGER" />
          <MSG N06="X" Q0K="22" S18="DFWLAX-AA" />
          <MSG N06="X" Q0K="23" S18="OVER 100 POUNDS/45 KILOGRAMS NOT PERMITTED" />
          <OCM>
            <OCG SF0="BD" />
            <OCG SF0="BG" />
            <OCG SF0="FF" />
            <OCG SF0="GT" />
            <OCG SF0="IE" />
            <OCG SF0="LG" />
            <OCG SF0="MD" />
            <OCG SF0="ML" />
            <OCG SF0="PT" />
            <OCG SF0="SA" />
            <OCG SF0="SB" />
            <OCG SF0="TS" />
            <OCG SF0="UN" />
            <OCG SF0="UP" />
            <OCG SF0="99" />
            <OCG SF0="RO" />
            <OCG SF0="ST" />
            <OCG SF0="T1" />
            <OCG SF0="T2" />
            <OCG SF0="UU" />
          </OCM>
          <OSC SHK="0DFAAAA" SFF="ALLOWANCE" SF0="BG" N01="C" N02="4" />
          <OSC SHK="0DQAEAA" SFF="OVER100LB 45KG BAGGAGE" SF0="BG" DC1="1X" D01="OVER 100 POUNDS/45 KILOGRAMS" W01="100" WU1="L" W02="45" WU2="L" N02="4" />
          <OSC SHK="0GOACAA" SFF="UPTO50LB 23KG AND62LI 158LCM" SF0="BG" DC1="23" D01="UP TO 50 POUNDS/23 KILOGRAMS" DC2="6U" D02="UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" W03="50" WU3="L" W04="23" WU4="K" S03="62" SU3="I" S04="158" SU4="C" N01="C" N02="4" />
          <OSC SHK="0L5ACAA" SFF="SMALL PERSONAL ITEM" SF0="BG" ASG="CY" ASD="CARRY ON HAND BAGGAGE" N01="C" N02="4" />
          <OSC SHK="0LNABAA" SFF="CARRYON HAND BAGGAGE ALLOWANCE" SF0="BG" ASG="CY" ASD="CARRY ON HAND BAGGAGE" N02="4" />
          <OSC SHK="0MUACAA" SFF="CARRY ON UP TO 45 LI 115 LCM" SF0="BG" ASG="CY" ASD="CARRY ON HAND BAGGAGE" DC1="4U" D01="UP TO 45 LINEAR INCHES/115 LINEAR CENTIMETERS" S03="45" SU3="I" S04="115" SU4="C" N01="C" N02="4" />
Example after:
        PricingResponse>
          <AGI A10="MAD" A20="1J07" A21="FS6G" AB0="9999999" AB1="9999999" A90="CGC" N0G="*" A80="1J07" B00="1S" C40="EUR" Q01="38" />
          <BIL A20="HDQ" Q03="0" Q02="0" AE0="AA" AD0="485AD6" C20="INTLWPI1" A22="1J07" AA0="CGC" A70="WPFMP" />
          <SUM C56="953.49" C40="USD" D07="2015-03-10" D54="1175" S69="SOTO" AO0="MAD" AF0="MAD" B00="AA" PBC="F" PAR="F" S79="ltxl0243">
            <VCL P3L="F" SM0="BSP" VC0="T">
              <DCX B00="AA" TT0="ETKTREQ" />
            </VCL>
            <PXI B70="ADT" C43="USD" C5E="953.49" S85="ADT 1 ADT 0 1 1 1 8 YA2AA 2000 11 Y " PBS="F" USI="3" B71="ADT" Q4P="1" C40="USD" C5A="953.49" C45="EUR" C5F="879.00" C54="1.00000000000000" Q05="13" C46="USD" C66="957.90" C65="78.90" C5D="0.00" C5B="0.00" C64="78.90" S66="DFW AA LAX Q27.91Q27.91 897.67USD953.49END ZPDFW XFDFW4.5" P27="F" NRA="0.00" S83="ATPC" P26="F" BIN="373912">
              <MSG N06="W" Q0K="0" S18="VALIDATING CARRIER - AA" />
              <MSG N06="B" Q0K="0" S18="BAG ALLOWANCE     -DFWLAX-NIL/AA" />
              <MSG N06="B" Q0K="0" S18="1STCHECKED BAG FEE-DFWLAX-EUR23.00/AA/UP TO 50 POUNDS/23 KILOGR" />
              <MSG N06="B" Q0K="0" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="2NDCHECKED BAG FEE-DFWLAX-EUR33.00/AA/UP TO 50 POUNDS/23 KILOGR" />
              <MSG N06="B" Q0K="0" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="CARRY ON ALLOWANCE" />
              <MSG N06="B" Q0K="0" S18="DFWLAX-02P/AA" />
              <MSG N06="B" Q0K="0" S18="01/SMALL PERSONAL ITEM" />
              <MSG N06="B" Q0K="0" S18="01/UP TO 45 LINEAR INCHES/115 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY DEPENDING ON" />
              <MSG N06="B" Q0K="0" S18="FLYER-SPECIFIC FACTORS /E.G. FREQUENT FLYER STATUS/MILITARY/" />
              <MSG N06="B" Q0K="0" S18="CREDIT CARD FORM OF PAYMENT/EARLY PURCHASE OVER INTERNET,ETC./" />
              <MSG N06="B" Q0K="0" S18="EMBARGOES-APPLY TO EACH PASSENGER" />
              <MSG N06="B" Q0K="0" S18="DFWLAX-AA" />
              <MSG N06="B" Q0K="0" S18="OVER 100 POUNDS/45 KILOGRAMS NOT PERMITTED" />
              <TAX BC0="US1" C6B="65.92" C40="EUR" S05="DFW" S04="US DOMESTIC TRANSPORTATION TAX" C6A="0.07" C41="USD" A40="US" />
              <TAX BC0="ZP" C6B="3.68" C40="EUR" S05="DFW" S04="SEGMENT TAX" C6A="4.00" C41="USD" A40="US" />
              <TAX BC0="AY" C6B="5.16" C40="EUR" S05="DFW" S04="US SECURITY FEE" C6A="5.60" C41="USD" A40="US" />
              <TAX BC0="XF" C6B="4.14" C40="EUR" S05="DFW" S04="PASSENGER FACILITY CHARGE" C6A="4.50" C41="USD" A40="US" />
              <TBD BC0="US1" C6B="65.92" C41="USD" C6A="71.50" A04="AA" S05="DFW" C40="EUR" A06="P" A40="US" S04="US DOMESTIC TRANSPORTATION TAX" />
              <TBD BC0="ZP" C6B="3.68" C41="USD" C6A="4.00" A04="AA" S05="DFW" C40="EUR" A06="F" A40="US" S04="SEGMENT TAX" />
              <TBD BC0="AY" C6B="5.16" C41="USD" C6A="5.60" A04="AA" S05="DFW" C40="EUR" A06="F" A40="US" S04="US SECURITY FEE" />
              <TBD BC0="XF" C6B="4.14" C40="EUR" C6A="4.50" S05="DFW" A40="US" S04="PASSENGER FACILITY CHARGES" C41="USD" />
              <TBR>
                <CCD C41="USD" C42="EUR" C54="1.08490000000000" Q05="13" />
              </TBR>
              <P45>
                <CCD C41="USD" C42="EUR" C54="1.08490000000000" Q05="13" N02="O" />
              </P45>
              <CAL A11="DFW" A01="DFW" B08="AA" A12="LAX" A02="LAX" C50="897.67" B50="YA2AA" Q04="5" B71="ADT" B02="AA" N00="Y" A41="US" A51="1" A31="USTX" A42="US" A52="1" A32="USCA" C51="897.67" C40="USD" P04="T" P05="F" D00="2015-03-15" N0K="P" P2M="F" PAY="F" PAZ="F" Q4J="1" N1K="O" S70="FR" A60="WH" FTY="00" S53="EU" PPF="0">
                <CAT>5 8 10 11 12 15 16 23</CAT>
                <ERD Q46="2" Q1K="82" D12="2015-02-15" D55="16-16-24.029000" S53="EU" BJ0="YA2AA" D08="2015-03-15" Q04="5" C5A="897.670000000" B70="ADT" />
                <SEG A11="DFW" C6I="DFW" A12="LAX" A02="LAX" D71="2015-03-15" S37="ATP" B09="AA" S89="0" S90="2000" P72="Y" Q0Z="01" S12="WH" C11="US" C12="US" C13="D" D05="2016-03-15" P2F="T" P2I="F" PAW="F" B00="AA" B01="AA" N00="Y" N1L="L" SHR="32B" P2M="T" P2H="F" Q0Y="1" B20="NI" N0D=" " P26="F">
                  <SUR N0F="Q" C69="27.91" C46="USD" C41="USD" S03="MISCELLANEOUS/OTHER" A11="DFW" A12="LAX" N28="S" />
                  <SUR N0F="Q" C69="27.91" C46="USD" C41="USD" S03="MISCELLANEOUS/OTHER" A11="DFW" A12="LAX" N28="S" />
                </SEG>
              </CAL>
              <ABL D16="20150215" S89="0      " S90="2000" S83="ATP  " B02="AA" B50="YA2AA          " A11="DFW" A12="LAX" />
        <bgcolor=yellow>      <OBF STA="957.90" BIN="373912" PAT="857.90" /></bgcolor>
        <bgcolor=yellow>      <OBF STA="957.90" BIN="111122" PAT="100.00" /></bgcolor>
              <BDI BPT="A" SFK="AA" SHK="0DFAAAA" BPC="0">
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="C" SFK="AA" SHK="0GOACAA" OC1="1" OC2="1">
                <PFF N41="4" N45="N" P03="N" P04="Y" B70="ADT" C50="23.00" C51="25.00" C5A="USD" C52="23.00" C5B="EUR" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="C" SFK="AA" SHK="0GOACAA" OC1="2" OC2="2">
                <PFF N41="4" N45="N" P03="N" P04="Y" B70="ADT" C50="33.00" C51="35.00" C5A="USD" C52="33.00" C5B="EUR" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="B" SFK="AA" SHK="0LNABAA" BPC="2">
                <ITR BPC="1" SHK="0L5ACAA" />
                <ITR BPC="1" SHK="0MUACAA" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="E" SFK="AA" SHK="0DQAEAA">
                <PFF N41=" " P01="T" N43="X" B70="ADT" C51="0.00" C5B="EUR" />
                <Q00>1</Q00>
              </BDI>
            </PXI>
          </SUM>
          <MSG N06="X" Q0K="3" S18="       BASE FARE      EQUIV AMT  TAXES/FEES/CHARGES    TOTAL" />
          <MSG N06="X" Q0K="4" S18=" 1-    USD953.49      EUR879.00      78.90XT       EUR957.90ADT" />
          <MSG N06="X" Q0K="5" S18="    XT     65.92US       3.68ZP       5.16AY       4.14XF " />
          <MSG N06="X" Q0K="6" S18="          953.49         879.00      78.90            957.90TTL" />
          <MSG N06="X" Q0K="7" S18="ADT-01  YA2AA" />
          <MSG N06="X" Q0K="8" S18=" DFW AA LAX Q27.91Q27.91 897.67USD953.49END ZPDFW XFDFW4.5" />
          <MSG N06="X" Q0K="9" S18="VALIDATING CARRIER - AA" />
          <MSG N06="X" Q0K="10" S18="BAG ALLOWANCE     -DFWLAX-NIL/AA" />
          <MSG N06="X" Q0K="11" S18="1STCHECKED BAG FEE-DFWLAX-EUR23.00/AA/UP TO 50 POUNDS/23 KILOGR" />
          <MSG N06="X" Q0K="12" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
          <MSG N06="X" Q0K="13" S18="2NDCHECKED BAG FEE-DFWLAX-EUR33.00/AA/UP TO 50 POUNDS/23 KILOGR" />
          <MSG N06="X" Q0K="14" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
          <MSG N06="X" Q0K="15" S18="CARRY ON ALLOWANCE" />
          <MSG N06="X" Q0K="16" S18="DFWLAX-02P/AA" />
          <MSG N06="X" Q0K="17" S18="01/SMALL PERSONAL ITEM" />
          <MSG N06="X" Q0K="18" S18="01/UP TO 45 LINEAR INCHES/115 LINEAR CENTIMETERS" />
          <MSG N06="X" Q0K="19" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY" />
          <MSG N06="X" Q0K="20" S18="  " />
          <MSG N06="X" Q0K="21" S18="EMBARGOES-APPLY TO EACH PASSENGER" />
          <MSG N06="X" Q0K="22" S18="DFWLAX-AA" />
          <MSG N06="X" Q0K="23" S18="OVER 100 POUNDS/45 KILOGRAMS NOT PERMITTED" />
          <OCM>
            <OCG SF0="BD" />
            <OCG SF0="BG" />
            <OCG SF0="FF" />
            <OCG SF0="GT" />
            <OCG SF0="IE" />
            <OCG SF0="LG" />
            <OCG SF0="MD" />
            <OCG SF0="ML" />
            <OCG SF0="PT" />
            <OCG SF0="SA" />
            <OCG SF0="SB" />
            <OCG SF0="TS" />
            <OCG SF0="UN" />
            <OCG SF0="UP" />
            <OCG SF0="99" />
            <OCG SF0="RO" />
            <OCG SF0="ST" />
            <OCG SF0="T1" />
            <OCG SF0="T2" />
            <OCG SF0="UU" />
          </OCM>
          <OSC SHK="0DFAAAA" SFF="ALLOWANCE" SF0="BG" N01="C" N02="4" />
          <OSC SHK="0DQAEAA" SFF="OVER100LB 45KG BAGGAGE" SF0="BG" DC1="1X" D01="OVER 100 POUNDS/45 KILOGRAMS" W01="100" WU1="L" W02="45" WU2="L" N02="4" />
          <OSC SHK="0GOACAA" SFF="UPTO50LB 23KG AND62LI 158LCM" SF0="BG" DC1="23" D01="UP TO 50 POUNDS/23 KILOGRAMS" DC2="6U" D02="UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" W03="50" WU3="L" W04="23" WU4="K" S03="62" SU3="I" S04="158" SU4="C" N01="C" N02="4" />
          <OSC SHK="0L5ACAA" SFF="SMALL PERSONAL ITEM" SF0="BG" ASG="CY" ASD="CARRY ON HAND BAGGAGE" N01="C" N02="4" />
          <OSC SHK="0LNABAA" SFF="CARRYON HAND BAGGAGE ALLOWANCE" SF0="BG" ASG="CY" ASD="CARRY ON HAND BAGGAGE" N02="4" />
          <OSC SHK="0MUACAA" SFF="CARRY ON UP TO 45 LI 115 LCM" SF0="BG" ASG="CY" ASD="CARRY ON HAND BAGGAGE" DC1="4U" D01="UP TO 45 LINEAR INCHES/115 LINEAR CENTIMETERS" S03="45" SU3="I" S04="115" SU4="C" N01="C" N02="4" />
Files updated:
        TicketingFee/TicketingFeeCollector.cpp   
         TicketingFee/TicketingFeeCollector.h    <br>
Unit tests files:
        TicketingFee/test/TicketingFeeCollectorTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [ ] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Leszek Banaszek
Code reviewers: Artur Krezel
BA: Nadeem Kayani
QA: Ewelina Mucha

Title: [IBF][TK-766207] Remove fallbacks part 1
Date: 03/16/2015
Description:
        Part of "Remove all fallbacks in ItinAnalyzerService::removeUnwantedFareMarkets(PricingTrx& trx) function"
        Removed FALLBACK_2013_05_FIX_IA_SOLO_FARE_MARKETS_REMOVAL. New code was never activated and it was removed.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        tseserver DYNAMIC_LOADABLE\FALLBACK_SECTION::FALLBACK_2013_05_FIX_IA_SOLO_FARE_MARKETS_REMOVAL Y created by Piotr Bartosik in R5 2013 = SCALAR N/A N N REMOVED 
         tseserver FALLBACK_SECTION\FALLBACK_2013_05_FIX_IA_SOLO_FARE_MARKETS_REMOVAL Y created by Piotr Bartosik in R5 2013 = SCALAR N/A N N REMOVED
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        ItinAnalyzer/ItinAnalyzerService.cpp
        ItinAnalyzer/ItinAnalyzerServiceWrapper.cpp
        ItinAnalyzer/ItinAnalyzerUtils.cpp
        ItinAnalyzer/ItinAnalyzerUtils.h
        ItinAnalyzer/Makefile.sources<br>
        deleted:
        ItinAnalyzer/ItineraryLeg.h
        ItinAnalyzer/LegIterator.cpp
        ItinAnalyzer/LegIterator.h
        ItinAnalyzer/test/ItineraryLegTest.cpp
        ItinAnalyzer/test/LegIteratorTest.cpp
Unit tests files:
        ItinAnalyzer/test/ItinAnalyzerUtilsTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [X] Shopping
        [ ] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Artur de Sousa Rocha
Code reviewers: Piotr Bartosik, Andrzej Fediuk, Grzegorz Lisowski, Radoslaw Przybyl
BA: 
QA: 

Title: [Enhance Family Logic] Validate stopovers - use general rule data
Date: 03/16/2015
Description:
        Changed categories validation in for children in family logic. From now, category is validated if category is in fare rule data or general fare rule data.
        Change is inactive (fallback <color=#008000>VALIDATE_CAT8_FOR_CHILDREN</color>)
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        n/a
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        -
Example after:
        -
Files updated:
        DataModel/PaxTypeFare.cpp
        DataModel/PaxTypeFare.h
        Pricing/PricingOrchestrator.cpp
        Pricing/PricingOrchestrator.h
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Michal Jedros
Code reviewers: Marek Markiewicz, Piotr Wojcik
BA: 
QA: 

Title: [ATPCO Taxes] APM-687 Taxes not returned for AncillaryPricing PR carrier
Date: 03/16/2015
Description:
        Processing should continue with no response found.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_SECTION\ATPCO_TAX_PHASESREFACTORING
         ATPCO_TAXES_ON_OC_ENABLED
         ATPCO_TAXES_ONCHANGEFEE_ENABLED
         ATPCO_TAXES_ON_ITIN_ENABLED
Resolution/QA recommendation:
Entry/XML to recreate:
        <AncillaryPricingRequest xmlns="http://www.atse.sabre.com/AncillaryPricing/Request" Version="1.0.2">
          <AGI A10="KLO" B00="1S" N0G="5" />
          <BIL AD0="457E63" AE0="PR" C20="ANCPRICE" S0R="PBSO" />
          <PRO>
            <FFY B00="PR" Q7D="2" />
          </PRO>
          <ITN Q00="1">
            <IRO>
              <PXI B70="ADT" />
            </IRO>
            <SGI Q00="1">
              <FLI A01="KLO" A02="MNL" B00="PR" B01="PR" B30="X" D01="2015-01-28" D02="2015-01-28" D31="1530" D32="1630" Q0B="1240" S95="320" />
            </SGI>
            <SGI Q00="2">
              <FLI A01="MNL" A02="KLO" B00="PR" B01="PR" B30="T" D01="2015-02-04" D02="2015-02-04" D31="1815" D32="1915" Q0B="2971" S95="320" />
            </SGI>
          </ITN>
        </AncillaryPricingRequest>
Example before:
        <OSC SHK="98I" SFF="SERVICE CHARGE" SFV="MMGR" B01="PR" N01="D" N02="2" PR0="Y" AST="F">
         <OOS N11="S" A01="KLO" A02="MNL" PY0="N">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="750" C5A="PHP" C50="750" />
         <SFQ />
         <DTE D01="2013-06-24" D02="9999-12-31" />
         <FAT N41="5" P01="T" N45="N" />
         </OOS>
         </OSC>
Example after:
        <OSC SHK="98I" SFF="SERVICE CHARGE" SFV="MMGR" B01="PR" N01="D" N02="2" PR0="Y" AST="F">
         <OOS N11="S" A01="KLO" A02="MNL" PY0="N">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="750" C5A="PHP" C50="1020" />
         <SFQ />
         <DTE D01="2013-06-24" D02="9999-12-31" />
         <FAT N41="5" P01="T" N45="N" />
         <TAX BC0="PVN" C6B="90" />
         <TAX BC0="PVZ" C6B="90" />
         <TAX BC0="PVZ" C6B="90" />
         </OOS>
         </OSC>
Files updated:
        axes/LegacyFacades/ResponseConverter.cpp
        Taxes/LegacyFacades/ResponseConverter.h<br>
Unit tests files:
        Taxes/LegacyFacades/test/ResponseConverterTest.cpp<br>
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [X] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Krawczyk Maciej
Code reviewers: Lach Piotr, Roman Jacek
BA: 
QA: 

Title: FareFocusRule GeoLocationGroup enhancement P_96690
Date: 03/16/2015
Description:
        Add a new functionality to process Geo Location Group for the FareFocus rule processing.
        Code is not activated yet.
Applies to: 
        [X] all agencies
        [ ] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        <FAM=atsev2> tseserver DYNAMIC_LOADABLE\FALLBACK_SECTION::FALLBACK_FARE_FOCUS_RULE_GROUP_LOCATION Y FareFocusGeoGroup = SCALAR N/A N N CREATED
        <FAM=atsev2> tseserver FALLBACK_SECTION\FALLBACK_FARE_FOCUS_RULE_GROUP_LOCATION Y add in Rel4 FareFocusGeoGroup = SCALAR N/A N N CREATED
Resolution/QA recommendation:
        Not ready for test yet. tested by manual rule data update.
        Awaiting test data.
Entry/XML to recreate:
        n/a
Example before:
        n/a
Example after:
        n/a
Files updated:
        #       modified:   Common/FallBack.cpp
        #       modified:   Common/LocUtil.h
        #       modified:   DBAccess/DAOInterface.h
        #       modified:   DBAccess/DataHandle.cpp
        #       modified:   DBAccess/DataHandle.h
        #       modified:   DBAccess/ZoneDAO.cpp
        #       modified:   DBAccess/ZoneDAO.h
        #       modified:   Rules/FareFocusRuleValidator.cpp
        #       modified:   Rules/FareFocusRuleValidator.h
Unit tests files:
        #       modified:   Rules/test/FareFocusRuleValidatorTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Vladimir Koliasnikov
Code reviewers: Ilya Entin
BA: Kayani, Nadeem <Nadeem.Kayani@sabre.com>
QA: Paul Cazares

Title: [ICER] - DC' Conversion and Direct Rate Conversion Processes
Date: 03/16/2015
Description:
        S-385430 DC  entry when user location is not located in either country
        S-385523 DC  entry when user location is located in TO currency country
        S-385524 DC  entry when user location is located in FROM currency country
        S-385526 Fare Quote
        S-385558 Direct Rate Conversion Process
        Current logic for DC :
        When a user inputs DC  entry and currencies requested are not the currency of the country, a double conversion via the common country currency takes place. This also applies when a direct rate is not available. Also, when the user location currency is same as the payment currency (TO), we currently access rate from payment currency and do Reciprocal 1/rate conversion (divisive computation). Current result, the conversion rate shown is a result of the user location.
        New logic for DC :
        Regardless of the user location, new system will return the direct rate conversion from the currency specified to the payment currency.
        Current logic for FQ:
        Fare quote currency conversion shown is directly related to the user location. This means that if the user specifies a currency other than the currency the fares are filed in the fare quote request the result includes a double conversion.
        New logic for FQ:
        Regardless of the user location, program will convert using direct rate from the currency of the fares to the specified currency. Double conversion will be removed.
        Current logic for base fare/tax/fee conversion:
        The current currency conversion process has used the Payment currency as the Prime currency when querying the Bankers Selling Rate table.  As a result, when converting the base fare/tax/fee to the payment currency the computation was divisive. 
        New logic for base fare/tax/fee conversion:
        The new industry agreed method has defined the base fare/tax or fee currency as the Prime currency used when querying the Bankers Selling Rate table.  This means that finding the equivalent amount to be charged in the Payment (To) currency is multiplicative.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        Activation date is set to far future date for every environments except DEV and Special ATSEv2 historical daily server.
        <p class="c"><FAM=atsev2>DYNAMIC LOADABLE/COMMON FUNCTIONAL::ICER_ACTIVATION_DATE = Y <FAM=atsev2>COMMON FUNCTIONAL/ICER_ACTIVATION_DATE = 2025-04-01 <FAM=atsev2><APP=historical><ENV=dev>COMMON FUNCTIONAL/ICER_ACTIVATION_DATE = 2015-03-07
        <p class="c"><FAM=atsev2><APP=historical><ENV=daily><NOD=pithli120>COMMON FUNCTIONAL/ICER_ACTIVATION_DATE = 2015-03-07
Resolution/QA recommendation:
        QA can test ICER with the following IPA.
        <color=#1f497d>IPA-PITHLI120:57003</color>
Entry/XML to recreate:
        *M                                                              
        TSTSA                                                           
        *IA*P6                                                          
         1 BA 249N 22MAR S LHRGIG SS1  1230P  905P /DCBA                
         2 BA 248N 01APR W GIGLHR SS1   940P  100P  02APR Q /DCBA       
        7YXF.HDQ*Y2K 1221/16MAR15
Example before:
        WP                                                              
        22MAR DEPARTURE DATE-----LAST DAY TO PURCHASE 19MAR/2359        
               BASE FARE      EQUIV AMT  TAXES/FEES/CHARGES    TOTAL    
         1-    GBP469.00     <color=red>BRL2190.56    1651.30XT      BRL3841.86ADT</color> 
            XT     81.68BR     976.16YQ     397.01GB     196.45UB       
                  469.00        2190.56    1651.30           3841.86TTL 
        ADT-01  NLBCRGB                                                 
         LON BA RIO367.23BA LON367.23NUC734.46END ROE0.638555 
        WPDF                                                            
        WPDF                                                            
        PSGR TYPE ADT                                                   
        FARE  GBP   469.00  EQUIV  BRL    2190.56                       
        TAX   BRL   1651.30XT                                           
        TOTAL BRL     3841.86                                           
        LON BA RIO367.23BA LON367.23NUC734.46END ROE0.638555            
        XT 81.68BR 976.16YQ 397.01GB 196.45UB                           
        <color=red>RATE USED 1GBP-4.6707146193367BRL                              </color> 
        /////////////// TRAFFIC DOCUMENT ISSUED IN RIO ///////////////  
        PU -FARE BASIS-CUR  NUC AMT ELEMENT DESCRIPTION ----------- GI  
        01 NLBCRGB     GBP   367.23 LON-RIO BA /HR RTG              AT  
        01 NLBCRGB     GBP   367.23 LON-RIO BA /HR RTG              AT  
                             734.46    -    TOTAL NUC                   
        -TAX AMT/BRL/-- CUR  CODES  DESCRIPTION------------------------ 
              976.16        /YQF SERVICE FEE - FUEL                     
                 488.08:GBP   104.50 *LHR* *BA*                         
                 488.08:GBP   104.50 *GIG* *BA*                         
               81.68        BR/BR3 DOES NOT APPLY TO TRANSIT PASSENGERS 
                  81.68:BRL    81.68 *GIG* *BA*      
              397.01        GB/GB6 AIR PASSENGER DUTY APD               
                 397.01:GBP    85.00 *LHR* *BA*                         
              196.45        GB/UB6 INTERNATIONAL DPTRS IOM THROUGH LTN  
                 196.45:GBP    42.06 *LHR* *BA*                         
        -IATA RATES OF EXCHANGE USED IN FARE CALCULATION -------------- 
         0.6385550000  GBP-ROE  EFF 01JAN15*INDEF                       
        -BSR USED IN FARE CALCULATION --------------------------------- 
         <color=red>1GBP:4.6707146193367BRL  </color>                                      
        -BSR USED IN TAX CALCULATION ---------------------------------- 
         <color=red>1GBP:4.6707146193367BRL                                       </color> 
        -PRICING UNIT TRIP TYPE --------------------------------------- 
          PU 01 - SPECIAL ROUND TRIP     
        FQLONGIG22MAR-BA                                                
        LON-RIO       CXR-BA       SUN 22MAR15                     BRL  
        THE FOLLOWING CARRIERS ALSO PUBLISH FARES LON-RIO:              
        AA AB AC AF AM AR AT AV AY AZ BD CA CO CX DE DL EK ET EY IB JJ  
        KE KL LA LH LX OU QR RG SA SK SQ TK TP UA US UX VR VS YY        
        ADDITIONAL CARRIERS PARTICIPATE IN YY FARES                     
        //SEE FQHELP FOR INFORMATION ABOUT THE NEW FARE DISPLAYS//      
          ALL FEES/TAXES/SVC CHARGES INCLUDED WHEN ITINERARY PRICED     
          SURCHARGE FOR PAPER TICKET MAY BE ADDED WHEN ITIN PRICED      
        <color=red>GBP CONVERTED TO BRL USING BSR 1 BRL - 0.2141 GBP              </color> 
        BA     LONRIO.AT       22MAR15          MPM  6924               
            V FARE BASIS     BK    FARE   TRAVEL-TICKET AP  MINMAX  RTG 
          1   NLVIAMAD       N R  <color=red>1882.29    </color> ----      -/3 SU/12M AT01 
          2   SLVIAMAD       S R  2129.84     ----      -/3 SU/12M AT01 
          3   NLBCRGB        N R  2190.56     ----      -/3 SU/12M AT02 
          4   SLBCRGB        S R  2433.44     ----      -/3 SU/12M AT02 
          5   VLVIAMAD       V R  2596.91     ----      -/3 SU/12M AT01 
          6   VLBCRGB        V R  2685.66     ----      -/3 SU/12M AT02 
          7   LLBCRGB        L R  2961.23     ----      -/3 SU/12M AT02 
          8   MLBCRGB        M R  3250.81     ----      -/3 SU/12M AT02 
        DC GBP469/BRL                                                   
        ATSE V2 IN PROGRESS - PLEASE WAIT                               
        <color=red>RATE BSR 1BRL - 0.2141            GBP                          </color> 
        BRL        2190.565   TRUNCATED                                 
        BRL        <color=red>2190.56   </color> ROUNDED DOWN TO      0.01   - FARES       
        BRL        2190.56    NO ROUNDING          0      - TAXES
Example after:
        WPIPA-LTXL0238:17788                                            
        22MAR DEPARTURE DATE-----LAST DAY TO PURCHASE 19MAR/2359        
               BASE FARE      EQUIV AMT  TAXES/FEES/CHARGES    TOTAL    
         1-    GBP469.00     <color=#00ff00>BRL2196.56    1655.59XT      BRL3852.15ADT</color> 
            XT     81.68BR     978.84YQ     398.09GB     196.98UB       
                  469.00        2196.56    1655.59           3852.15TTL 
        ADT-01  NLBCRGB                                                 
         LON BA RIO367.23BA LON367.23NUC734.46END ROE0.638555 
        WPDF                                                            
        WPDF                                                            
        PSGR TYPE ADT                                                   
        FARE  GBP   469.00  EQUIV  BRL    2196.56                       
        TAX   BRL   1655.59XT                                           
        TOTAL BRL     3852.15                                           
        LON BA RIO367.23BA LON367.23NUC734.46END ROE0.638555            
        XT 81.68BR 978.84YQ 398.09GB 196.98UB                           
        <color=#00ff00>RATE USED 1GBP-4.6835000000000BRL                              </color> 
        /////////////// TRAFFIC DOCUMENT ISSUED IN RIO ///////////////  
        PU -FARE BASIS-CUR  NUC AMT ELEMENT DESCRIPTION ----------- GI  
        01 NLBCRGB     GBP   367.23 LON-RIO BA /HR RTG              AT  
        01 NLBCRGB     GBP   367.23 LON-RIO BA /HR RTG              AT  
                             734.46    -    TOTAL NUC                   
        -TAX AMT/BRL/-- CUR  CODES  DESCRIPTION------------------------ 
              978.84        /YQF SERVICE FEE - FUEL                     
                 489.42:GBP   104.50 *LHR* *BA*                         
                 489.42:GBP   104.50 *GIG* *BA*                         
               81.68        BR/BR3 DOES NOT APPLY TO TRANSIT PASSENGERS 
                  81.68:BRL    81.68 *GIG* *BA* 
              398.09        GB/GB6 AIR PASSENGER DUTY APD               
                 398.09:GBP    85.00 *LHR* *BA*                         
              196.98        GB/UB6 INTERNATIONAL DPTRS IOM THROUGH LTN  
                 196.98:GBP    42.06 *LHR* *BA*                         
        -IATA RATES OF EXCHANGE USED IN FARE CALCULATION -------------- 
         0.6385550000  GBP-ROE  EFF 01JAN15*INDEF                       
        -BSR USED IN FARE CALCULATION --------------------------------- 
        <color=#00ff00> 1GBP:4.6835000000000BRL                                       </color> 
        -BSR USED IN TAX CALCULATION ---------------------------------- 
         <color=#00ff00>1GBP:4.6835000000000BRL                                       </color> 
        -PRICING UNIT TRIP TYPE --------------------------------------- 
          PU 01 - SPECIAL ROUND TRIP                                 
        FQLONGIG22MAR-BA IPA-LTXL0238:17788                             
        LON-RIO       CXR-BA       SUN 22MAR15                     BRL  
        THE FOLLOWING CARRIERS ALSO PUBLISH FARES LON-RIO:              
        AA AB AC AF AM AR AT AV AY AZ BD CA CO CX DE DL EK ET EY IB JJ  
        KE KL LA LH LX OU QR RG SA SK SQ TK TP UA US UX VR VS YY        
        ADDITIONAL CARRIERS PARTICIPATE IN YY FARES                     
        //SEE FQHELP FOR INFORMATION ABOUT THE NEW FARE DISPLAYS//      
          ALL FEES/TAXES/SVC CHARGES INCLUDED WHEN ITINERARY PRICED     
          SURCHARGE FOR PAPER TICKET MAY BE ADDED WHEN ITIN PRICED      
        <color=#00ff00>GBP CONVERTED TO BRL USING BSR 1 GBP - 4.6835 BRL              </color> 
        BA     LONRIO.AT       22MAR15          MPM  6924               
            V FARE BASIS     BK    FARE   TRAVEL-TICKET AP  MINMAX  RTG 
          1   NLVIAMAD       N R  <color=#00ff00>1887.45 </color>    ----      -/3 SU/12M AT01 
          2   SLVIAMAD       S R  2135.67     ----      -/3 SU/12M AT01 
          3   NLBCRGB        N R  2196.56     ----      -/3 SU/12M AT02 
          4   SLBCRGB        S R  2440.10     ----      -/3 SU/12M AT02 
          5   VLVIAMAD       V R  2604.02     ----      -/3 SU/12M AT01 
          6   VLBCRGB        V R  2693.01     ----      -/3 SU/12M AT02 
          7   LLBCRGB        L R  2969.33     ----      -/3 SU/12M AT02 
          8   MLBCRGB        M R  3259.71     ----      -/3 SU/12M AT02 
        DC GBP469/BRL (with XML request)
        <CurrencyConversionResponse>
          <MSG N06="X" Q0K="000003" S18="<color=#00ff00>RATE BSR 1GBP -  4.6835          </color> BRL" />
          <MSG N06="X" Q0K="000004" S18="BRL        2196.561   TRUNCATED" />
          <MSG N06="X" Q0K="000005" S18="BRL        <color=#00ff00>2196.56   </color> ROUNDED DOWN TO      0.01   - FARES" />
          <MSG N06="X" Q0K="000006" S18="BRL        2196.56    NO ROUNDING          0      - TAXES" />
        </CurrencyConversionResponse>
Files updated:
        Common/BSRCurrencyConverter.cpp
        FareDisplay/FDCurrencyConvTextGenerator.cpp
        FareDisplay/Templates/FQCurrencyConversionSection.cpp
        Xform/FareDisplayResponseXMLTags.cpp
        Xform/PricingResponseFormatter.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [X] Taxes
        [X] Currency
        [ ] Mileage
        [ ] Baggage
        [X] Reissue/Exchange
        [X] Other: WPDF
Schema update: 
        [ ] Yes
Developer: Nakamon Thamsiriboon
Code reviewers: Alexander Zagrebin/Mike Arterburn
BA: Stan Ovrevik
QA: Kaleshia Newsome-Kjaun

Title: Added F9 to GTC carrier list
Date: 03/16/2015
Description:
        Added F9 to GTC carrier list
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        PRICING_SVC\GTC_CARRIERS = 3K|4N|7M|8P|BH|BL|F9|GK|JQ|LI|MO|NK|V2|VF|WG|WJ
Resolution/QA recommendation:
        N/A
Entry/XML to recreate:
        N/A
Example before:
        N/A
Example after:
        N/A
Files updated:
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Mohammad Hossan
Code reviewers: Andrea Yang
BA: Karin Kron
QA: 

Title: Addidional fix for APO-34720
Date: 03/17/2015
Description:
        Addidional fix for APO-34720
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        APO34720_SELECT_DATE_IN_CAT5_FOR_EXC = N
Resolution/QA recommendation:
        n/a
Entry/XML to recreate:
        n/a
Example before:
        n/a
Example after:
        n/a
Files updated:
        Rules/AdvanceResTkt.cpp
Unit tests files:
        n/a
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [X] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Szczurek
Code reviewers: Grzegorz Wanke
BA: Karin Kron
QA: n/a

Title: [EXS4B] Fix Max Price logic
Date: 03/17/2015
Description:
        [EXS4B] Fix Max Price logic
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        n/a
Resolution/QA recommendation:
        n/a
Entry/XML to recreate:
        n/a
Example before:
        n/a
Example after:
        n/a
Files updated:
        DataModel/FareMarket.cpp
        DataModel/FareMarket.h
        DataModel/RexExchangeTrx.h
Unit tests files:
        n/a
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [X] Other: ShpHist
Schema update: 
        [ ] Yes
Developer: Grzegorz Szczurek
Code reviewers: Grzegorz Wanke
BA: n/a
QA: Tomasz Lurka

Title: [TNS] Fix assertion in cabin higher than economy requested scenario
Date: 03/17/2015
Description:
        There was one line of code missing in the logic that combines brands on different segments within the same cabin. Brand filtering with an empty filter was called which triggered an assertion and it stopped the whole transaction
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        .
Resolution/QA recommendation:
        Retest filtering brands by cabin
        Retest brand matching by cabin logic.
Entry/XML to recreate:
        <ShoppingRequest N06="M" D70="120" STK="picli304:27037 2015-03-17T09:10:51 34b8">
          <AGI A10="LHR" A20="5OUA" A21="AS3B" AB0="9122553" AB1="9122553" A90="AZZ" N0G="*" B00="1S" C40="GBP" Q01="48" A80="5OUA"/>
          <BIL A20="5OUA" A22="5OUA" A70="JR" Q03="925" Q02="2902" AE0="AA" AD0="141CD0" AA0="AZZ" C00="2887545882495514311" C01="2887545882495514311" C20="ATSEILF1"
         C21="SISXX019"/>
          <PXI B70="NEG"/>
          <PRO ACX="ASZ01" C48="GBP" D07="2015-04-08" D54="0750" P0J="T" SEZ="T" SEV="T" VCX="T" DVL="T" BFA="32"/>
          <AAF Q1K="0" B00="BA" B01="BA" Q0B="169" S05="777" P0Z="T">
            <BRD A01="LHR" D01="2015-04-13" D31="1350"/>
            <OFF A02="PVG" D02="2015-04-14" D32="0755"/>
          </AAF>
          <AAF Q1K="1" B00="BA" B01="BA" Q0B="168" S05="777" P0Z="T">
            <BRD A01="PVG" D01="2015-04-16" D31="1100"/>
            <OFF A02="LHR" D02="2015-04-16" D32="1635"/>
          </AAF>
          <AAF Q1K="2" B00="MU" B01="MU" Q0B="551" S05="332" P0Z="T">
            <BRD A01="PVG" D01="2015-04-16" D31="1230"/>
            <OFF A02="LHR" D02="2015-04-16" D32="1840"/>
          </AAF>
          <AVL Q16="0" A01="LHR" A02="PVG">
            <FBK Q1K="0" Q17="F9|A9|J9|C9|D9|R9|I9|W9|E9|T1|Y9|B9|H9|K9|M9|L9|V9|S9|N9|Q9|O9|G9"/>
          </AVL>
          <AVL Q16="1" A01="PVG" A02="LHR">
            <FBK Q1K="1" Q17="F9|A9|J9|C9|D9|R9|I9|W9|E5|T0|Y9|B9|H9|K9|M9|L9|V9|S9|N9|Q9|O9|G0"/>
          </AVL>
          <AVL Q16="2" A01="PVG" A02="LHR">
            <FBK Q1K="2" Q17="J9|C9|D9|I9|O9|Y9|B9|M9|E9|H9|K9|L9|N9|R9|S9|V9|T9|G9|Z9|Q9|U9|X9"/>
          </AVL>
          <LEG Q14="0" B31="C">
            <SOP Q15="0">
              <FID Q1K="0"/>
              <AID Q16="0"/>
            </SOP>
          </LEG>
          <LEG Q14="1" B31="C">
            <SOP Q15="0">
              <FID Q1K="1"/>
              <AID Q16="1"/>
            </SOP>
            <SOP Q15="1">
              <FID Q1K="2"/>
              <AID Q16="2"/>
            </SOP>
          </LEG>
          <ITN NUM="0" Q5Q="0" C65="0" PVT="T" FBR="T">
            <SID Q14="0" Q15="0">
              <BKK B30="R" B31="C"/>
            </SID>
            <SID Q14="1" Q15="0">
              <BKK B30="R" B31="C"/>
            </SID>
          </ITN>
          <ITN NUM="1" Q5Q="1" C65="0">
            <SID Q14="0" Q15="0">
              <BKK B30="C" B31="C"/>
            </SID>
            <SID Q14="1" Q15="1">
              <BKK B30="I" B31="C"/>
            </SID>
          </ITN>
          <OND A01="LON" A02="SHA" D01="2015-04-13"/>
          <OND A01="SHA" A02="LON" D01="2015-04-16"/>
          <CMD>JR.LON/S-OCSHA9MAR13008/S-OCLON12MAR10008/W-1234/I-NYYYN/X-ZB/P-1NEG/N-ASZ01/Z-12/H-Y/K-0/B-Y</CMD>
        </ShoppingRequest><br>
Example before:
        assertion fail - system exception
Example after:
        response returned.
Files updated:
        /Common/TNBrands/TNBrandsFunctions.cpp
Unit tests files:
        .
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Michal Mlynek
Code reviewers: Andrzej Fediuk
BA: Arkadiusz Smoragiewicz
QA: Lukasz Rak

Title: [TNS] Detailed soldout statuses for Brands in TN Shopping
Date: 03/17/2015
Description:
        Reusing soldout statuses ( not available/not offered/no fares found ) in Brands for TN Shopping project.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        to deactivate set FALLBACK_SOLDOUT_STATUSES_FOR_TN to Y
Resolution/QA recommendation:
        Prepare a request in which itineraries are priced in various combination of brands. On a given segment zero out all booking codes in a given brand. Combination of brands that consists of this segment should now fail and be displayed with "A" ( soldout ) status.
        Now remove those zeroed booking codes from that segment altogether. This time error message should be "O" ( not offered )
        For cases in which itins are not priced althouth there is valid availability the system should display "F" ( no combinable fares found ) error message
Entry/XML to recreate:
Example before:
        all the statuses were set to "A"
Example after:
        soldout statuses reflect the reason a given itin couldn't be priced
Files updated:
        Common/FallBack.cpp
        Common/TNBrands/ItinBranding.h
        DataModel/TNBrandsTypes.h
        Pricing/FareMarketMerger.cpp
        Xform/XMLShoppingResponse.cpp
        Xform/XMLShoppingResponse.h
        Xform/XMLShoppingSoloCarnivalResponse.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Michal Mlynek
Code reviewers: Andrzej Fediuk, Artur De Sousa Rocha
BA: Arkadiusz Smoragiewicz
QA: Lukasz Rak

Title: APO-36234 consider fare directionality in mapping
Date: 03/17/2015
Description:
        like in title, for fare bytes & adv purchases
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        DYNAMIC_LOADABLE\FALLBACK_SECTION::EXCHANGE_MAPPING_APO_36234
        FALLBACK_SECTION\EXCHANGE_MAPPING_APO_36234
Resolution/QA recommendation:
Entry/XML to recreate:
        <RexPricingRequest S96="AR" SA8="FE" N25="A" N26="A"> 
           <AGI A10="HNL" A20="9RR1" A21="9RR1" AB0="9618811" AB1="9618811" A90="HXT" N0G="*" A80="9RR1" B00="1S" C40="USD" Q01="34" AE0="1S " /> 
           <BIL S0R="PSS" A20="9RR1" Q03="91" Q02="2764" AE0="AA" AD0="6B1C73" A22="9RR1" AA0="HXT" C20="MANUALCONSTRUCTEDXML" C01="149742127567950083" A70="WFR" /> 
           <PRO C10="690" B05="B6" C45="USD" D92="2013-06-18" D93="2013-06-18" D07="2013-10-07" D54="0291" PBK="T" AE0="AA" PBZ="T" Q0P="1" C5A="494.00" PCG="N" Q16="03" P0J="T" S13="DLZCEB" S14="MANUALLY CONSTRUCTED" S15="CRSAGT" AP1="HNL" P69="T" /> 
           <DIG S01="" /> 
           <DIG S01="" /> 
           <PXI B70="ADT" Q0U="01" Q79="01" /> 
           <EXC> 
             <AGI A10="HNL" A20="9RR1" A80="9RR1" A21="9RR1" AB0="9618811" AB1="9618811" A90="HXT" N0G="*" B00="1S" C40="USD" AE0="1S " /> 
             <PRO B05="B6" C6P="USD" C6Y="NUC" D92="2013-06-18" D07="2013-10-07" D54="0291" PBK="T" AE0="AA" PBZ="T" Q0P="1" Q6B="000000001.00" C5A="494.00" PCG="F" Q16="03" P0J="F" S13="DLZCEB" S14="MANUALLY CONSTRUCTED" S15="CRSAGT" P69="T" /> 
             <PXI B70="ADT" Q0U="01" /> 
             <SGI Q0C="01" B50="BH00AE4U" C50="330.00" A01="JFK" A02="BDA" Q6D="01" PCI="F" S89="5" S90="204U" S37="ATP" P74="T" C48="USD" B09="B6"> 
               <FLI Q0C="01" N03="A" B00="B6" B01="B6" A01="JFK" A02="BDA" B30="B" D01="2013-07-10" Q0B="1731" D02="2013-07-10" D00="2013-06-18" D30="0184" D31="0424" D32="0617" BB2="SS" BB0="OK" /> 
               <SUR N0F="Q" C69="15.00" /> 
             </SGI> 
             <SGI Q0C="02" B50="UI21AE2U" C50="124.00" A01="BDA" A02="JFK" Q6D="02" PCI="F" S89="5" S90="202U" S37="ATP" P74="T" C48="USD" B09="B6"> 
               <FLI Q0C="02" N03="A" B00="B6" B01="B6" A01="BDA" A02="JFK" B30="U" D01="2013-07-15" Q0B="1732" D02="2013-07-15" D00="2013-06-18" D30="0433" D31="0673" D32="0752" BB0="OK" /> 
             </SGI> 
           </EXC> 
           <SGI Q0C="01" A01="BDA" A02="JFK" PCI="F" C48="USD"> 
             <FLI Q0C="01" N03="A" B00="B6" B01="B6" A01="BDA" A02="JFK" B30="M" D01="2014-06-15" Q0B="1732" D02="2014-06-15" D00="2014-04-29" D30="0351" D31="0673" D32="0752" BB2="SS" BB0="OK" /> 
           </SGI> 
           <RES> 
             <RLS B01="AA " S13="DLZCEB" /> 
             <RLS B01="B6 " S13="HYPMDF" /> 
             <IDS B00="B6 " Q0B="1732" B30="M " D01="2014-06-15" D31="1113" A01="BDA" D02="2014-06-15" D32="1232" A02="JFK" A70="SS" Q0U="01" N0V="J" P2X="ET" /> 
             <POC A03="BDA" D01="2014-06-15" D02="1113" /> 
           </RES> 
         </RexPricingRequest>
Example before:
        689
        FARE BYTES MAP FOR INTERNATIONAL TICKET
          EXC FC 1 DO NOT MATCH
          EXC FC 2 CITY-CITY       MATCH: BDA-NYC<br>
Example after:
        689
        MAPPING FOR INTERNATIONAL TICKET
          EXC FC 1 DO NOT MATCH
          EXC FC 2 DO NOT MATCH<br>
Files updated:
        Common/FallBack.cpp
        RexPricing/GenericRexMapper.cpp
        RexPricing/RepriceSolutionValidator.cpp
        RexPricing/RexFareBytesValidator.h<br>
Unit tests files:
        RexPricing/test/RexFareBytesValidatorTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Wanke
Code reviewers: Grzegorz Szczurek
BA: Karin Kron
QA: 

Title: [AB-240] Do not add Group PT in Baggage Disclosure
Date: 03/17/2015
Description:
        There is still issue when RFG GBA="OCF" and RFG GBA="DXT" is requested: in the response there 
        is two PT group (first with one OSC element and second with NOT FOUND status).
        http://asjira.sabre.com/browse/SSDMPS-85
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        Changes are controlled by FALLBACK_AB240.
Resolution/QA recommendation:
Entry/XML to recreate:
        <AncillaryPricingRequest xmlns="http://www.atse.sabre.com/ancillarypricing/Request" Version="3.0.0">
         <AGI A10="LCA" A20="0D4G" A21="0D4G" A80="0D4G" A90="AHY" AB0="1421032" AB1="1421032" B00="1S" C40="EUR" N0G="*" Q01="38" />
         <BIL A20="0D4G" A22="0D4G" A70="A" AA0="AHY" AD0="35459B" AE0="AA" C00="730478756899327636" C20="ANCPRICE" Q02="2902" Q03="925" S0R="PANC" />
         <PRO AF0="LCA" AG0="LCA" PS1="T" S14="WPS2" TKI="T">
         <RFG GBA="DXT" />
         <RFG GBA="OCF" />
         </PRO>
         <ITN Q00="1">
         <SGI Q00="2">
         <FLI A01="TLV" A02="LCA" B00="LY" B01="LY" B30="N" BB0="OK" C7B="T" D01="2015-03-11" D02="2015-03-11" D31="1540" D32="1650" Q0B="2431" />
         </SGI>
         </ITN>
         <ITN Q00="2">
         <IRO>
         <PXI B70="ADT" Q0U="3" />
         </IRO>
         <SGI Q00="2">
         <FLI A01="TLV" A02="LCA" B00="LY" B01="LY" B30="N" BB0="OK" C7B="T" D01="2015-03-11" D02="2015-03-11" D31="1540" D32="1650" N0E="Y" Q0B="2431" />
         <FBA Q6D="1" />
         </SGI>
         <FBI B02="LY" B50="NLIESHB" C50="32.00" FTY="00" Q00="1" Q3W="22" S37="ATP" S53="XPF" S90="LRF7" />
         </ITN>
        </AncillaryPricingRequest>
Example before:
        <AncillaryPricingResponse xmlns="http://www.atse.sabre.com/AncillaryPricing/Response">
         <ITN Q00="2">
         <MSG N06="X" Q0K="0" S18="ADT-03" />
         <MSG N06="X" Q0K="0" S18="BAG ALLOWANCE -TLVLCA-NIL/LY" />
         <MSG N06="X" Q0K="0" S18="1STCHECKED BAG FEE-TLVLCA-USD70.00/LY/UP TO 50 POUNDS/23 KILOGR" />
         <MSG N06="X" Q0K="0" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
         <MSG N06="X" Q0K="0" S18="2NDCHECKED BAG FEE-TLVLCA-USD70.00/LY/UP TO 50 POUNDS/23 KILOGR" />
         <MSG N06="X" Q0K="0" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
         <MSG N06="X" Q0K="0" S18="CARRY ON ALLOWANCE" />
         <MSG N06="X" Q0K="0" S18="TLVLCA-01P/LY" />
         <MSG N06="X" Q0K="0" S18="01/UP TO 18 POUNDS/8 KILOGRAMS AND UP TO 45 LINEAR INCHES/115 L" />
         <MSG N06="X" Q0K="0" S18="INEAR CENTIMETERS" />
         <MSG N06="X" Q0K="0" S18="CARRY ON CHARGES" />
         <MSG N06="X" Q0K="0" S18="TLVLCA-LY-CARRY ON FEES UNKNOWN-CONTACT CARRIER" />
         <MSG N06="X" Q0K="0" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY" />
         <OCG Q00="0" SF0="BD">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="9" SF0="BG">
         <OSC SHK="0CC" SFF="CHECKED BAG FIRST" SFV="ATP" B01="LY" N01="C" SHL="XBAF" N02="2" SFN="01" AST="F">
         <SDC DC1="B1" D00="FIRST BAG" />
         <OOS N11="S" A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="70.00" C5A="USD" C52="66.68" C5B="EUR" N21="X" C50="66.68" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="N" />
         </OOS>
         </OSC>
         <OSC SHK="0CD" SFF="CHECKED BAG SECOND" SFV="ATP" B01="LY" N01="C" SHL="XBAS" N02="2" SFN="01" AST="F">
         <SDC DC1="B2" D00="SECOND BAG" />
         <OOS N11="S" A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="70.00" C5A="USD" C52="66.68" C5B="EUR" N21="X" C50="66.68" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="N" />
         </OOS>
         </OSC>
         <OSC SHK="0CE" SFF="CHECKED BAG THIRD" SFV="ATP" B01="LY" N01="C" SHL="XBAT" N02="2" SFN="01" AST="F">
         <SDC DC1="B3" D00="THIRD BAG" />
         <OOS N11="S" A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="70.00" C5A="USD" C52="66.68" C5B="EUR" N21="X" C50="66.68" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="N" />
         </OOS>
         </OSC>
         <OSC SHK="0CF" SFF="CHECKED BAG FOURTH" SFV="ATP" B01="LY" N01="C" SHL="XBAA" N02="2" SFN="01" AST="F">
         <SDC DC1="B4" D00="FOURTH BAG" />
         <OOS N11="S" A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="70.00" C5A="USD" C52="66.68" C5B="EUR" N21="X" C50="66.68" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="N" />
         </OOS>
         </OSC>
         <OSC SHK="0CG" SFF="CHECKED BAG FIFTH" SFV="ATP" B01="LY" N01="C" SHL="XBAB" N02="2" SFN="01" AST="F">
         <SDC DC1="B5" D00="FIFTH BAG" />
         <OOS N11="S" A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="70.00" C5A="USD" C52="66.68" C5B="EUR" N21="X" C50="66.68" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="N" />
         </OOS>
         </OSC>
         <OSC SHK="0EC" SFF="BICYCLE" SFV="ATP" B01="LY" N01="C" SHL="BIKE" N02="2" SFN="01" ASG="SP" ASD="SPORTING EQUIPMENT" AST="F">
         <SDC DC1="BI" D00="BICYCLE" />
         <OOS N11="S" A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="70.00" C5A="USD" C52="66.68" C5B="EUR" N21="X" C50="66.68" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="N" />
         </OOS>
         </OSC>
         <OSC SHK="0EF" SFF="SPORTING EQUIPMENT SMALL" SFV="ATP" B01="LY" N01="C" SHL="SPEQ" N02="2" SFN="01" ASG="SP" ASD="SPORTING EQUIPMENT" AST="F">
         <SDC DC1="SM" D00="SMALL" />
         <OOS N11="S" A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="70.00" C5A="USD" C52="66.68" C5B="EUR" N21="X" C50="66.68" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="N" />
         </OOS>
         </OSC>
         <OSC SHK="0ID" SFF="EXCESS SIZE" SFV="ATP" B01="LY" N01="C" SHL="EXSZ" N02="2" SFN="01" AST="F">
         <SDC DC1="X9" D00="EXCESS SIZE" />
         <OOS N11="S" A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="100.00" C5A="USD" C52="95.25" C5B="EUR" N21="X" C50="95.25" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="N" />
         </OOS>
         </OSC>
         <OSC SHK="0IK" SFF="EXCESS WEIGHT" SFV="ATP" B01="LY" N01="C" SHL="EXSW" N02="2" SFN="01" AST="F">
         <SDC DC1="X8" D00="EXCESS WEIGHT" />
         <OOS N11="S" A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="70.00" C5A="USD" C52="66.68" C5B="EUR" N21="X" C50="66.68" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="N" />
         </OOS>
         </OSC>
         </OCG>
         <OCG Q00="0" SF0="FF">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="GT">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="IE">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="LG">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="MD">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="ML">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="1" SF0="PT">
         <OSC SHK="0BT" SFF="PET IN CABIN" SFV="ATP" B01="LY" N01="C" SHL="PETC" N02="2" SFN="01" ASG="PC" ASD="IN CABIN" AST="F">
         <OOS N11="S" A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="100.00" C5A="USD" C52="95.25" C5B="EUR" N21="X" C50="95.25" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="N" />
         </OOS>
         </OSC>
         </OCG>
         <OCG Q00="1" SF0="SA">
         <OSC SHK="0B5" SFF="PRE RESERVED SEAT ASSIGNMENT" SFV="ATP" B01="LY" N01="A" SHL="SEAT" N02="2" SFN="01" AST="F">
         <OOS N11="S" A01="TLV" A02="LCA" SEQ="89080" URT="7084">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="50.00" C5A="USD" C52="47.63" C5B="EUR" N21="X" C50="47.63" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="N" />
         <PSP>
         <UPC SEU="1">
         <PDS PDI="O" PCA="PRFST" SED="PREFERRED" />
         </UPC>
         </PSP>
         <TTX TXT="ECONOMY PLUS SEAT" />
         </OOS>
         <OOS N11="S" A01="TLV" A02="LCA" SEQ="89090" URT="5069">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="40.00" C5A="USD" C52="38.10" C5B="EUR" N21="X" C50="38.10" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="N" />
         <PSP>
         <UPC SEU="1">
         <PDS PDI="L" PCA="LEGSP" SED="LEG SPACE" />
         </UPC>
         </PSP>
         <TTX TXT="LEG SPACE SEAT" />
         </OOS>
         <OOS N11="S" A01="TLV" A02="LCA" SEQ="91414">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="10.00" C5A="USD" C52="9.53" C5B="EUR" N21="X" C50="9.53" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="N" />
         <TTX TXT="ANY CHARGEABLE SEAT IN ECONOMY" />
         </OOS>
         </OSC>
         </OCG>
         <OCG Q00="0" SF0="SB">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="TS">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="1" SF0="UN">
         <OSC SHK="0BH" SFF="UNACCOMPANIED MINOR" SFV="ATP" B01="LY" N01="E" SHL="UMNR" N02="2" SFN="01" ASG="MR" ASD="UNACCOMPANIED MINOR" AST="F">
         <OOS N11="S" A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="100.00" C5A="USD" C52="95.25" C5B="EUR" N21="X" C50="95.25" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="N" />
         </OOS>
         </OSC>
         </OCG>
         <OCG Q00="0" SF0="UP">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="10" SF0="BG">
         <OSC SHK="0DF" SFF="FREE BAGGAGE ALLOWANCE" SFV="ATP" B01="LY" N02="4" AST="A">
         <OOS A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="F" />
         <BGA BPC="0" />
         </OOS>
         </OSC>
         <OSC SHK="0E6" SFF="UPTO50LB 23KG AND109LI 277LCM" SFV="ATP" B01="LY" N02="4" AST="C">
         <BIR B20="50" N0D="L" L01="U" />
         <BIR B20="23" N0D="K" L01="U" />
         <BIR B20="109" N0D="I" L01="U" />
         <BIR B20="277" N0D="C" L01="U" />
         <SDC DC1="23" D00="UP TO 50 POUNDS/23 KILOGRAMS" />
         <SDC DC1="9S" D00="UP TO 109 LINEAR INCHES/277 LINEAR CENTIMETERS" />
         <OOS A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="170.00" C5A="USD" C52="162.00" C5B="EUR" N21="X" C50="162.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="Y" />
         <BGD OC1="1" OC2="5" />
         </OOS>
         <OOS A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="0.00" C5B="EUR" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT P01="T" N43="X" />
         <BGD OC1="-1" OC2="-1" />
         </OOS>
         </OSC>
         <OSC SHK="0EC" SFF="BICYCLE" SFV="ATP" B01="LY" N02="4" ASG="SP" ASD="SPORTING EQUIPMENT" AST="C">
         <SDC DC1="BI" D00="BICYCLE" />
         <OOS A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="70.00" C5A="USD" C52="67.00" C5B="EUR" N21="X" C50="67.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="Y" />
         <BGD OC1="1" OC2="1" />
         </OOS>
         </OSC>
         <OSC SHK="0EF" SFF="SPORTING EQUIPMENT SMALL" SFV="ATP" B01="LY" N02="4" ASG="SP" ASD="SPORTING EQUIPMENT" AST="C">
         <SDC DC1="SM" D00="SMALL" />
         <OOS A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="70.00" C5A="USD" C52="67.00" C5B="EUR" N21="X" C50="67.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="Y" />
         <BGD OC1="1" OC2="1" />
         </OOS>
         </OSC>
         <OSC SHK="0EG" SFF="SPORTING EQUIPMENT MEDIUM" SFV="ATP" B01="LY" N02="4" ASG="SP" ASD="SPORTING EQUIPMENT" AST="C">
         <SDC DC1="MD" D00="MEDIUM" />
         <OOS A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="70.00" C5A="USD" C52="67.00" C5B="EUR" N21="X" C50="67.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="Y" />
         <BGD OC1="1" OC2="1" />
         </OOS>
         </OSC>
         <OSC SHK="0EH" SFF="SPORTING EQUIPMENT LARGE" SFV="ATP" B01="LY" N02="4" ASG="SP" ASD="SPORTING EQUIPMENT" AST="C">
         <SDC DC1="LG" D00="LARGE" />
         <OOS A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="70.00" C5A="USD" C52="67.00" C5B="EUR" N21="X" C50="67.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="Y" />
         <BGD OC1="1" OC2="1" />
         </OOS>
         </OSC>
         <OSC SHK="0FE" SFF="UPTO70LB 32KG AND109LI 277LCM" SFV="ATP" B01="LY" N02="4" AST="C">
         <BIR B20="70" N0D="L" L01="U" />
         <BIR B20="32" N0D="K" L01="U" />
         <BIR B20="109" N0D="I" L01="U" />
         <BIR B20="277" N0D="C" L01="U" />
         <SDC DC1="32" D00="UP TO 70 POUNDS/32 KILOGRAMS" />
         <SDC DC1="9S" D00="UP TO 109 LINEAR INCHES/277 LINEAR CENTIMETERS" />
         <OOS A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="240.00" C5A="USD" C52="229.00" C5B="EUR" N21="X" C50="229.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="Y" />
         <BGD OC1="1" OC2="5" />
         </OOS>
         <OOS A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="0.00" C5B="EUR" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT P01="T" N43="X" />
         <BGD OC1="-1" OC2="-1" />
         </OOS>
         </OSC>
         <OSC SHK="0FM" SFF="UPTO70LB 32KG AND62LI 158LCM" SFV="ATP" B01="LY" N02="4" AST="C">
         <BIR B20="70" N0D="L" L01="U" />
         <BIR B20="32" N0D="K" L01="U" />
         <BIR B20="62" N0D="I" L01="U" />
         <BIR B20="158" N0D="C" L01="U" />
         <SDC DC1="32" D00="UP TO 70 POUNDS/32 KILOGRAMS" />
         <SDC DC1="6U" D00="UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
         <OOS A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="140.00" C5A="USD" C52="134.00" C5B="EUR" N21="X" C50="134.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="Y" />
         <BGD OC1="1" OC2="5" />
         </OOS>
         <OOS A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="0.00" C5B="EUR" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT P01="T" N43="X" />
         <BGD OC1="-1" OC2="-1" />
         </OOS>
         </OSC>
         <OSC SHK="0GO" SFF="UPTO50LB 23KG AND62LI 158LCM" SFV="ATP" B01="LY" N02="4" AST="C">
         <BIR B20="50" N0D="L" L01="U" />
         <BIR B20="23" N0D="K" L01="U" />
         <BIR B20="62" N0D="I" L01="U" />
         <BIR B20="158" N0D="C" L01="U" />
         <SDC DC1="23" D00="UP TO 50 POUNDS/23 KILOGRAMS" />
         <SDC DC1="6U" D00="UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
         <OOS FDO="T" SDO="T" A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="70.00" C5A="USD" C52="67.00" C5B="EUR" N21="X" C50="67.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="Y" />
         <BGD OC1="1" OC2="5" />
         </OOS>
         </OSC>
         <OSC SHK="0LN" SFF="CARRYON HAND BAGGAGE ALLOWANCE" SFV="ATP" B01="LY" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="B">
         <OOS A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="0.00" C5B="EUR" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="F" />
         <BGA BPC="1">
         <ITR Q00="1">
         <ITT SHK="0MQ" SFF="CARRY8KG 18LB UPTO 45LI 115LCM" SFV="ATP" B01="LY" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="C">
         <BIR B20="18" N0D="L" L01="U" />
         <BIR B20="8" N0D="K" L01="U" />
         <BIR B20="45" N0D="I" L01="U" />
         <BIR B20="115" N0D="C" L01="U" />
         <SDC DC1="08" D00="UP TO 18 POUNDS/8 KILOGRAMS" />
         <SDC DC1="4U" D00="UP TO 45 LINEAR INCHES/115 LINEAR CENTIMETERS" />
         </ITT>
         </ITR>
         </BGA>
         </OOS>
         </OSC>
         </OCG>
         <OCG Q00="0" SF0="PT">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         </ITN>
        </AncillaryPricingResponse>
Example after:
        <AncillaryPricingResponse xmlns="http://www.atse.sabre.com/AncillaryPricing/Response">
         <ITN Q00="2">
         <MSG N06="X" Q0K="0" S18="ADT-03" />
         <MSG N06="X" Q0K="0" S18="BAG ALLOWANCE -TLVLCA-NIL/LY" />
         <MSG N06="X" Q0K="0" S18="1STCHECKED BAG FEE-TLVLCA-USD70.00/LY/UP TO 50 POUNDS/23 KILOGR" />
         <MSG N06="X" Q0K="0" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
         <MSG N06="X" Q0K="0" S18="2NDCHECKED BAG FEE-TLVLCA-USD70.00/LY/UP TO 50 POUNDS/23 KILOGR" />
         <MSG N06="X" Q0K="0" S18="AMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
         <MSG N06="X" Q0K="0" S18="CARRY ON ALLOWANCE" />
         <MSG N06="X" Q0K="0" S18="TLVLCA-01P/LY" />
         <MSG N06="X" Q0K="0" S18="01/UP TO 18 POUNDS/8 KILOGRAMS AND UP TO 45 LINEAR INCHES/115 L" />
         <MSG N06="X" Q0K="0" S18="INEAR CENTIMETERS" />
         <MSG N06="X" Q0K="0" S18="CARRY ON CHARGES" />
         <MSG N06="X" Q0K="0" S18="TLVLCA-LY-CARRY ON FEES UNKNOWN-CONTACT CARRIER" />
         <MSG N06="X" Q0K="0" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY" />
         <OCG Q00="0" SF0="BD">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="9" SF0="BG">
         <OSC SHK="0CC" SFF="CHECKED BAG FIRST" SFV="ATP" B01="LY" N01="C" SHL="XBAF" N02="2" SFN="01" AST="F">
         <SDC DC1="B1" D00="FIRST BAG" />
         <OOS N11="S" A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="70.00" C5A="USD" C52="66.68" C5B="EUR" N21="X" C50="66.68" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="N" />
         </OOS>
         </OSC>
         <OSC SHK="0CD" SFF="CHECKED BAG SECOND" SFV="ATP" B01="LY" N01="C" SHL="XBAS" N02="2" SFN="01" AST="F">
         <SDC DC1="B2" D00="SECOND BAG" />
         <OOS N11="S" A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="70.00" C5A="USD" C52="66.68" C5B="EUR" N21="X" C50="66.68" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="N" />
         </OOS>
         </OSC>
         <OSC SHK="0CE" SFF="CHECKED BAG THIRD" SFV="ATP" B01="LY" N01="C" SHL="XBAT" N02="2" SFN="01" AST="F">
         <SDC DC1="B3" D00="THIRD BAG" />
         <OOS N11="S" A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="70.00" C5A="USD" C52="66.68" C5B="EUR" N21="X" C50="66.68" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="N" />
         </OOS>
         </OSC>
         <OSC SHK="0CF" SFF="CHECKED BAG FOURTH" SFV="ATP" B01="LY" N01="C" SHL="XBAA" N02="2" SFN="01" AST="F">
         <SDC DC1="B4" D00="FOURTH BAG" />
         <OOS N11="S" A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="70.00" C5A="USD" C52="66.68" C5B="EUR" N21="X" C50="66.68" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="N" />
         </OOS>
         </OSC>
         <OSC SHK="0CG" SFF="CHECKED BAG FIFTH" SFV="ATP" B01="LY" N01="C" SHL="XBAB" N02="2" SFN="01" AST="F">
         <SDC DC1="B5" D00="FIFTH BAG" />
         <OOS N11="S" A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="70.00" C5A="USD" C52="66.68" C5B="EUR" N21="X" C50="66.68" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="N" />
         </OOS>
         </OSC>
         <OSC SHK="0EC" SFF="BICYCLE" SFV="ATP" B01="LY" N01="C" SHL="BIKE" N02="2" SFN="01" ASG="SP" ASD="SPORTING EQUIPMENT" AST="F">
         <SDC DC1="BI" D00="BICYCLE" />
         <OOS N11="S" A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="70.00" C5A="USD" C52="66.68" C5B="EUR" N21="X" C50="66.68" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="N" />
         </OOS>
         </OSC>
         <OSC SHK="0EF" SFF="SPORTING EQUIPMENT SMALL" SFV="ATP" B01="LY" N01="C" SHL="SPEQ" N02="2" SFN="01" ASG="SP" ASD="SPORTING EQUIPMENT" AST="F">
         <SDC DC1="SM" D00="SMALL" />
         <OOS N11="S" A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="70.00" C5A="USD" C52="66.68" C5B="EUR" N21="X" C50="66.68" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="N" />
         </OOS>
         </OSC>
         <OSC SHK="0ID" SFF="EXCESS SIZE" SFV="ATP" B01="LY" N01="C" SHL="EXSZ" N02="2" SFN="01" AST="F">
         <SDC DC1="X9" D00="EXCESS SIZE" />
         <OOS N11="S" A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="100.00" C5A="USD" C52="95.25" C5B="EUR" N21="X" C50="95.25" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="N" />
         </OOS>
         </OSC>
         <OSC SHK="0IK" SFF="EXCESS WEIGHT" SFV="ATP" B01="LY" N01="C" SHL="EXSW" N02="2" SFN="01" AST="F">
         <SDC DC1="X8" D00="EXCESS WEIGHT" />
         <OOS N11="S" A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="70.00" C5A="USD" C52="66.68" C5B="EUR" N21="X" C50="66.68" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="N" />
         </OOS>
         </OSC>
         </OCG>
         <OCG Q00="0" SF0="FF">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="GT">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="IE">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="LG">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="MD">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="ML">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="1" SF0="PT">
         <OSC SHK="0BT" SFF="PET IN CABIN" SFV="ATP" B01="LY" N01="C" SHL="PETC" N02="2" SFN="01" ASG="PC" ASD="IN CABIN" AST="F">
         <OOS N11="S" A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="100.00" C5A="USD" C52="95.25" C5B="EUR" N21="X" C50="95.25" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="N" />
         </OOS>
         </OSC>
         </OCG>
         <OCG Q00="1" SF0="SA">
         <OSC SHK="0B5" SFF="PRE RESERVED SEAT ASSIGNMENT" SFV="ATP" B01="LY" N01="A" SHL="SEAT" N02="2" SFN="01" AST="F">
         <OOS N11="S" A01="TLV" A02="LCA" SEQ="89080" URT="7084">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="50.00" C5A="USD" C52="47.63" C5B="EUR" N21="X" C50="47.63" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="N" />
         <PSP>
         <UPC SEU="1">
         <PDS PDI="O" PCA="PRFST" SED="PREFERRED" />
         </UPC>
         </PSP>
         <TTX TXT="ECONOMY PLUS SEAT" />
         </OOS>
         <OOS N11="S" A01="TLV" A02="LCA" SEQ="89090" URT="5069">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="40.00" C5A="USD" C52="38.10" C5B="EUR" N21="X" C50="38.10" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="N" />
         <PSP>
         <UPC SEU="1">
         <PDS PDI="L" PCA="LEGSP" SED="LEG SPACE" />
         </UPC>
         </PSP>
         <TTX TXT="LEG SPACE SEAT" />
         </OOS>
         <OOS N11="S" A01="TLV" A02="LCA" SEQ="91414">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="10.00" C5A="USD" C52="9.53" C5B="EUR" N21="X" C50="9.53" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="N" />
         <TTX TXT="ANY CHARGEABLE SEAT IN ECONOMY" />
         </OOS>
         </OSC>
         </OCG>
         <OCG Q00="0" SF0="SB">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="0" SF0="TS">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="1" SF0="UN">
         <OSC SHK="0BH" SFF="UNACCOMPANIED MINOR" SFV="ATP" B01="LY" N01="E" SHL="UMNR" N02="2" SFN="01" ASG="MR" ASD="UNACCOMPANIED MINOR" AST="F">
         <OOS N11="S" A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="100.00" C5A="USD" C52="95.25" C5B="EUR" N21="X" C50="95.25" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="N" />
         </OOS>
         </OSC>
         </OCG>
         <OCG Q00="0" SF0="UP">
         <MSG N06="X" Q0K="3" S18="NOT FOUND" />
         </OCG>
         <OCG Q00="10" SF0="BG">
         <OSC SHK="0DF" SFF="FREE BAGGAGE ALLOWANCE" SFV="ATP" B01="LY" N02="4" AST="A">
         <OOS A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="F" />
         <BGA BPC="0" />
         </OOS>
         </OSC>
         <OSC SHK="0E6" SFF="UPTO50LB 23KG AND109LI 277LCM" SFV="ATP" B01="LY" N02="4" AST="C">
         <BIR B20="50" N0D="L" L01="U" />
         <BIR B20="23" N0D="K" L01="U" />
         <BIR B20="109" N0D="I" L01="U" />
         <BIR B20="277" N0D="C" L01="U" />
         <SDC DC1="23" D00="UP TO 50 POUNDS/23 KILOGRAMS" />
         <SDC DC1="9S" D00="UP TO 109 LINEAR INCHES/277 LINEAR CENTIMETERS" />
         <OOS A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="170.00" C5A="USD" C52="162.00" C5B="EUR" N21="X" C50="162.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="Y" />
         <BGD OC1="1" OC2="5" />
         </OOS>
         <OOS A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="0.00" C5B="EUR" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT P01="T" N43="X" />
         <BGD OC1="-1" OC2="-1" />
         </OOS>
         </OSC>
         <OSC SHK="0EC" SFF="BICYCLE" SFV="ATP" B01="LY" N02="4" ASG="SP" ASD="SPORTING EQUIPMENT" AST="C">
         <SDC DC1="BI" D00="BICYCLE" />
         <OOS A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="70.00" C5A="USD" C52="67.00" C5B="EUR" N21="X" C50="67.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="Y" />
         <BGD OC1="1" OC2="1" />
         </OOS>
         </OSC>
         <OSC SHK="0EF" SFF="SPORTING EQUIPMENT SMALL" SFV="ATP" B01="LY" N02="4" ASG="SP" ASD="SPORTING EQUIPMENT" AST="C">
         <SDC DC1="SM" D00="SMALL" />
         <OOS A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="70.00" C5A="USD" C52="67.00" C5B="EUR" N21="X" C50="67.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="Y" />
         <BGD OC1="1" OC2="1" />
         </OOS>
         </OSC>
         <OSC SHK="0EG" SFF="SPORTING EQUIPMENT MEDIUM" SFV="ATP" B01="LY" N02="4" ASG="SP" ASD="SPORTING EQUIPMENT" AST="C">
         <SDC DC1="MD" D00="MEDIUM" />
         <OOS A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="70.00" C5A="USD" C52="67.00" C5B="EUR" N21="X" C50="67.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="Y" />
         <BGD OC1="1" OC2="1" />
         </OOS>
         </OSC>
         <OSC SHK="0EH" SFF="SPORTING EQUIPMENT LARGE" SFV="ATP" B01="LY" N02="4" ASG="SP" ASD="SPORTING EQUIPMENT" AST="C">
         <SDC DC1="LG" D00="LARGE" />
         <OOS A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="70.00" C5A="USD" C52="67.00" C5B="EUR" N21="X" C50="67.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="Y" />
         <BGD OC1="1" OC2="1" />
         </OOS>
         </OSC>
         <OSC SHK="0FE" SFF="UPTO70LB 32KG AND109LI 277LCM" SFV="ATP" B01="LY" N02="4" AST="C">
         <BIR B20="70" N0D="L" L01="U" />
         <BIR B20="32" N0D="K" L01="U" />
         <BIR B20="109" N0D="I" L01="U" />
         <BIR B20="277" N0D="C" L01="U" />
         <SDC DC1="32" D00="UP TO 70 POUNDS/32 KILOGRAMS" />
         <SDC DC1="9S" D00="UP TO 109 LINEAR INCHES/277 LINEAR CENTIMETERS" />
         <OOS A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="240.00" C5A="USD" C52="229.00" C5B="EUR" N21="X" C50="229.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="Y" />
         <BGD OC1="1" OC2="5" />
         </OOS>
         <OOS A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="0.00" C5B="EUR" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT P01="T" N43="X" />
         <BGD OC1="-1" OC2="-1" />
         </OOS>
         </OSC>
         <OSC SHK="0FM" SFF="UPTO70LB 32KG AND62LI 158LCM" SFV="ATP" B01="LY" N02="4" AST="C">
         <BIR B20="70" N0D="L" L01="U" />
         <BIR B20="32" N0D="K" L01="U" />
         <BIR B20="62" N0D="I" L01="U" />
         <BIR B20="158" N0D="C" L01="U" />
         <SDC DC1="32" D00="UP TO 70 POUNDS/32 KILOGRAMS" />
         <SDC DC1="6U" D00="UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
         <OOS A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="140.00" C5A="USD" C52="134.00" C5B="EUR" N21="X" C50="134.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="Y" />
         <BGD OC1="1" OC2="5" />
         </OOS>
         <OOS A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="0.00" C5B="EUR" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT P01="T" N43="X" />
         <BGD OC1="-1" OC2="-1" />
         </OOS>
         </OSC>
         <OSC SHK="0GO" SFF="UPTO50LB 23KG AND62LI 158LCM" SFV="ATP" B01="LY" N02="4" AST="C">
         <BIR B20="50" N0D="L" L01="U" />
         <BIR B20="23" N0D="K" L01="U" />
         <BIR B20="62" N0D="I" L01="U" />
         <BIR B20="158" N0D="C" L01="U" />
         <SDC DC1="23" D00="UP TO 50 POUNDS/23 KILOGRAMS" />
         <SDC DC1="6U" D00="UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
         <OOS FDO="T" SDO="T" A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="70.00" C5A="USD" C52="67.00" C5B="EUR" N21="X" C50="67.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="R" P03="N" P04="Y" />
         <BGD OC1="1" OC2="5" />
         </OOS>
         </OSC>
         <OSC SHK="0LN" SFF="CARRYON HAND BAGGAGE ALLOWANCE" SFV="ATP" B01="LY" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="B">
         <OOS A01="TLV" A02="LCA">
         <Q00>02</Q00>
         <SUM B70="ADT" C51="0.00" C5B="EUR" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="F" />
         <BGA BPC="1">
         <ITR Q00="1">
         <ITT SHK="0MQ" SFF="CARRY8KG 18LB UPTO 45LI 115LCM" SFV="ATP" B01="LY" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="C">
         <BIR B20="18" N0D="L" L01="U" />
         <BIR B20="8" N0D="K" L01="U" />
         <BIR B20="45" N0D="I" L01="U" />
         <BIR B20="115" N0D="C" L01="U" />
         <SDC DC1="08" D00="UP TO 18 POUNDS/8 KILOGRAMS" />
         <SDC DC1="4U" D00="UP TO 45 LINEAR INCHES/115 LINEAR CENTIMETERS" />
         </ITT>
         </ITR>
         </BGA>
         </OOS>
         </OSC>
         </OCG>
         </ITN>
        </AncillaryPricingResponse>
Files updated:
        FreeBagService/AncillaryResultProcessor.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Brajesh Tiwari
Code reviewers: Pavlo.Ovcharenko@sabre.com
BA: Joanna.Chrapek@sabre.com
QA: Grzegorz.Mozdzierz@sabre.com;Joanna.Kozlowska@sabre.com

Title: [ICER] - Skip cppunit in TrxUtilTest to prevent broken build
Date: 03/17/2015
Description:
        Skip cppunit for ICER date activation to fix broken cppuint on TrxUtilTest.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
Unit tests files:
        Common/TrxUtilTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Nakamon Thamsiriboon
Code reviewers: Alexander Zagrebin/Mauricio Dantas
BA: 
QA: 

Title: Fix unit tests
Date: 03/17/2015
Description:
        Fix unit tests
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        n/a
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        broken unit tests in DataModel/test and RexPricing/test
Example after:
        fixed
Files updated:
Unit tests files:
        M       DataModel/test/PaxTypeFareTest.cpp
        M       RexPricing/test/FareBytesRexMapperTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Alexander Zagrebin
Code reviewers: Nakamon
BA: 
QA: 

Title: [TAX SPLIT] WnSnapFCUtil refactoring
Date: 03/18/2015
Description:
        WnSnapFCUtil refactoring
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        TAX_SPLIT
Resolution/QA recommendation:
        N/A
Entry/XML to recreate:
        N/A
Example before:
        N/A
Example after:
        N/A
Files updated:
        Common/FallBack.cpp
        FareCalc/AirlineShoppingFCUtil.cpp
        FareCalc/AirlineShoppingFCUtil.h
        FareCalc/FareCalcController.cpp
        FareCalc/WnSnapFCUtil.h
        Taxes/Common/AbstractTaxSplitter.h
        Taxes/Common/TaxSplitter.cpp
        Taxes/Common/TaxSplitter.h
        Xform/XMLShoppingResponse.cpp
        Xform/XMLShoppingResponse.h
Unit tests files:
        N/A
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [X] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Jacek Roman
Code reviewers: Piotr Lach
BA: 
QA: 

Title: [AB-240][S-383408] Frequent Flyer per itinerary
Date: 03/18/2015
Description:
        In baggage schema version 3.0.1 the FFY element with frequent flyer information will be moved from PRO to ITN so that this data can be specified individually for every itinerary.
         In R4 this change will be active only in Daily for tests by the Ancillary Services team. Full activation in R5.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        <FAM=atsev2> tseserver DYNAMIC_LOADABLE\FALLBACK_SECTION::FALLBACK_FREQUENT_FLYER_PER_ITIN Y Added in R4 2015 by Artur de Sousa Rocha = SCALAR N/A N N CREATED
         <FAM=atsev2> tseserver FALLBACK_SECTION\FALLBACK_FREQUENT_FLYER_PER_ITIN Y Added in R4 2015 by Artur de Sousa Rocha = SCALAR N/A N N CREATED
         <bgcolor=yellow><FAM=atsev2><APP=pricingv2><ENV=daily> tseserver FALLBACK_SECTION\FALLBACK_FREQUENT_FLYER_PER_ITIN N Added in R4 2015 by Artur de Sousa Rocha = SCALAR N/A N N CREATED</bgcolor>
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        Common/FallBack.cpp
         Xform/AncillaryPricingRequestHandler.cpp
         Xform/CommonRequestHandler.cpp
         Xform/CommonRequestHandler.h
Unit tests files:
        Xform/test/AncillaryPricingRequestHandlerTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [ ] Shopping
        [ ] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Artur de Sousa Rocha
Code reviewers: Janusz Jagodzinski, Marek Talarczyk
BA: 
QA: 

Title: [Maintenance] Remove old fallbacks
Date: 03/18/2015
Description:
        Removed:
            ACCUMULATE_NUC_AMOUNT_AFTER_ROLLBACK
            FALLBACK_FILTER_HISTORICAL_TAX_CODE_GEN
            US1_ON_PRORATED_FARE_FOR_RTW<br>
            Fixed test in Currency<br>
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        Removed entries from <FAM=atsev2>:
        DYNAMIC_LOADABLE\FALLBACK_SECTION::ACCUMULATE_NUC_AMOUNT_AFTER_ROLLBACK
        DYNAMIC_LOADABLE\FALLBACK_SECTION::US1_ON_PRORATED_FARE_FOR_RTW
        FALLBACK_SECTION\ACCUMULATE_NUC_AMOUNT_AFTER_ROLLBACK
        FALLBACK_SECTION\FALLBACK_FILTER_HISTORICAL_TAX_CODE_GEN
        FALLBACK_SECTION\US1_ON_PRORATED_FARE_FOR_RTW
Resolution/QA recommendation:
        removed inactive code - not changes expected
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
        Common/FallBack.cpp
        Common/TaxRound.cpp<br>
        DBAccess/TaxCodeDAO.cpp
        DBAccess/TaxCodeDAO.h
        Pricing/PricingUtil.cpp
        Taxes/LegacyTaxes/TaxUS1_00.cpp
        Taxes/LegacyTaxes/TaxUS1_01.cpp<br>
Unit tests files:
        Currency/test/CurrencyDisplayTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [X] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Marek Markiewicz
Code reviewers: Grzegorz Lisowski
BA: 
QA: 

Title: [TECH INITIATIVE] Add branch prediction to TSE_ASSERT
Date: 03/18/2015
Description:
        Add branch prediction to TSE_ASSERT
Applies to: 
        [ ] all agencies
        [ ] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
        Regression
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        Common/Assert.h
        DataModel/PaxTypeFare.cpp<br>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Lisowski
Code reviewers: Damian Krolik; Marek Markiewicz
BA: 
QA: 

Title: [IBF][MIP] Detach fare breaks at leg from tax split
Date: 03/18/2015
Description:
        This is the remaining implementation of [S-386547] "[IBF][MIP] Add new specifier for using fare markets spanning more than one leg even if split by leg is requested"
        Includes:
        * [TK-766208] Add new attribute to PRO in MIP parser and make "force fare breaks at legs point" be independent from split by leg logic
        * Part 2 of [TK-766207] Remove all fallbacks in ItinAnalyzerService::removeUnwantedFareMarkets(PricingTrx& trx) function
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        tseserver DYNAMIC_LOADABLE\FALLBACK_SECTION::FORCE_FAREBREAKS_AT_LEG_POINTS Y 
         = SCALAR N/A N N REMOVED 
         tseserver FALLBACK_SECTION\FORCE_FAREBREAKS_AT_LEG_POINTS N 
         = SCALAR N/A N N REMOVED
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        Common/FallBack.cpp
        DataModel/PricingOptions.cpp
        DataModel/PricingOptions.h
        ItinAnalyzer/ItinAnalyzerService.cpp
        Schema/ShoppingRequest.xsd
        Xform/ShoppingSchemaNames.cpp
        Xform/ShoppingSchemaNames.h
        Xform/XMLShoppingHandler.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [X] Shopping
        [ ] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Artur de Sousa Rocha
Code reviewers: Michal Mlynek, Andrzej Fediuk
BA: 
QA: 

Title: support for TSSCaches with local data handle
Date: 03/18/2015
Description:
        support for TSSCaches with local data handle
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_NEW_TSS_CACHES = Y
        not activated
Resolution/QA recommendation:
        regresiion
Entry/XML to recreate:
Example before:
        n/a
Example after:
        N/A
Files updated:
        DBAccess/DataHandle.cpp DataHandle.h DeleteList.h TSSCache.cpp TSSCache.h
        Common/test/CurrencyConversionFacadeNucRounding.cpp CurrencyConversionFacadeTest.cpp
        Common/GlobalDirectionFinder.cpp GlobalDirectionFinderNew.cpp LocUtil.cpp
        Rules/RuleApplicationBase.cpp RuleItem.cpp RuleUtil.cpp
        Taxes/LegacyTaxes/TaxPercentageUS.cpp TaxSP8000.cpp TaxUS2.cpp UtcUtility.cpp UtcUtility.h
Unit tests files:
        Common/test/CurrencyConversionFacadeNucRounding.cpp
        CurrencyConversionFacadeTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Ilya Entin
Code reviewers: Vladimir Koliasnikov
BA: 
QA: 

Title: [AB-240] Remove logic for TexTable for S7
Date: 03/18/2015
Description:
        We have found out that we do not need Tax Text logic from S7 for Ancillary.
        And Baggage service has already has this logic.
        So we are removing the changes.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        Remove_FALLBACK_TABLE_196_TEXT_CHANGES-sg218090 sg218090 true atsev2.2015.04.00 2015-03-17 14:28:02
        <FAM=atsev2> tseserver DYNAMIC_LOADABLE\FALLBACK_SECTION::FALLBACK_TABLE_196_TEXT_CHANGES Y Added in 2015.04 = SCALAR N/A N N REMOVED
        <FAM=atsev2> tseserver FALLBACK_SECTION\FALLBACK_TABLE_196_TEXT_CHANGES Y Added in 2015.04 = SCALAR N/A N N REMOVED
        <FAM=atsev2><APP=tax><ENV=daily> tseserver FALLBACK_SECTION\FALLBACK_TABLE_196_TEXT_CHANGES N Added in 2015.04
Resolution/QA recommendation:
Entry/XML to recreate:
        <AncillaryPricingRequest xmlns="HTTP://WWW.ATSE.SABRE.COM/ANCILLARYPRICING/REQUEST" Version="3.0.0">
         <ATH AAA="80K2" HST="F" I01="SHARED/IDL:ICESESS/SESSMGR:1.0.IDL/COMMON/ICESMS/STSAICESMSLB/STS.LB-356529244034523225511430400" I02="PO ANCILLARYPRICINGRQ" PCC="HDQ" />
         <AGI A10="MIA" A20="80K2" A21="9I98" A80="80K2" A90="-C1" AB0="9999999" AB1="9999999" B00="1S" C40="USD" N0G="*" Q01="34" />
         <BIL A20="HDQ" A22="80K2" A70="A" AA0="-C1" AD0="1C6CBE" AE0="AA" C00="109644887199075586" C01="109644887199075586" Q02="0" Q03="0" S0R="PANC" />
         <PRO AF0="MIA" AG0="MIA" C10="" C45="USD" S14="WPPADT/CNNIPA-DY:IS">
         <RFG GBA="DXT" />
         </PRO>
         <DIG Q0A="196" />
         <ITN Q00="1">
         <SGI Q00="1">
         <FLI A01="MEX" A02="DFW" B00="AA" B01="AA" B30="Y" BB0="OK" C7B="T" D01="2015-05-11" D02="2015-05-11" D31="1331" D32="1610" Q0B="0389" />
         </SGI>
         </ITN>
         <ITN Q00="2">
         <IRO>
         <PXI B70="ADT" Q0U="1" />
         </IRO>
         <SGI Q00="1">
         <FLI A01="MEX" A02="DFW" B00="AA" B01="AA" B30="Y" BB0="OK" C7B="T" D01="2015-05-11" D02="2015-05-11" D31="1331" D32="1610" N0E="Y" Q0B="0389" />
         <FBA Q6D="1" />
         </SGI>
         <FBI B02="AA" B50="Y1EM1Z" C50="953.00" FTY="00" Q00="1" Q3W="5" S37="ATP" S53="ER" S90="MX11" />
         </ITN>
         <ITN Q00="3">
         <IRO>
         <PXI B70="CNN" Q0U="1" />
         </IRO>
         <SGI Q00="1">
         <FLI A01="MEX" A02="DFW" B00="AA" B01="AA" B30="Y" BB0="OK" C7B="T" D01="2015-05-11" D02="2015-05-11" D31="1331" D32="1610" N0E="Y" Q0B="0389" />
         <FBA Q6D="1" />
         </SGI>
         <FBI B02="AA" B50="Y1EM1ZCH" C50="953.00" FTY="01" Q00="1" Q3W="5" S37="ATP" S53="ER" S90="MX11" />
         </ITN>
        </AncillaryPricingRequest>
Example before:
        This is part of response with TTX.
        Adding the whole response causes Internal Server ERROR in delivery note publisher.<br>
        <AncillaryPricingResponse xmlns="http://www.atse.sabre.com/AncillaryPricing/Response">
         <ITN Q00="2">
         <MSG N06="X" Q0K="0" S18="ADT-01" />
         <MSG N06="X" Q0K="0" S18="BAG ALLOWANCE -MEXDFW-01P/AA/EACH PIECE UP TO 50 POUNDS/23 " />
         <MSG N06="X" Q0K="0" S18="KILOGRAMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
         <MSG N06="X" Q0K="0" S18="2NDCHECKED BAG FEE-MEXDFW-*/AA/UP TO 70 POUNDS/32 KILOGRAMS AND" />
         <MSG N06="X" Q0K="0" S18="UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
         <MSG N06="X" Q0K="0" S18="*BAGGAGE ALLOWANCES/FEES UNKNOWN - CONTACT AA" />
         <MSG N06="X" Q0K="0" S18="CARRY ON ALLOWANCE" />
         <MSG N06="X" Q0K="0" S18="MEXDFW-02P/AA" />
         <MSG N06="X" Q0K="0" S18="01/SMALL PERSONAL ITEM" />
         <MSG N06="X" Q0K="0" S18="01/UP TO 45 LINEAR INCHES/115 LINEAR CENTIMETERS" />
         <MSG N06="X" Q0K="0" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY" />
         <MSG N06="X" Q0K="0" S18="EMBARGOES-APPLY TO EACH PASSENGER" />
         <MSG N06="X" Q0K="0" S18="MEXDFW-AA" />
         <MSG N06="X" Q0K="0" S18="SPECIALTY ITEMS/SHIP MODELS NOT PERMITTED" />
         <MSG N06="X" Q0K="0" S18="PET IN HOLD/EXTRA LARGE NOT PERMITTED" />
         <MSG N06="X" Q0K="0" S18="OVER 100 POUNDS/45 KILOGRAMS NOT PERMITTED" />
         <OCG Q00="47" SF0="BG">
         <OSC SHK="012" SFF="SHIP MODELS" SFV="MMGR" B01="AA" N01="C" N02="4" ASG="SI" ASD="SPECIALTY ITEMS" AST="E">
         <SDC DC1="SS" D00="SHIP MODELS" />
         <OOS N11="S" A01="MEX" A02="DFW" PY0="N">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="0.00" C5B="USD" C50="0.00" />
         <SFQ />
         <DTE D01="2015-02-12" D02="9999-12-31" />
         <FAT P01="T" N43="X" P03="N" />
         <BGD OC1="-1" OC2="-1" />
         </OOS>
         </OSC>
         <OSC SHK="0DD" SFF="SNOW SKI EQUIPMENT UP TO 126LI" SFV="ATP" B01="AA" N01="C" N02="4" ASG="SP" ASD="SPORTING EQUIPMENT" AST="C">
         <SDC DC1="SK" D00="SKI EQUIPMENT" />
         <MSG N06="X" Q0K="0" S18="SUCH AS" />
         <MSG N06="X" Q0K="0" S18="ONE PAIR OF SKIS AND ONE BAG CONTAINING A PAIR OF" />
         <MSG N06="X" Q0K="0" S18="SKI BOOTS//" />
         <MSG N06="X" Q0K="0" S18="ONE PAIR OF SKIS AND ONE BOOT BAG CONTAINING ONLY" />
         <MSG N06="X" Q0K="0" S18="BOOTS/BINDINGS WILL BE TREATED AS A SINGLE ITEM" />
         <MSG N06="X" Q0K="0" S18="WITH THE APPLICABLE CHECKED BAG CHARGE//" />
         <MSG N06="X" Q0K="0" S18="BOOT BAG MUST NOT EXCEED 25 LINEAR INCHES AND" />
         <MSG N06="X" Q0K="0" S18="MUST CONTAIN ONLY BOOTS/BINDINGS" />
         <MSG N06="X" Q0K="0" S18="BOOT BAGS THAT CONTAIN OTHER ARTICLES WILL BE" />
         <MSG N06="X" Q0K="0" S18="SUBJECT TO EXCESS BAGGAGE CHARGE FOR A SINGLE" />
         <MSG N06="X" Q0K="0" S18="PIECE//" />
         <MSG N06="X" Q0K="0" S18="LIGHTERS OR TORCHES FOR APPLYING SKI WAX ARE" />
         <MSG N06="X" Q0K="0" S18="CONSIDERED DANGEROUS GOODS AND ARE NOT ALLOWED IN" />
         <MSG N06="X" Q0K="0" S18="CHECKED OR CARRYON BAGGAGE" />
         <OOS N11="J" A01="MEX" A02="DFW" PS1="T">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="0.00" C5B="USD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT P01="T" N43="F" Q7D="1" N45="N" P03="N" P04="Y" />
         <BGD OC1="1" OC2="1" />
         </OOS>
         <OOS N11="P" A01="MEX" A02="DFW" PS1="T">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="0.00" C5B="USD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT P01="T" N43="F" Q7D="1" N45="N" P03="N" P04="Y" />
         <BGD OC1="1" OC2="1" />
         </OOS>
         <OOS N11="J" A01="MEX" A02="DFW">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="150.00" C5A="USD" C50="150.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="3" N45="N" P03="N" P04="Y" />
         <BGD OC1="1" OC2="3" />
         </OOS>
         <OOS N11="P" A01="MEX" A02="DFW">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="150.00" C5A="USD" C50="150.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="N" P03="N" P04="Y" />
         <BGD OC1="1" OC2="3" />
         </OOS>
         <OOS N11="J" A01="MEX" A02="DFW" PS1="T">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="0.00" C5B="USD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT P01="T" N43="F" Q7D="1" N45="N" P03="N" P04="Y" />
         <BGD OC1="1" OC2="2" />
         <TTX TXT="2 50LB/62IN BAGS FREE FOR AADV GOLD/AADV" />
         <TTX TXT="PLAT/AADV PLAT EXC/ONEWORLD ALLIANCE EMERALD" />
         <TTX TXT="MEMBERS" />
         </OOS>
Example after:
        This is part of response with TTX.
        <AncillaryPricingResponse xmlns="http://www.atse.sabre.com/AncillaryPricing/Response">
         <ITN Q00="2">
         <MSG N06="X" Q0K="0" S18="ADT-01" />
         <MSG N06="X" Q0K="0" S18="BAG ALLOWANCE -MEXDFW-01P/AA/EACH PIECE UP TO 50 POUNDS/23 " />
         <MSG N06="X" Q0K="0" S18="KILOGRAMS AND UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
         <MSG N06="X" Q0K="0" S18="2NDCHECKED BAG FEE-MEXDFW-*/AA/UP TO 70 POUNDS/32 KILOGRAMS AND" />
         <MSG N06="X" Q0K="0" S18="UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
         <MSG N06="X" Q0K="0" S18="*BAGGAGE ALLOWANCES/FEES UNKNOWN - CONTACT AA" />
         <MSG N06="X" Q0K="0" S18="CARRY ON ALLOWANCE" />
         <MSG N06="X" Q0K="0" S18="MEXDFW-02P/AA" />
         <MSG N06="X" Q0K="0" S18="01/SMALL PERSONAL ITEM" />
         <MSG N06="X" Q0K="0" S18="01/UP TO 45 LINEAR INCHES/115 LINEAR CENTIMETERS" />
         <MSG N06="X" Q0K="0" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY" />
         <MSG N06="X" Q0K="0" S18="EMBARGOES-APPLY TO EACH PASSENGER" />
         <MSG N06="X" Q0K="0" S18="MEXDFW-AA" />
         <MSG N06="X" Q0K="0" S18="SPECIALTY ITEMS/SHIP MODELS NOT PERMITTED" />
         <MSG N06="X" Q0K="0" S18="PET IN HOLD/EXTRA LARGE NOT PERMITTED" />
         <MSG N06="X" Q0K="0" S18="OVER 100 POUNDS/45 KILOGRAMS NOT PERMITTED" />
         <OCG Q00="47" SF0="BG">
         <OSC SHK="012" SFF="SHIP MODELS" SFV="MMGR" B01="AA" N01="C" N02="4" ASG="SI" ASD="SPECIALTY ITEMS" AST="E">
         <SDC DC1="SS" D00="SHIP MODELS" />
         <OOS N11="S" A01="MEX" A02="DFW" PY0="N">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="0.00" C5B="USD" C50="0.00" />
         <SFQ />
         <DTE D01="2015-02-12" D02="9999-12-31" />
         <FAT P01="T" N43="X" P03="N" />
         <BGD OC1="-1" OC2="-1" />
         </OOS>
         </OSC>
         <OSC SHK="0DD" SFF="SNOW SKI EQUIPMENT UP TO 126LI" SFV="ATP" B01="AA" N01="C" N02="4" ASG="SP" ASD="SPORTING EQUIPMENT" AST="C">
         <SDC DC1="SK" D00="SKI EQUIPMENT" />
         <MSG N06="X" Q0K="0" S18="SUCH AS" />
         <MSG N06="X" Q0K="0" S18="ONE PAIR OF SKIS AND ONE BAG CONTAINING A PAIR OF" />
         <MSG N06="X" Q0K="0" S18="SKI BOOTS//" />
         <MSG N06="X" Q0K="0" S18="ONE PAIR OF SKIS AND ONE BOOT BAG CONTAINING ONLY" />
         <MSG N06="X" Q0K="0" S18="BOOTS/BINDINGS WILL BE TREATED AS A SINGLE ITEM" />
         <MSG N06="X" Q0K="0" S18="WITH THE APPLICABLE CHECKED BAG CHARGE//" />
         <MSG N06="X" Q0K="0" S18="BOOT BAG MUST NOT EXCEED 25 LINEAR INCHES AND" />
         <MSG N06="X" Q0K="0" S18="MUST CONTAIN ONLY BOOTS/BINDINGS" />
         <MSG N06="X" Q0K="0" S18="BOOT BAGS THAT CONTAIN OTHER ARTICLES WILL BE" />
         <MSG N06="X" Q0K="0" S18="SUBJECT TO EXCESS BAGGAGE CHARGE FOR A SINGLE" />
         <MSG N06="X" Q0K="0" S18="PIECE//" />
         <MSG N06="X" Q0K="0" S18="LIGHTERS OR TORCHES FOR APPLYING SKI WAX ARE" />
         <MSG N06="X" Q0K="0" S18="CONSIDERED DANGEROUS GOODS AND ARE NOT ALLOWED IN" />
         <MSG N06="X" Q0K="0" S18="CHECKED OR CARRYON BAGGAGE" />
         <OOS N11="J" A01="MEX" A02="DFW" PS1="T">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="0.00" C5B="USD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT P01="T" N43="F" Q7D="1" N45="N" P03="N" P04="Y" />
         <BGD OC1="1" OC2="1" />
         </OOS>
         <OOS N11="P" A01="MEX" A02="DFW" PS1="T">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="0.00" C5B="USD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT P01="T" N43="F" Q7D="1" N45="N" P03="N" P04="Y" />
         <BGD OC1="1" OC2="1" />
         </OOS>
         <OOS N11="J" A01="MEX" A02="DFW">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="150.00" C5A="USD" C50="150.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="3" N45="N" P03="N" P04="Y" />
         <BGD OC1="1" OC2="3" />
         </OOS>
         <OOS N11="P" A01="MEX" A02="DFW">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="150.00" C5A="USD" C50="150.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="N" P03="N" P04="Y" />
         <BGD OC1="1" OC2="3" />
         </OOS>
         <OOS N11="J" A01="MEX" A02="DFW" PS1="T">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="0.00" C5B="USD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT P01="T" N43="F" Q7D="1" N45="N" P03="N" P04="Y" />
         <BGD OC1="1" OC2="2" />
         </OOS>
         <OOS N11="P" A01="MEX" A02="DFW" PS1="T">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="0.00" C5B="USD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT P01="T" N43="F" Q7D="1" N45="N" P03="N" P04="Y" />
         <BGD OC1="1" OC2="2" />
         </OOS>
         <OOS N11="J" A01="MEX" A02="DFW" PS1="T">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="0.00" C5B="USD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT P01="T" N43="F" Q7D="3" N45="N" P03="N" P04="Y" />
         <BGD OC1="1" OC2="1" />
         </OOS>
         <OOS N11="P" A01="MEX" A02="DFW" PS1="T">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="0.00" C5B="USD" C50="0.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT P01="T" N43="F" Q7D="3" N45="N" P03="N" P04="Y" />
         <BGD OC1="1" OC2="1" />
         </OOS>
         <OOS N11="J" A01="MEX" A02="DFW">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="40.00" C5A="USD" C50="40.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="3" N45="N" P03="N" P04="Y" />
         <BGD OC1="1" OC2="1" />
         </OOS>
         <OOS N11="J" A01="MEX" A02="DFW">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="150.00" C5A="USD" C50="150.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="3" N45="N" P03="N" P04="Y" />
         <BGD OC1="2" OC2="4" />
         </OOS>
         <OOS N11="P" A01="MEX" A02="DFW">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="40.00" C5A="USD" C50="40.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="N" P03="N" P04="Y" />
         <BGD OC1="1" OC2="1" />
         </OOS>
         <OOS N11="P" A01="MEX" A02="DFW">
         <Q00>01</Q00>
         <SUM B70="ADT" C51="150.00" C5A="USD" C50="150.00" />
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N41="4" N45="N" P03="N" P04="Y" />
         <BGD OC1="2" OC2="4" />
         </OOS>
         </OSC>
         <OSC SHK="0DF" SFF="ALLOWANCE" SFV="ATP" B01="AA" N01="C" N02="4" AST="A">
         <OOS N11="P" A01="MEX" A02="DFW">
         <Q00>01</Q00>
         <SFQ />
         <DTE D01="1980-01-01" D02="9999-12-31" />
         <FAT N43="F" />
         <BGA BPC="1">
         <ITR Q00="1">
         <ITT SHK="0GO" SFF="UPTO50LB 23KG AND62LI 158LCM" SFV="ATP" B01="AA" N01="C" N02="4" AST="C">
         <BIR B20="50" N0D="L" L01="U" />
         <BIR B20="23" N0D="K" L01="U" />
         <BIR B20="62" N0D="I" L01="U" />
         <BIR B20="158" N0D="C" L01="U" />
         <SDC DC1="23" D00="UP TO 50 POUNDS/23 KILOGRAMS" />
         <SDC DC1="6U" D00="UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
         </ITT>
         </ITR>
Files updated:
        Common/FallBack.cpp
        Common/TrxUtil.cpp
        Common/TrxUtil.h
        Xform/AncillaryPricingResponseFormatter.cpp
        Xform/AncillaryPricingResponseFormatter.h
        Xform/PricingResponseXMLTags.h
Unit tests files:
        Xform/test/AncillaryPricingResponseFormatterTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Brajesh Tiwari
Code reviewers: Piotr.Szyba@sabre.com;Janusz.Jagodzinski@sabre.com
BA: Joanna.Chrapek@sabre.com
QA: Grzegorz.Mozdzierz@sabre.com;Joanna.Kozlowska@sabre.com

Title: [AB-240][SSDMPS-111] FDO / SDO indicators for non piece baggage 
Date: 03/18/2015
Description:
        First / Second Disclosure Occurence (FDO / SDO) returned for baggae charges when allowance in kilograms.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_AB240
Resolution/QA recommendation:
Entry/XML to recreate:
        <AncillaryPricingRequest Version="3.0.0" xmlns="http://www.atse.sabre.com/ancillarypricing/Request">
          <AGI A10="SCL" A20="ZT90" A21="ZT90" A80="ZT90" A90="AXL" AB0="7590064" AB1="7590064" B00="1S" C40="CLP" N0G="*" Q01="37" />
          <BIL A20="ZT90" A22="ZT90" A70="A" AA0="AXL" AD0="8159A4" AE0="AA" C00="1425272974654026089" C20="ANCPRICE" Q02="2902" Q03="925" S0R="PANC" />
          <PRO AF0="SCL" AG0="SCL" C10="854" C45="CLP" PS1="T" S14="WPACM$MCLP">
            <RFG GBA="DXT" />
          </PRO>
          <ITN Q00="1">
            <SGI Q00="1">
              <FLI A01="CLO" A02="PTY" B00="CM" B01="CM" B30="U" BB0="OK" C7B="T" D01="2015-03-23" D02="2015-03-23" D31="1824" D32="1955" Q0B="676" />
            </SGI>
            <SGI Q00="2">
              <FLI A01="PTY" A02="SCL" B00="CM" B01="CM" B30="U" BB0="OK" C7B="T" D01="2015-03-23" D02="2015-03-24" D31="2113" D32="0539" Q0B="277" />
            </SGI>
            <SGI Q00="3">
              <FLI A01="SCL" A02="PTY" B00="CM" B01="CM" B30="U" BB0="OK" C7B="T" D01="2015-04-27" D02="2015-04-27" D31="0324" D32="0810" Q0B="174" />
            </SGI>
            <SGI Q00="4">
              <FLI A01="PTY" A02="CLO" B00="CM" B01="CM" B30="U" BB0="OK" C7B="T" D01="2015-04-27" D02="2015-04-27" D31="0923" D32="1058" Q0B="615" />
            </SGI>
          </ITN>
          <ITN Q00="2">
            <IRO>
              <PXI B70="ADT" Q0U="2" />
            </IRO>
            <SGI Q00="1">
              <FLI A01="CLO" A02="PTY" B00="CM" B01="CM" B30="U" BB0="OK" C7B="T" D01="2015-03-23" D02="2015-03-23" D31="1824" D32="1955" N0E="Y" Q0B="676" />
              <FBA Q6D="1" />
            </SGI>
            <SGI Q00="2">
              <FLI A01="PTY" A02="SCL" B00="CM" B01="CM" B30="U" BB0="OK" C7B="T" D01="2015-03-23" D02="2015-03-24" D31="2113" D32="0539" N0E="Y" Q0B="277" />
              <FBA Q6D="1" />
            </SGI>
            <SGI Q00="3">
              <FLI A01="SCL" A02="PTY" B00="CM" B01="CM" B30="U" BB0="OK" C7B="T" D01="2015-04-27" D02="2015-04-27" D31="0324" D32="0810" N0E="Y" Q0B="174" />
              <FBA Q6D="2" />
            </SGI>
            <SGI Q00="4">
              <FLI A01="PTY" A02="CLO" B00="CM" B01="CM" B30="U" BB0="OK" C7B="T" D01="2015-04-27" D02="2015-04-27" D31="0923" D32="1058" N0E="Y" Q0B="615" />
              <FBA Q6D="2" />
            </SGI>
            <FBI B02="CM" B50="UERF60" C50="169.50" FTY="00" Q00="1" Q3W="303" S37="ATP" S53="XEX" S90="2814" />
            <FBI B02="CM" B50="UERF60" C50="169.50" FTY="00" Q00="2" Q3W="303" S37="ATP" S53="XEX" S90="2814" />
          </ITN>
Example before:
        <AncillaryPricingResponse xmlns="http://www.atse.sabre.com/AncillaryPricing/Response">
          <MSG N06="X" Q0K="3" S18="HOSTNAME/PORT:  PITHLI404/53501" />
          <MSG N06="X" Q0K="3" S18="BASELINE: ATSEV2.2015.04.AY" />
          <MSG N06="X" Q0K="3" S18="DATABASE: FUNCIA_HIS,FUNCIA_MIPA" />
          <ITN Q00="2">
            <MSG N06="X" Q0K="0" S18="ADT-02" />
            <MSG N06="X" Q0K="0" S18="BAG ALLOWANCE     -CLOSCL-32KG/CM" />
            <MSG N06="X" Q0K="0" S18="BAG ALLOWANCE     -SCLCLO-32KG/CM" />
            <MSG N06="X" Q0K="0" S18="CARRY ON ALLOWANCE" />
            <MSG N06="X" Q0K="0" S18="CLOPTY PTYSCL SCLPTY PTYCLO-01P/CM" />
            <MSG N06="X" Q0K="0" S18="CARRY ON CHARGES" />
            <MSG N06="X" Q0K="0" S18="CLOPTY PTYSCL SCLPTY PTYCLO-CM-CARRY ON FEES UNKNOWN-CONTACT CA" />
            <MSG N06="X" Q0K="0" S18="RRIER" />
            <MSG N06="X" Q0K="0" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY" />
            <OCG Q00="12" SF0="BG">
              <OSC SHK="0LN" SFF="CARRYON HAND BAGGAGE ALLOWANCE" SFV="ATP" B01="CM" N01="C" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="B">
                <OOS A01="CLO" A02="PTY">
                  <Q00>01</Q00>
                  <SUM B70="ADT" C51="0" C5B="CLP" C50="0" />
                  <SFQ />
                  <DTE D01="1980-01-01" D02="9999-12-31" />
                  <FAT N43="F" />
                  <BGA BPC="1">
                    <MSG N06="X" Q0K="0" S18="PERMITTED ONE CARRY-ON THAT DOES NOT EXCEED 46" />
                    <MSG N06="X" Q0K="0" S18="LINEAL INCHES AND 10KG" />
                  </BGA>
                  <TTX TXT="PERMITTED ONE CARRY-ON THAT DOES NOT EXCEED 46" />
                  <TTX TXT="LINEAL INCHES AND 10KG" />
                </OOS>
              </OSC>
              <OSC SHK="0DF" SFF="FREE BAGGAGE ALLOWANCE" SFV="ATP" B01="CM" N01="C" N02="4" AST="A">
                <OOS N11="J" A01="CLO" A02="SCL">
                  <Q00>01</Q00>
                  <Q00>02</Q00>
                  <SFQ />
                  <DTE D01="1980-01-01" D02="9999-12-31" />
                  <FAT N43="F" />
                  <BGA B20="32" N0D="K" />
                </OOS>
              </OSC>
              <OSC SHK="0FM" SFF="UPTO70LB 32KG AND62LI 158LCM" SFV="ATP" B01="CM" N01="C" N02="4" AST="C">
                <BIR B20="70" N0D="L" L01="U" />
                <BIR B20="32" N0D="K" L01="U" />
                <BIR B20="62" N0D="I" L01="U" />
                <BIR B20="158" N0D="C" L01="U" />
                <SDC DC1="32" D00="UP TO 70 POUNDS/32 KILOGRAMS" />
                <SDC DC1="6U" D00="UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
                <OOS FDO="T" SDO="T" A01="CLO" A02="SCL">
                  <Q00>01</Q00>
                  <Q00>02</Q00>
                  <SUM B70="ADT" C51="175.00" C5A="USD" C52="111890" C5B="CLP" N21="X" C50="111890" />
                  <SFQ />
                  <DTE D01="1980-01-01" D02="9999-12-31" />
                  <FAT N41="4" N45="N" P03="N" P04="N" />
                  <BGD OC1="-1" OC2="-1" B20="32" N0D="K" />
                </OOS>
              </OSC>
              <OSC SHK="0ID" SFF="EXCESS SIZE" SFV="ATP" B01="CM" N01="C" N02="4" AST="C">
                <SDC DC1="X9" D00="EXCESS SIZE" />
                <OOS A01="CLO" A02="SCL">
                  <Q00>01</Q00>
                  <Q00>02</Q00>
                  <SUM B70="ADT" C51="100.00" C5A="USD" C52="63937" C5B="CLP" N21="X" C50="63937" />
                  <SFQ />
                  <DTE D01="1980-01-01" D02="9999-12-31" />
                  <FAT N41="4" N45="N" P03="N" P04="N" />
                  <BGD OC1="-1" OC2="-1" />
                  <TTX TXT="THE OVERSIZE BAGGAGE MUST NOT EXCEDD 107 LINEAL" />
                  <TTX TXT="INCHES." />
                </OOS>
              </OSC>
              <OSC SHK="0IK" SFF="EXCESS WEIGHT" SFV="ATP" B01="CM" N01="C" N02="4" AST="C">
                <SDC DC1="X8" D00="EXCESS WEIGHT" />
                <OOS N11="J" A01="CLO" A02="SCL">
                  <Q00>01</Q00>
                  <Q00>02</Q00>
                  <SUM B70="ADT" C51="250.00" C5A="USD" C52="159843" C5B="CLP" N21="X" C50="159843" />
                  <SFQ />
                  <DTE D01="1980-01-01" D02="9999-12-31" />
                  <FAT N41="K" N45="N" P03="N" P04="N" />
                  <BGD OC1="-1" OC2="-1" B20="65" N0D="K" />
                </OOS>
              </OSC>
              <OSC SHK="0LN" SFF="CARRYON HAND BAGGAGE ALLOWANCE" SFV="ATP" B01="CM" N01="C" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="B">
                <OOS A01="PTY" A02="SCL">
                  <Q00>02</Q00>
                  <SUM B70="ADT" C51="0" C5B="CLP" C50="0" />
                  <SFQ />
                  <DTE D01="1980-01-01" D02="9999-12-31" />
                  <FAT N43="F" />
                  <BGA BPC="1">
                    <MSG N06="X" Q0K="0" S18="PERMITTED ONE CARRY-ON THAT DOES NOT EXCEED 46" />
                    <MSG N06="X" Q0K="0" S18="LINEAL INCHES AND 10KG" />
                  </BGA>
                  <TTX TXT="PERMITTED ONE CARRY-ON THAT DOES NOT EXCEED 46" />
                  <TTX TXT="LINEAL INCHES AND 10KG" />
                </OOS>
              </OSC>
              <OSC SHK="0LN" SFF="CARRYON HAND BAGGAGE ALLOWANCE" SFV="ATP" B01="CM" N01="C" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="B">
                <OOS A01="SCL" A02="PTY">
                  <Q00>03</Q00>
                  <SUM B70="ADT" C51="0" C5B="CLP" C50="0" />
                  <SFQ />
                  <DTE D01="1980-01-01" D02="9999-12-31" />
                  <FAT N43="F" />
                  <BGA BPC="1">
                    <MSG N06="X" Q0K="0" S18="PERMITTED ONE CARRY-ON THAT DOES NOT EXCEED 46" />
                    <MSG N06="X" Q0K="0" S18="LINEAL INCHES AND 10KG" />
                  </BGA>
                  <TTX TXT="PERMITTED ONE CARRY-ON THAT DOES NOT EXCEED 46" />
                  <TTX TXT="LINEAL INCHES AND 10KG" />
                </OOS>
              </OSC>
              <OSC SHK="0DF" SFF="FREE BAGGAGE ALLOWANCE" SFV="ATP" B01="CM" N01="C" N02="4" AST="A">
                <OOS N11="J" A01="SCL" A02="CLO">
                  <Q00>03</Q00>
                  <Q00>04</Q00>
                  <SFQ />
                  <DTE D01="1980-01-01" D02="9999-12-31" />
                  <FAT N43="F" />
                  <BGA B20="32" N0D="K" />
                </OOS>
              </OSC>
              <OSC SHK="0FM" SFF="UPTO70LB 32KG AND62LI 158LCM" SFV="ATP" B01="CM" N01="C" N02="4" AST="C">
                <BIR B20="70" N0D="L" L01="U" />
                <BIR B20="32" N0D="K" L01="U" />
                <BIR B20="62" N0D="I" L01="U" />
                <BIR B20="158" N0D="C" L01="U" />
                <SDC DC1="32" D00="UP TO 70 POUNDS/32 KILOGRAMS" />
                <SDC DC1="6U" D00="UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
                <OOS FDO="T" SDO="T" A01="SCL" A02="CLO">
                  <Q00>03</Q00>
                  <Q00>04</Q00>
                  <SUM B70="ADT" C51="175.00" C5A="USD" C52="111890" C5B="CLP" N21="X" C50="111890" />
                  <SFQ />
                  <DTE D01="1980-01-01" D02="9999-12-31" />
                  <FAT N41="4" N45="N" P03="N" P04="N" />
                  <BGD OC1="-1" OC2="-1" B20="32" N0D="K" />
                </OOS>
              </OSC>
              <OSC SHK="0ID" SFF="EXCESS SIZE" SFV="ATP" B01="CM" N01="C" N02="4" AST="C">
                <SDC DC1="X9" D00="EXCESS SIZE" />
                <OOS A01="SCL" A02="CLO">
                  <Q00>03</Q00>
                  <Q00>04</Q00>
                  <SUM B70="ADT" C51="100.00" C5A="USD" C52="63937" C5B="CLP" N21="X" C50="63937" />
                  <SFQ />
                  <DTE D01="1980-01-01" D02="9999-12-31" />
                  <FAT N41="4" N45="N" P03="N" P04="N" />
                  <BGD OC1="-1" OC2="-1" />
                  <TTX TXT="THE OVERSIZE BAGGAGE MUST NOT EXCEDD 107 LINEAL" />
                  <TTX TXT="INCHES." />
                </OOS>
              </OSC>
              <OSC SHK="0IK" SFF="EXCESS WEIGHT" SFV="ATP" B01="CM" N01="C" N02="4" AST="C">
                <SDC DC1="X8" D00="EXCESS WEIGHT" />
                <OOS N11="J" A01="SCL" A02="CLO">
                  <Q00>03</Q00>
                  <Q00>04</Q00>
                  <SUM B70="ADT" C51="250.00" C5A="USD" C52="159843" C5B="CLP" N21="X" C50="159843" />
                  <SFQ />
                  <DTE D01="1980-01-01" D02="9999-12-31" />
                  <FAT N41="K" N45="N" P03="N" P04="N" />
                  <BGD OC1="-1" OC2="-1" B20="65" N0D="K" />
                </OOS>
              </OSC>
              <OSC SHK="0LN" SFF="CARRYON HAND BAGGAGE ALLOWANCE" SFV="ATP" B01="CM" N01="C" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="B">
                <OOS A01="PTY" A02="CLO">
                  <Q00>04</Q00>
                  <SUM B70="ADT" C51="0" C5B="CLP" C50="0" />
                  <SFQ />
                  <DTE D01="1980-01-01" D02="9999-12-31" />
                  <FAT N43="F" />
                  <BGA BPC="1">
                    <MSG N06="X" Q0K="0" S18="PERMITTED ONE CARRY-ON THAT DOES NOT EXCEED 46" />
                    <MSG N06="X" Q0K="0" S18="LINEAL INCHES AND 10KG" />
                  </BGA>
                  <TTX TXT="PERMITTED ONE CARRY-ON THAT DOES NOT EXCEED 46" />
                  <TTX TXT="LINEAL INCHES AND 10KG" />
                </OOS>
              </OSC>
            </OCG>
          </ITN>
        </AncillaryPricingResponse>
Example after:
        <AncillaryPricingResponse xmlns="http://www.atse.sabre.com/AncillaryPricing/Response">
          <MSG N06="X" Q0K="3" S18="HOSTNAME/PORT:  PITHLI404/53501" />
          <MSG N06="X" Q0K="3" S18="BASELINE: ATSEV2.2015.04.AY" />
          <MSG N06="X" Q0K="3" S18="DATABASE: FUNCIA_HIS,FUNCIA_MIPA" />
          <ITN Q00="2">
            <MSG N06="X" Q0K="0" S18="ADT-02" />
            <MSG N06="X" Q0K="0" S18="BAG ALLOWANCE     -CLOSCL-32KG/CM" />
            <MSG N06="X" Q0K="0" S18="BAG ALLOWANCE     -SCLCLO-32KG/CM" />
            <MSG N06="X" Q0K="0" S18="CARRY ON ALLOWANCE" />
            <MSG N06="X" Q0K="0" S18="CLOPTY PTYSCL SCLPTY PTYCLO-01P/CM" />
            <MSG N06="X" Q0K="0" S18="CARRY ON CHARGES" />
            <MSG N06="X" Q0K="0" S18="CLOPTY PTYSCL SCLPTY PTYCLO-CM-CARRY ON FEES UNKNOWN-CONTACT CA" />
            <MSG N06="X" Q0K="0" S18="RRIER" />
            <MSG N06="X" Q0K="0" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY" />
            <OCG Q00="12" SF0="BG">
              <OSC SHK="0LN" SFF="CARRYON HAND BAGGAGE ALLOWANCE" SFV="ATP" B01="CM" N01="C" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="B">
                <OOS A01="CLO" A02="PTY">
                  <Q00>01</Q00>
                  <SUM B70="ADT" C51="0" C5B="CLP" C50="0" />
                  <SFQ />
                  <DTE D01="1980-01-01" D02="9999-12-31" />
                  <FAT N43="F" />
                  <BGA BPC="1">
                    <MSG N06="X" Q0K="0" S18="PERMITTED ONE CARRY-ON THAT DOES NOT EXCEED 46" />
                    <MSG N06="X" Q0K="0" S18="LINEAL INCHES AND 10KG" />
                  </BGA>
                  <TTX TXT="PERMITTED ONE CARRY-ON THAT DOES NOT EXCEED 46" />
                  <TTX TXT="LINEAL INCHES AND 10KG" />
                </OOS>
              </OSC>
              <OSC SHK="0DF" SFF="FREE BAGGAGE ALLOWANCE" SFV="ATP" B01="CM" N01="C" N02="4" AST="A">
                <OOS N11="J" A01="CLO" A02="SCL">
                  <Q00>01</Q00>
                  <Q00>02</Q00>
                  <SFQ />
                  <DTE D01="1980-01-01" D02="9999-12-31" />
                  <FAT N43="F" />
                  <BGA B20="32" N0D="K" />
                </OOS>
              </OSC>
              <OSC SHK="0FM" SFF="UPTO70LB 32KG AND62LI 158LCM" SFV="ATP" B01="CM" N01="C" N02="4" AST="C">
                <BIR B20="70" N0D="L" L01="U" />
                <BIR B20="32" N0D="K" L01="U" />
                <BIR B20="62" N0D="I" L01="U" />
                <BIR B20="158" N0D="C" L01="U" />
                <SDC DC1="32" D00="UP TO 70 POUNDS/32 KILOGRAMS" />
                <SDC DC1="6U" D00="UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
                <OOS A01="CLO" A02="SCL">
                  <Q00>01</Q00>
                  <Q00>02</Q00>
                  <SUM B70="ADT" C51="175.00" C5A="USD" C52="111890" C5B="CLP" N21="X" C50="111890" />
                  <SFQ />
                  <DTE D01="1980-01-01" D02="9999-12-31" />
                  <FAT N41="4" N45="N" P03="N" P04="N" />
                  <BGD OC1="-1" OC2="-1" B20="32" N0D="K" />
                </OOS>
              </OSC>
              <OSC SHK="0ID" SFF="EXCESS SIZE" SFV="ATP" B01="CM" N01="C" N02="4" AST="C">
                <SDC DC1="X9" D00="EXCESS SIZE" />
                <OOS A01="CLO" A02="SCL">
                  <Q00>01</Q00>
                  <Q00>02</Q00>
                  <SUM B70="ADT" C51="100.00" C5A="USD" C52="63937" C5B="CLP" N21="X" C50="63937" />
                  <SFQ />
                  <DTE D01="1980-01-01" D02="9999-12-31" />
                  <FAT N41="4" N45="N" P03="N" P04="N" />
                  <BGD OC1="-1" OC2="-1" />
                  <TTX TXT="THE OVERSIZE BAGGAGE MUST NOT EXCEDD 107 LINEAL" />
                  <TTX TXT="INCHES." />
                </OOS>
              </OSC>
              <OSC SHK="0IK" SFF="EXCESS WEIGHT" SFV="ATP" B01="CM" N01="C" N02="4" AST="C">
                <SDC DC1="X8" D00="EXCESS WEIGHT" />
                <OOS N11="J" A01="CLO" A02="SCL">
                  <Q00>01</Q00>
                  <Q00>02</Q00>
                  <SUM B70="ADT" C51="250.00" C5A="USD" C52="159843" C5B="CLP" N21="X" C50="159843" />
                  <SFQ />
                  <DTE D01="1980-01-01" D02="9999-12-31" />
                  <FAT N41="K" N45="N" P03="N" P04="N" />
                  <BGD OC1="-1" OC2="-1" B20="65" N0D="K" />
                </OOS>
              </OSC>
              <OSC SHK="0LN" SFF="CARRYON HAND BAGGAGE ALLOWANCE" SFV="ATP" B01="CM" N01="C" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="B">
                <OOS A01="PTY" A02="SCL">
                  <Q00>02</Q00>
                  <SUM B70="ADT" C51="0" C5B="CLP" C50="0" />
                  <SFQ />
                  <DTE D01="1980-01-01" D02="9999-12-31" />
                  <FAT N43="F" />
                  <BGA BPC="1">
                    <MSG N06="X" Q0K="0" S18="PERMITTED ONE CARRY-ON THAT DOES NOT EXCEED 46" />
                    <MSG N06="X" Q0K="0" S18="LINEAL INCHES AND 10KG" />
                  </BGA>
                  <TTX TXT="PERMITTED ONE CARRY-ON THAT DOES NOT EXCEED 46" />
                  <TTX TXT="LINEAL INCHES AND 10KG" />
                </OOS>
              </OSC>
              <OSC SHK="0LN" SFF="CARRYON HAND BAGGAGE ALLOWANCE" SFV="ATP" B01="CM" N01="C" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="B">
                <OOS A01="SCL" A02="PTY">
                  <Q00>03</Q00>
                  <SUM B70="ADT" C51="0" C5B="CLP" C50="0" />
                  <SFQ />
                  <DTE D01="1980-01-01" D02="9999-12-31" />
                  <FAT N43="F" />
                  <BGA BPC="1">
                    <MSG N06="X" Q0K="0" S18="PERMITTED ONE CARRY-ON THAT DOES NOT EXCEED 46" />
                    <MSG N06="X" Q0K="0" S18="LINEAL INCHES AND 10KG" />
                  </BGA>
                  <TTX TXT="PERMITTED ONE CARRY-ON THAT DOES NOT EXCEED 46" />
                  <TTX TXT="LINEAL INCHES AND 10KG" />
                </OOS>
              </OSC>
              <OSC SHK="0DF" SFF="FREE BAGGAGE ALLOWANCE" SFV="ATP" B01="CM" N01="C" N02="4" AST="A">
                <OOS N11="J" A01="SCL" A02="CLO">
                  <Q00>03</Q00>
                  <Q00>04</Q00>
                  <SFQ />
                  <DTE D01="1980-01-01" D02="9999-12-31" />
                  <FAT N43="F" />
                  <BGA B20="32" N0D="K" />
                </OOS>
              </OSC>
              <OSC SHK="0FM" SFF="UPTO70LB 32KG AND62LI 158LCM" SFV="ATP" B01="CM" N01="C" N02="4" AST="C">
                <BIR B20="70" N0D="L" L01="U" />
                <BIR B20="32" N0D="K" L01="U" />
                <BIR B20="62" N0D="I" L01="U" />
                <BIR B20="158" N0D="C" L01="U" />
                <SDC DC1="32" D00="UP TO 70 POUNDS/32 KILOGRAMS" />
                <SDC DC1="6U" D00="UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS" />
                <OOS A01="SCL" A02="CLO">
                  <Q00>03</Q00>
                  <Q00>04</Q00>
                  <SUM B70="ADT" C51="175.00" C5A="USD" C52="111890" C5B="CLP" N21="X" C50="111890" />
                  <SFQ />
                  <DTE D01="1980-01-01" D02="9999-12-31" />
                  <FAT N41="4" N45="N" P03="N" P04="N" />
                  <BGD OC1="-1" OC2="-1" B20="32" N0D="K" />
                </OOS>
              </OSC>
              <OSC SHK="0ID" SFF="EXCESS SIZE" SFV="ATP" B01="CM" N01="C" N02="4" AST="C">
                <SDC DC1="X9" D00="EXCESS SIZE" />
                <OOS A01="SCL" A02="CLO">
                  <Q00>03</Q00>
                  <Q00>04</Q00>
                  <SUM B70="ADT" C51="100.00" C5A="USD" C52="63937" C5B="CLP" N21="X" C50="63937" />
                  <SFQ />
                  <DTE D01="1980-01-01" D02="9999-12-31" />
                  <FAT N41="4" N45="N" P03="N" P04="N" />
                  <BGD OC1="-1" OC2="-1" />
                  <TTX TXT="THE OVERSIZE BAGGAGE MUST NOT EXCEDD 107 LINEAL" />
                  <TTX TXT="INCHES." />
                </OOS>
              </OSC>
              <OSC SHK="0IK" SFF="EXCESS WEIGHT" SFV="ATP" B01="CM" N01="C" N02="4" AST="C">
                <SDC DC1="X8" D00="EXCESS WEIGHT" />
                <OOS N11="J" A01="SCL" A02="CLO">
                  <Q00>03</Q00>
                  <Q00>04</Q00>
                  <SUM B70="ADT" C51="250.00" C5A="USD" C52="159843" C5B="CLP" N21="X" C50="159843" />
                  <SFQ />
                  <DTE D01="1980-01-01" D02="9999-12-31" />
                  <FAT N41="K" N45="N" P03="N" P04="N" />
                  <BGD OC1="-1" OC2="-1" B20="65" N0D="K" />
                </OOS>
              </OSC>
              <OSC SHK="0LN" SFF="CARRYON HAND BAGGAGE ALLOWANCE" SFV="ATP" B01="CM" N01="C" N02="4" ASG="CY" ASD="CARRY ON HAND BAGGAGE" AST="B">
                <OOS A01="PTY" A02="CLO">
                  <Q00>04</Q00>
                  <SUM B70="ADT" C51="0" C5B="CLP" C50="0" />
                  <SFQ />
                  <DTE D01="1980-01-01" D02="9999-12-31" />
                  <FAT N43="F" />
                  <BGA BPC="1">
                    <MSG N06="X" Q0K="0" S18="PERMITTED ONE CARRY-ON THAT DOES NOT EXCEED 46" />
                    <MSG N06="X" Q0K="0" S18="LINEAL INCHES AND 10KG" />
                  </BGA>
                  <TTX TXT="PERMITTED ONE CARRY-ON THAT DOES NOT EXCEED 46" />
                  <TTX TXT="LINEAL INCHES AND 10KG" />
                </OOS>
              </OSC>
            </OCG>
          </ITN>
        </AncillaryPricingResponse>
Files updated:
        FreeBagService\BaggageAncillaryChargesValidator.cpp
        FreeBagService\BaggageAncillaryChargesValidator.h<br>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [ ] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Piotr Szyba
Code reviewers: Brajesh Tiwari, Janusz Jagodzinski
BA: 
QA: Grzegorz Mozdzierz

Title: RAT-199 - D8 Malaysia tax, ver.2
Date: 03/18/2015
Description:
        https://jira.sabre.com/browse/RAT-199
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        The change is activated by SPN in sequence deffinition: 217
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        https://jira.sabre.com/browse/RAT-199
Example after:
        https://jira.sabre.com/browse/RAT-199
Files updated:
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Marcin Skalski
Code reviewers: Grzegorz Szczurek, Grzegorz Wanke
BA: Gary.Nash@sabre.com, Lee.Anna.Sedgwick@sabre.com
QA: Mussuto, Helene <Helene.Mussuto@sabre.com>

Title: {Tech Initiative] Refactor Managers Code to remove duplicates.
Date: 03/18/2015
Description:
        Code for some Managers was a copy-paste. Changed it to template.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        n/a
Resolution/QA recommendation:
        refactoring only, no change expected
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
        Manager/CacheNotifyManager.cpp
        Manager/CacheNotifyManager.h
        Manager/CacheNotifyThread.cpp
        Manager/CacheNotifyThread.h
        Manager/DiskCacheManager.cpp
        Manager/DiskCacheManager.h
        Manager/DiskCacheThread.cpp
        Manager/DiskCacheThread.h
        Manager/Manager.h
        Manager/ManagerThread.h
        Manager/ServerSocketManager.h
        Manager/SimpleManager.h<br>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Marek Markiewicz
Code reviewers: Damian Krolik, Gustaw Smolarczyk
BA: 
QA: 

Title: [Cat8 APO-38316] Update logic on SKIP return
Date: 03/18/2015
Description:
        APO-38316 was caused by miss handling a THEN cat8 record3 SKIP return (because of table 994 unmatched). This change was at rule controller, to ignore cat8 SKIP returned record3.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_SECTION\FALLBACK_CAT8_SKIP_RTN_FIX = N
         With this delivery, the change is activated at Pricing and Historical Pricing only, so more evaluation can be done.
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        See example in APO
Example after:
        See example in APO
Files updated:
        Common/FallBack.cpp
         Rules/CategoryRuleItemSet.cpp
Unit tests files:
        N/A
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Simon Li
Code reviewers: Vladimir Koliasnikov
BA: Richard Rummell
QA: 

Title: Optimize alliance check
Date: 03/18/2015
Description:
        Address negative performance impact from the change that enables suppport for alliances for non rtw fares.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        <code>ALLIANCE_CODE_AND_EMBEDDED_SURFACE</code>
Resolution/QA recommendation:
        There should be no impact but the change affect CAT4 and CAT15.
Entry/XML to recreate:
        n/a
Example before:
        n/a
Example after:
        n/a
Files updated:
        CarrierUtil.cpp
        CarrierUtil.h
Unit tests files:
        n/a
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Damian Krolik
Code reviewers: Gustaw Smolarczyk, Artur Krezel
BA: n/a
QA: n/a

Title: Use ConfigurableValue to optimize reads from ConfigMan
Date: 03/18/2015
Description:
        Frequest reads from config manager can cause significant performance hit so it's better to cache data in global variables.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        USE_CONFIGURABLE_VALUE
Resolution/QA recommendation:
        I don't expect any changes from this change but it affects many areas of the code.
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
        AddonConstruction/GatewayPair.cpp
        Common/ConfigList.h
        Common/ConfigurableValue.h
        Common/FallBack.cpp
        Common/TypeConvert.cpp
        Common/TypeConvert.h
        Fares/FareValidatorOrchestrator.cpp
        Fares/FareValidatorOrchestratorShopping.cpp
        Pricing/FarePathFactory.cpp
        Pricing/PaxTypeFareBitmapValidator.cpp
        Pricing/PricingOrchestrator.cpp
        Pricing/Shopping/PQ/ASOCandidateChecker.cpp
        Pricing/ShoppingPaxFarePathFactory.cpp
        Xform/XMLShoppingHandler.h
Unit tests files:
        Common/test/DynamicConfigurableFallbackValueTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Damian Krolik
Code reviewers: Grzegorz Lisowski, Gustaw Smolarczyk
BA: n/a
QA: n/a

Title: [Hardenings] Memory Management in PO
Date: 03/18/2015
Description:
        Introduced MemoryManager that controls PQ expansion
            of all active Trx and stops the expansion of the heaviest
            when total memory consumed in PQ exceeds configurable limit.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        added to <FAM=atsev2>:<br>
        [ADAPTERS]
        MEMORY_ADP = libMemoryManagerAdapter.so<br>
        [MANAGERS]
        MEMORY_MAN = libMemoryManager.so<br>
        [MEMORY_ADP]
        UPDATE_PERIOD = 3
        INITIAL_CAPACITY = 100
        THRESHOLD = 21474836480
        SAFE_USAGE_PERCENTAGE = 95<br>
        [MEMORY_MAN]
        SERVICE_ADAPTER = MEMORY_ADP
        SERVICE_NAME = TO_SVC<br>
        [FALLBACK_SECTION]
        PO_MEMORY_MANAGER = Y
Resolution/QA recommendation:
        The code is inactive for now, will be activated in R4.
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
        Adapter/GlobalMemoryManager.cpp
        Adapter/GlobalMemoryManager.h
        Adapter/Makefile
        Adapter/Makefile.sources
        Adapter/MemoryManagerAdapter.cpp
        Adapter/MemoryManagerAdapter.h
        Adapter/SConscript
        Common/AbstractMemoryManager.cpp
        Common/AbstractMemoryManager.h
        Common/FallBack.cpp
        Common/LocalMemoryManager.cpp
        Common/LocalMemoryManager.h
        Common/Makefile.sources
        Common/OutOfMemoryException.h
        Common/Thread/PeriodicTask.h
        Common/TypeConvert.cpp
        Common/TypeConvert.h
        DataModel/BaseTrx.cpp
        DataModel/BaseTrx.h
        DataModel/CacheTrx.h
        DataModel/Itin.cpp
        DataModel/Itin.h
        DataModel/PricingTrx.cpp
        DataModel/SerializationTrx.h
        DataModel/Trx.cpp
        DataModel/Trx.h
        Manager/Makefile
        Manager/Makefile.sources
        Manager/MemoryManager.cpp
        Manager/MemoryManagerThread.cpp
        Manager/MemoryManagerThread.h
        Manager/SConscript
        Pricing/CountingObjectPoolMemoryManager.h
        Pricing/FarePathFactory.cpp
        Pricing/FarePathFactoryStorage.cpp
        Pricing/FarePathFactoryStorage.h
        Pricing/ItinThreadTask.h
        Pricing/ObjectPoolMemoryManager.h
        Pricing/PricingOrchestrator.cpp
        Server/Makefile
        Server/SConscript
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Marek Markiewicz
Code reviewers: Damian Krolik, Gustaw Smolarczyk, Grzegorz Lisowski, Mohammad Hossan
BA: 
QA: 

Title: New TSS caches
Date: 03/18/2015
Description:
        New TSS caches
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_NEW_TSS_CACHES = Y
        not active
Resolution/QA recommendation:
        regression
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
        #       modified:   Common/LocUtil.cpp
        #       modified:   Common/LocUtil.h
        #       modified:   DBAccess/DataHandle.cpp
        #       modified:   DBAccess/TSSCache.cpp
        #       modified:   DBAccess/TSSCache.h
        #       modified:   Fares/FareByRuleOverrideCategoryMatcher.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Ilya Entin
Code reviewers: Vladimir Koliasnikov
BA: 
QA: 

Title: [RBD By Cabin Answer Table] S-386248 Modify diag 198; Update RBD By Cabin utility;
Date: 03/18/2015
Description:
        S-386248 Modify diag 198
        As a developer modify diagnostic 198 to display that the RBD By Cabin logic is active or inactive<br>
        <u>Acceptance Criteria</u>:
        Ensure the following field   "RBD BY CABIN ANSWER TABLE ACTIVE: YES" is displayed in diagnostic 198 at the end of the OPTIONS portion when RBD By Cabin functionality is switched "on"
        Ensure the following field   "RBD BY CABIN ANSWER TABLE ACTIVE: NO" is displayed in diagnostic 198 at the end of the OPTIONS portion when RBD By Cabin functionality is switched  off 
        Update RBD By Cabin utility - add logic to validate all fields in the Rbd By Cabin individual row.
        All code is dormant.<br>
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        All code is under dynamic configuration activation date setted up for the far future date.
        ATPCO_RBDBYCABIN_ANSWER_TABLE_ACTIVATION_DATE = 2025-01-31
Resolution/QA recommendation:
        N/A
Entry/XML to recreate:
        N/A
Example before:
        Diagnostic 198
        ...
        EXCLUDE FARE FOCUS RULES: F                                     
        FARE SELECTION ACTIVE: NO                                      
        NUMBER OF FARES FOR ALTERNATE DATES PRECALCULATION: 0           
        ***************** END OPTIONS *****************************
Example after:
        current Diagnostic 198  with the latest changes
        ...
        EXCLUDE FARE FOCUS RULES: F                                    
        FARE SELECTION ACTIVE: NO                                     
        NUMBER OF FARES FOR ALTERNATE DATES PRECALCULATION: 0          
        ***************** END OPTIONS *****************************
Files updated:
        Common/RBDByCabinUtil.cpp
        Common/RBDByCabinUtil.h
        Diagnostic/Diag187Collector.cpp
        Diagnostic/Diag198Collector.cpp
        ServiceFees/AncillaryPricingValidator.cpp
        ServiceFees/AncillaryPricingValidator.h
        ServiceFees/OptionalServicesValidator.cpp
Unit tests files:
        Common/test/TrxUtilTest.cpp
        Common/test/RBDByCabinUtilTest.cpp
        ServiceFees/test/AncillaryPricingValidatorTest.cpp
        ServiceFees/test/OptionalServicesValidatorTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [ ] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [X] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Alexander Zagrebin
Code reviewers: Ilya Entin
BA: Richard Rummell
QA: 

Title: [ICER] Use only the direct rate for DC* displays
Date: 03/19/2015
Description:
        Use only the direct rate for DC* displays. Remove verbiage related to 'direct rates' and 'common conversions', since all conversions will be direct.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        ICER_ACTIVATION_DATE
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        None
Example after:
        None
Files updated:
        Currency/LocalCurrencyDisplay.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [X] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Mike Arterburn
Code reviewers: Nakamon Thamsiriboon
BA: Stan Ovrevik
QA: Kaleshia Newsome-Kjaun

Title: [TNS] Skip fare markets that don't match current brand combination
Date: 03/19/2015
Description:
        When combining brands into combinations that are priced separately we sometimes remove some of the carriers from some of them. For example if a given carrier doesn't have brand at all we only use it in the cheapest path etc. Because of that in some of the combinations we should remove fare markets in which this carrier is a governing one.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        .
Resolution/QA recommendation:
        Retest BFA mode of Brands for TN Shopping. Check if filtering brands by cabin still works correctly.
Entry/XML to recreate:
Example before:
        .
Example after:
        .
Files updated:
        Common/TNBrands/ItinBranding.h
        DataModel/IbfAvailabilityTools.cpp
        Pricing/FareMarketMerger.cpp<br>
Unit tests files:
        Common/TNBrands/test/ItinBrandingTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Michal Mlynek
Code reviewers: Andrzej Fediuk, Artur De Sousa Rocha
BA: Arkadiusz Smoragiewicz
QA: Lukasz Rak

Title: Revert validation cat 12 changes
Date: 03/19/2015
Description:
        Before, after validation 12 for children failed all fare path was erased, and again copied from mother.
        But now, before cat 12 validation, there is added cat 8 validation, there could be other stopover surcharges counted - and then erased after cat 12 failure . So there was need to add only reverting cat 12 surcharges changes.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_SECTION\VALIDATE_CAT8_FOR_CHILDREN
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        -
Example after:
        -
Files updated:
        Pricing/PricingOrchestrator.cpp
        Pricing/PricingOrchestrator.h
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Michal Jedros
Code reviewers: Marek Markiewicz, Piotr Wojcik
BA: 
QA: 

Title: [TNS][SSDMPS-112]Duplicated brand combination
Date: 03/19/2015
Description:
        All duplicated solutions are removed from itin.
        Brands valid for more than one cabin are used only in the cheapest cabin.
        Diagnostics 892 with DDINFO displays deduplication information.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        DYNAMIC_LOADABLE\FALLBACK_SECTION::FALLBACK_ADVANCED_BFA_DEDUPLICATION Y
         FALLBACK_SECTION\FALLBACK_ADVANCED_BFA_DEDUPLICATION N
Resolution/QA recommendation:
        Verify on problematic requests. Use diagnostic 892 to see which branding option spaces were deduplicated, and why.
Entry/XML to recreate:
        N/A
Example before:
        N/A
Example after:
        N/A
Files updated:
        Common/FallBack.cpp
        Common/TNBrands/BrandingOptionSpacesDeduplicator.h
        Common/TNBrands/ItinBranding.h
        Common/TNBrands/TNBrandsFunctions.cpp
        Common/TNBrands/TNBrandsFunctions.h
        Common/TNBrands/test/BrandingOptionSpacesDeduplicatorTest.cpp
        Common/TNBrands/test/ItinBrandingTest.cpp
        Common/TNBrands/test/TNBrandsFunctionsTest.cpp
        Common/TNBrands/test/TNBrandsMocks.h
        DataModel/TNBrandsTypes.h
        Diagnostic/Diag892Collector.cpp
        Diagnostic/Diag892Collector.h
        Diagnostic/test/Diag892CollectorTest.cpp
        Fares/FareValidatorOrchestrator.cpp
        Pricing/PricingOrchestrator.cpp
        Service/TransactionOrchestrator.cpp
        Xform/XMLShoppingResponse.cpp
Unit tests files:
        Common/TNBrands/test/BrandingOptionSpacesDeduplicatorTest.cpp
        Common/TNBrands/test/ItinBrandingTest.cpp
        Common/TNBrands/test/TNBrandsFunctionsTest.cpp
        Common/TNBrands/test/TNBrandsMocks.h
        Diagnostic/test/Diag892CollectorTest.cpp<br>
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Andrzej Fediuk
Code reviewers: Michal Mlynek; Artur De Sousa Rocha; Bartosik Piotr
BA: Smoragiewicz Arkadiusz
QA: Rak Lukasz

Title: [ATPCO Taxes] ATPCO-353 XF PFC charge is caculated twice on NEW ATPCO TAX engine
Date: 03/19/2015
Description:
        Do not process PFC items in some phases.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_SECTION\ATPCO_TAX_PHASESREFACTORING
         ATPCO_TAXES_ON_OC_ENABLED
         ATPCO_TAXES_ONCHANGEFEE_ENABLED
         ATPCO_TAXES_ON_ITIN_ENABLED
Resolution/QA recommendation:
Entry/XML to recreate:
        <PRICINGREQUEST VERSION="1.1.8">
          <AGI A10="MIA" A20="80K2" A21="9I98" A80="80K2" A90="-3R" AB0="9999999" AB1="9999999" B00="1S" C40="USD" N0G="*" Q01="34" />
          <BIL A20="HDQ" A22="80K2" A70="WPQ/*" AA0="-3R" AD0="0E3A71" AE0="AA" C00="3166824525476312304" C20="INTLWPI1" S0R="LBTY" Q02="0" Q03="0" />
          <PRO C45="USD" D07="2015-03-17" D54="0296" PBK="T" N08="B" Q0P="1" P0J="T" S14="WPQ/*196" SEZ="T" SEY="T" PPC="T" S15="CRSAGT" />
          <PXI B70="ADT" Q0U="1" />
          <SGI Q0C="1">
            <FLI Q0C="1" N03="A" B00="US" B01="AA" A01="MIA" A02="DFW" B30="Y" D01="2015-05-20" Q0B="1325" D02="2015-05-20" D00="2015-03-17" D31="0741" D32="0870" D30="0296" BB2="QF" BB0="OK" B40="738" />
          </SGI>
          <SGI Q0C="2">
            <FLI Q0C="2" N03="A" B00="AS" B01="AA" A01="DFW" A02="SFO" B30="Y" D01="2015-05-22" Q0B="1593" D02="2015-05-22" D00="2015-03-17" D31="0830" D32="0937" D30="0296" BB2="SS" BB0="OK" B40="757" />
          </SGI>
          <RES>
            <IDS B00="AS" Q0B="1593" B30="Y" D01="2015-05-22" D31="1350" A01="DFW" D02="2015-05-22" D32="1537" A02="SFO" A70="SS" Q0U="1" N0V="J" P2X="ET" />
          </RES>
          <POC A03="MIA" D01="2015-05-20" D02="1221" />
        </PRICINGREQUEST>
Example before:
        <MSG N06="B" Q0K="0" S18="EXCESS OVER ALLOWANCE NOT PERMITTED" />
              <TAX BC0="XF" C6B="9.00" C40="USD" S05="MIA" S04="PASSENGER FACILITY CHARGE" C6A="4.50" C41="USD" A40="US" />
              <TAX BC0="AY" C6B="11.20" C40="USD" S05="MIA" S04="PASSENGER CIVIL AVIATION SECURITY SERVICE FEE" C6A="5.60" C41="USD" A40="US" />
              <TAX BC0="US1" C6B="149.60" C40="USD" S05="MIA" S04="TRANSPORTATION TAX DOMESTIC WHOLLY WITHIN US AND 225 MILE BUFFER ZONE" C6A="0.07" C41="USD" A40="US" />
              <TAX BC0="ZP" C6B="8.00" C40="USD" S05="MIA" S04="FLIGHT SEGMENT TAX DOMESTIC" C6A="4.00" C41="USD" A40="US" />
              <TAX BC0="XF" C6B="18.00" C40="USD" S05="MIA" S04="PASSENGER FACILITY CHARGE" C6A="4.50" C41="USD" A40="US" />
              <TBD BC0="AY" C6B="5.60" C41="USD" C6A="5.60" A04="US" S05="MIA" C40="USD" A06="F" A40="US" S04="PASSENGER CIVIL AVIATION SECURITY SERVICE FEE" />
              <TBD BC0="AY" C6B="5.60" C41="USD" C6A="5.60" A04="AS" S05="DFW" C40="USD" A06="F" A40="US" S04="PASSENGER CIVIL AVIATION SECURITY SERVICE FEE" />
              <TBD BC0="US1" C6B="149.60" C41="USD" C6A="149.60" A04="US" S05="MIA" C40="USD" A06="P" A40="US" S04="TRANSPORTATION TAX DOMESTIC WHOLLY WITHIN US AND 225 MILE BUFFER ZONE" />
              <TBD BC0="ZP" C6B="4.00" C41="USD" C6A="4.00" A04="US" S05="MIA" C40="USD" A06="F" A40="US" S04="FLIGHT SEGMENT TAX DOMESTIC" />
              <TBD BC0="ZP" C6B="4.00" C41="USD" C6A="4.00" A04="AS" S05="DFW" C40="USD" A06="F" A40="US" S04="FLIGHT SEGMENT TAX DOMESTIC" />
              <TBD BC0="XF" C6B="4.50" C40="USD" C6A="4.50" S05="MIA" A40="US" S04="PASSENGER FACILITY CHARGES" C41="USD" />
              <TBD BC0="XF" C6B="4.50" C40="USD" C6A="4.50" S05="DFW" A40="US" S04="PASSENGER FACILITY CHARGES" C41="USD" />
              <TBD BC0="XF" C6B="4.50" C40="USD" C6A="4.50" S05="MIA" A40="US" S04="PASSENGER FACILITY CHARGES" C41="USD" />
              <TBD BC0="XF" C6B="4.50" C40="USD" C6A="4.50" S05="DFW" A40="US" S04="PASSENGER FACILITY CHARGES" C41="USD" />
              <CAL A11="MIA" A01="MIA" B08="US" A12="DFW" A02="DFW" C50="1018.60" B50="YA2AA" Q04="5" B71="ADT" B02="US" N00="Y" A41="US" A51="1" A31="USFL" A42="US" A52="1" A32="USTX" C51="1018.60" C40="USD" P04="T" P05="F" D00="2015-05-20" N0K="P" P2M="F" PAY="F" PAZ="F" Q4J="1" N1K="O" S70="FR" A60="WH" FTY="00" S53="EU" PPF="0"></pre>
Example after:
        <MSG N06="B" Q0K="0" S18="EXCESS OVER ALLOWANCE NOT PERMITTED" />
              <TAX BC0="US1" C6B="149.58" C40="USD" S05="MIA" S04="US DOMESTIC TRANSPORTATION TAX" C6A="0.07" C41="USD" A40="US" />
              <TAX BC0="ZP" C6B="8.00" C40="USD" S05="MIA" S04="SEGMENT TAX" C6A="4.00" C41="USD" A40="US" />
              <TAX BC0="AY" C6B="11.20" C40="USD" S05="MIA" S04="US SECURITY FEE" C6A="5.60" C41="USD" A40="US" />
              <TAX BC0="XF" C6B="9.00" C40="USD" S05="MIA" S04="PASSENGER FACILITY CHARGE" C6A="4.50" C41="USD" A40="US" />
              <TBD BC0="US1" C6B="149.58" C41="USD" C6A="149.58" A04="US" S05="MIA" C40="USD" A06="P" A40="US" S04="US DOMESTIC TRANSPORTATION TAX" />
              <TBD BC0="ZP" C6B="4.00" C41="USD" C6A="4.00" A04="US" S05="MIA" C40="USD" A06="F" A40="US" S04="SEGMENT TAX" />
              <TBD BC0="ZP" C6B="4.00" C41="USD" C6A="4.00" A04="AS" S05="DFW" C40="USD" A06="F" A40="US" S04="SEGMENT TAX" />
              <TBD BC0="AY" C6B="5.60" C41="USD" C6A="5.60" A04="US" S05="MIA" C40="USD" A06="F" A40="US" S04="US SECURITY FEE" />
              <TBD BC0="AY" C6B="5.60" C41="USD" C6A="5.60" A04="AS" S05="DFW" C40="USD" A06="F" A40="US" S04="US SECURITY FEE" />
              <TBD BC0="XF" C6B="4.50" C40="USD" C6A="4.50" S05="MIA" A40="US" S04="PASSENGER FACILITY CHARGES" C41="USD" />
              <TBD BC0="XF" C6B="4.50" C40="USD" C6A="4.50" S05="DFW" A40="US" S04="PASSENGER FACILITY CHARGES" C41="USD" />
              <CAL A11="MIA" A01="MIA" B08="US" A12="DFW" A02="DFW" C50="1018.60" B50="YA2AA" Q04="5" B71="ADT" B02="US" N00="Y" A41="US" A51="1" A31="USFL" A42="US" A52="1" A32="USTX" C51="1018.60" C40="USD" P04="T" P05="F" D00="2015-05-20" N0K="P" P2M="F" PAY="F" PAZ="F" Q4J="1" N1K="O" S70="FR" A60="WH" FTY="00" S53="EU" PPF="0"></pre>
Files updated:
        Taxes/AtpcoTaxes/Common/AtpcoTaxesActivationStatus.cpp
        Taxes/AtpcoTaxes/Common/AtpcoTaxesActivationStatus.h
        Taxes/Dispatcher/AtpcoTaxOrchestrator.cpp
        Taxes/LegacyFacades/ResponseConverter.cpp
        Taxes/LegacyFacades/ServicesFeesCollector.cpp
        Taxes/LegacyTaxes/TaxDriver.cpp
        Taxes/LegacyTaxes/TaxRecord.cpp
        Taxes/LegacyTaxes/TaxRecord.h<br>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [X] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Krawczyk Maciej
Code reviewers: Lach Piotr, Roman Jacek
BA: 
QA: 

Title: [AB-240] Activate AB240_DECOUPLE_SERVICE_FEES_AND_FREE_BAG_SERVICE in CERT
Date: 03/19/2015
Description:
        Activate AB240_DECOUPLE_SERVICE_FEES_AND_FREE_BAG_SERVICE in CERT in R4 2015
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        Activate_AB240_DECOUPLE_SERVICE_FEES_AND_FREE_BAG_SERVICE-sg218090 sg218090 true atsev2.2015.04.00 2015-03-19 08:44:48
        <FAM=atsev2><APP=historical><ENV=cert> tseserver FALLBACK_SECTION\AB240_DECOUPLE_SERVICE_FEES_AND_FREE_BAG_SERVICE N Activate AB240_DECOUPLE_SERVICE_FEES_AND_FREE_BAG_SERVICE in CERT in R4 2015 = SCALAR N/A N N CREATED
        <FAM=atsev2><APP=pricingv2><ENV=cert> tseserver FALLBACK_SECTION\AB240_DECOUPLE_SERVICE_FEES_AND_FREE_BAG_SERVICE N Activate AB240_DECOUPLE_SERVICE_FEES_AND_FREE_BAG_SERVICE in CERT in R4 2015 = SCALAR N/A N N CREATED
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Brajesh Tiwari
Code reviewers: Pavlo.Ovcharenko@sabre.com
BA: Joanna.Chrapek@sabre.com
QA: Grzegorz.Mozdzierz@sabre.com;Joanna.Kozlowska@sabre.com

Title: Pricing Response Formatter Refactoring
Date: 03/18/2015
Description:
        Response Fromating Refactoring for OB fees
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        PricingResponseFormatter.cpp
        PricingResponseFormatter.h    
        PricingResponseFormatterTest.cpp
Unit tests files:
        PricingResponseFormatterTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Bernard Rusin
Code reviewers: Leszek Banaszek, Radoslaw Przybyl
BA: 
QA: 

Title: Additional fix for selecting date during currrency conversion
Date: 03/19/2015
Description:
        Additional fix for selecting date during currrency conversion
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        CURRENCY_CONVERSION_DATE fallback can disable both commits
Resolution/QA recommendation:
        regression
Entry/XML to recreate:
        n/a
Example before:
        n/a
Example after:
        n/a
Files updated:
        Common/CurrencyConversionFacade.cpp
Unit tests files:
        n/a
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [X] Taxes
        [X] Currency
        [ ] Mileage
        [ ] Baggage
        [X] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Szczurek
Code reviewers: Grzegorz Szwarc
BA: Karin Kron
QA: n/a

Title: Add asan_symbolize.py to deploy
Date: 03/19/2015
Description:
        Useful for sandbox testing.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
        No impact
Entry/XML to recreate:
        N/A
Example before:
        N/A
Example after:
        N/A
Files updated:
        deploy/apps/tseshared/asan_symbolize.py
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Gustaw Smolarczyk
Code reviewers: Grzegorz Lisowski
BA: N/A
QA: N/A

Title: scons: Add missing optimization options
Date: 03/19/2015
Description:
        So that it's the same as with Makefiles
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
        No impact
Entry/XML to recreate:
        N/A
Example before:
        N/A
Example after:
        N/A
Files updated:
        scons/config.py
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Gustaw Smolarczyk
Code reviewers: Grzegorz Lisowski
BA: N/A
QA: N/A

Title: [SCI-427] Fix logic + make it work with mothers.
Date: 03/19/2015
Description:
        The previous logic stored finalBooking in the Itin, which is incorrect.
         Store it in FarePath for better results.<br>
         Also, GSA logic clones FarePaths and swaps them later on. Propagate the finalBooking to the cloned FarePaths so that it's not lost.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        Dynamic fallback SCI427_STORE_COS_IN_ITIN and SCI427_STORE_COS_IN_MOTHER_ITIN (the first one disables everything, the second one only part).
Resolution/QA recommendation:
        The Q3S attribute may be different once again. This time, family logic doesn't need to be enabled.
        Specifically, the case with many PAX types in the request should be handled correctly.
Entry/XML to recreate:
        <ShoppingRequest D70="120" N06="M" STK="picli304:27038 2015-03-18T10:34:46 4c78">
         <AGI A10="FRA" A20="WL3G" A21="WL3G" A80="WL3G" A90="BFM" AB0="9999999" AB1="9999999" B00="1S"
         N0G="*" Q01="38" />
         <BIL A20="WL3G" A22="WL3G" A70="JR" AA0="BFM" AD0="000000" AE0="AA" C00="3280203465478517785"
         C01="3280203465478517785" C20="ATSEIMIP" C21="SISXX200" Q02="2902" Q03="925" />
         <PXI B70="ADT" Q0U="5" />
         <PRO ACX="AER01|FTI03" D07="2015-03-18" D54="994" FBS="T" MWI="F" P0J="T" PXE="T" SEV="T" SEZ="T"
         VTI="T" />
         <AAF B00="UA" B01="UA" P0Z="T" Q0B="3545" Q1K="0" S05="E70">
         <BRD A01="EWR" D01="2015-07-02" D31="1200" />
         <OFF A02="ORD" D02="2015-07-02" D32="1334" />
         </AAF>
         <AAF B00="CX" B01="CX" P0Z="T" Q0B="807" Q1K="1" S05="77W">
         <BRD A01="ORD" D01="2015-07-02" D31="1530" />
         <OFF A02="HKG" D02="2015-07-03" D32="2020" />
         </AAF>
         <AVL A01="EWR" A02="ORD" Q16="0">
         <FBK Q17="F0|C0|A0|D0|Z0|P0|Y9|B4|M0|E0|U0|H0|Q0|V0|W0|S0|T0|L0|K0|G0|N0" Q1K="0" />
         </AVL>
         <AVL A01="ORD" A02="HKG" Q16="1">
         <FBK Q17="F4|A4|J9|D9|I9|Y9|B9|H9|K9|M9|L9|S9|N9|Q9|O9" Q1K="1" />
         </AVL>
         <AVL A01="EWR" A02="HKG" Q16="2">
         <FBK Q17="F0|C0|A0|D0|Z0|P0|Y9|B4|M0|E0|U0|H0|Q0|V0|W0|S0|T0|L0|K0|G0|N0" Q1K="0" />
         <FBK Q17="F4|A4|J9|C9|D9|I9|W9|R9|E9|Y9|B9|H9|K9|M9|L9|V9|S9|N9|Q9|O9" Q1K="1" />
         </AVL>
         <LEG B31="Y" Q14="0">
         <SOP Q15="0">
         <FID Q1K="0" />
         <FID Q1K="1" />
         <AID Q16="0" />
         <AID Q16="1" />
         <AID Q16="2" />
         </SOP>
         </LEG>
         <ITN NUM="0" Q5Q="0">
         <SID Q14="0" Q15="0">
         <BKK B30="Y" B31="Y" />
         <BKK B30="Y" B31="Y" />
         </SID>
         </ITN>
         <OND A01="EWR" A02="HKG" D01="2015-07-02" />
         <OND A01="NYC" A02="HKG" D01="2015-07-02" />
        </ShoppingRequest>
Example before:
        <?xml version="1.0" encoding="utf-8"?>
        <ShoppingResponse STK="picli304:27038 2015-03-18T10:34:46 4c78" Q0S="1" Q0F="1">
         <ITN NUM="0" FML="M" B05="CX" P0J="T" VTA="F" PVT="F" FBR="F" STI="F">
         <SID Q14="0" Q15="0" />
         <SEG P2H="T">
         <BKC B30="Y" Q13="8" B31="Y" />
         </SEG>
         <SEG P2H="T">
         <BKC B30="V" Q13="8" B31="Y" />
         </SEG>
         <PSG Q0U="5" B70="ADT" C43="NUC" C5E="1951.82" C40="USD" C5A="1952.00" C46="EUR" C66="1901.17"
         C65="49.17" S07="EWR UA CHI Q46.51Q27.91 941.40CX HKG936.00NUC1951.82END ROE1.00 XFORD4.5"
         C54="1.00000000" Q05="8" P27="F" C5D="0.00" C5B="0.00">
         <FDC Q20="0" A01="EWR" A02="ORD" A11="EWR" A12="CHI" B00="UA" B50="YUA" B70="ADT" C40="USD"
         C50="941.40" C51="941.40" A60="WH" S70="FR" P0F="F" P04="T" P05="F" N0K="P" D00="2015-07-02"
         D05="2016-07-02">
         <BKC B30="Y" Q13="8" B31="Y" B52="YUA" Q3S="9" />
         <SUR A01="EWR" A02="ORD" N0F="Q" C40="NUC" C69="46.51" S03="MISCELLANEOUS/OTHER" />
         <SUR A01="EWR" A02="ORD" N0F="Q" C40="NUC" C69="27.91" S03="MISCELLANEOUS/OTHER" />
         <FAT PAW="T" N1L="L" Q0D="2" P2F="T" />
         <FDS A01="EWR" A02="ORD" A11="EWR" A12="CHI" P2H="T" PAW="T" P0F="F" Q0D="2" B30="Y"
         Q13="8" B31="Y" P2F="T" />
         <CAT>5 8 10 11 12 15 16 18 23</CAT>
         </FDC>
         <FDC Q20="1" A01="ORD" A02="HKG" A11="CHI" A12="HKG" B00="CX" B50="VKSPCLO" B70="ADT"
         C40="USD" C50="936.00" C51="936.00" A60="PA" S70="FR" P0F="F" P04="T" P05="F" N0K="P"
         D00="2015-07-02" D06="2015-07-02" D05="2015-07-02">
         <BKC B30="V" Q13="8" B31="Y" B52="VKSPCLO" <bgcolor=yellow>Q3S="1"</bgcolor> />
         <FAT PAW="T" N1L="F" Q0D="2" P2F="T" />
         <FDS A01="ORD" A02="HKG" A11="CHI" A12="HKG" P2H="T" PAW="T" P0F="F" Q0D="2" B30="V"
         Q13="8" B31="Y" P2F="T" />
         <CAT>3 4 5 7 8 9 10 15 16 18</CAT>
         </FDC>
         <TAD C40="EUR">
         <TAX BC0="YRF" C6B="22.78" S04="SERVICE FEE - FUEL" S05="ORD" C41="USD" C6A="24.00" />
         <TAX BC0="US2" C6B="16.80" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="ORD" C41="USD"
         C6A="17.70" A40="US" />
         <TAX BC0="AY" C6B="5.32" S04="US SECURITY FEE" S05="EWR" C41="USD" C6A="5.60" A40="US" />
         <TAX BC0="XF" C6B="4.27" S04="PASSENGER FACILITY CHARGES" S05="ORD" C41="USD" C6A="4.50"
         A40="US" />
         <TSM BC0="YRF" C6B="22.78" S05="ORD" S04="SERVICE FEE - FUEL" C6A="24.00" C41="USD" />
         <TSM BC0="US2" C6B="16.80" S05="ORD" S04="US INTERNATIONAL TRANSPORTATION TAX" C6A="17.70"
         C41="USD" A40="US" />
         <TSM BC0="AY" C6B="5.32" S05="EWR" S04="US SECURITY FEE" C6A="5.60" C41="USD" A40="US" />
         <TSM BC0="XF" C6B="4.27" S04="PASSENGER FACILITY CHARGE" C6A="4.50" C41="USD" A40="US" />
         </TAD>
         <CCD C41="USD" C42="EUR" C54="1.0539629" Q05="7" N02="O" />
         <MSG N06="N" Q0K="0" B00="UA">/-REFUNDABLE-/</MSG>
         <MSG N06="N" Q0K="0" B00="CX">CXNONEND/CHG-REF USD100</MSG>
         <MSG N06="W" Q0K="0" Q0M="D">VALIDATING CARRIER - CX</MSG>
         <MSG N06="W" Q0K="0" Q0M="D">CAT 15 SALES RESTRICTIONS FREE TEXT FOUND - VERIFY RULES</MSG>
         <BDI BPC="1">
         <Q00>0</Q00>
         <Q00>1</Q00>
         </BDI>
         </PSG>
         <TOT C43="NUC" C5E="9759.10" C40="USD" C5A="9760.00" C45="EUR" C5F="9260.00" C46="EUR"
         C65="245.85" C56="9505.85" />
         <VCL SM0="BSP" VC0="T">
         <DCX B00="CX" />
         </VCL>
         <MMS I10="T" />
         </ITN>
        </ShoppingResponse>
Example after:
        <?xml version="1.0" encoding="utf-8"?>
        <ShoppingResponse STK="picli304:27038 2015-03-18T10:34:46 4c78" Q0S="1" Q0F="1">
         <ITN NUM="0" FML="M" B05="CX" P0J="T" VTA="F" PVT="F" FBR="F" STI="F">
         <SID Q14="0" Q15="0" />
         <SEG P2H="T">
         <BKC B30="Y" Q13="8" B31="Y" />
         </SEG>
         <SEG P2H="T">
         <BKC B30="V" Q13="8" B31="Y" />
         </SEG>
         <PSG Q0U="5" B70="ADT" C43="NUC" C5E="1951.82" C40="USD" C5A="1952.00" C46="EUR" C66="1901.17"
         C65="49.17" S07="EWR UA CHI Q46.51Q27.91 941.40CX HKG936.00NUC1951.82END ROE1.00 XFORD4.5"
         C54="1.00000000" Q05="8" P27="F" C5D="0.00" C5B="0.00">
         <FDC Q20="0" A01="EWR" A02="ORD" A11="EWR" A12="CHI" B00="UA" B50="YUA" B70="ADT" C40="USD"
         C50="941.40" C51="941.40" A60="WH" S70="FR" P0F="F" P04="T" P05="F" N0K="P" D00="2015-07-02"
         D05="2016-07-02">
         <BKC B30="Y" Q13="8" B31="Y" B52="YUA" Q3S="9" />
         <SUR A01="EWR" A02="ORD" N0F="Q" C40="NUC" C69="46.51" S03="MISCELLANEOUS/OTHER" />
         <SUR A01="EWR" A02="ORD" N0F="Q" C40="NUC" C69="27.91" S03="MISCELLANEOUS/OTHER" />
         <FAT PAW="T" N1L="L" Q0D="2" P2F="T" />
         <FDS A01="EWR" A02="ORD" A11="EWR" A12="CHI" P2H="T" PAW="T" P0F="F" Q0D="2" B30="Y"
         Q13="8" B31="Y" P2F="T" />
         <CAT>5 8 10 11 12 15 16 18 23</CAT>
         </FDC>
         <FDC Q20="1" A01="ORD" A02="HKG" A11="CHI" A12="HKG" B00="CX" B50="VKSPCLO" B70="ADT"
         C40="USD" C50="936.00" C51="936.00" A60="PA" S70="FR" P0F="F" P04="T" P05="F" N0K="P"
         D00="2015-07-02" D06="2015-07-02" D05="2015-07-02">
         <BKC B30="V" Q13="8" B31="Y" B52="VKSPCLO" <bgcolor=yellow>Q3S="9"</bgcolor> />
         <FAT PAW="T" N1L="F" Q0D="2" P2F="T" />
         <FDS A01="ORD" A02="HKG" A11="CHI" A12="HKG" P2H="T" PAW="T" P0F="F" Q0D="2" B30="V"
         Q13="8" B31="Y" P2F="T" />
         <CAT>3 4 5 7 8 9 10 15 16 18</CAT>
         </FDC>
         <TAD C40="EUR">
         <TAX BC0="YRF" C6B="22.78" S04="SERVICE FEE - FUEL" S05="ORD" C41="USD" C6A="24.00" />
         <TAX BC0="US2" C6B="16.80" S04="US INTERNATIONAL TRANSPORTATION TAX" S05="ORD" C41="USD"
         C6A="17.70" A40="US" />
         <TAX BC0="AY" C6B="5.32" S04="US SECURITY FEE" S05="EWR" C41="USD" C6A="5.60" A40="US" />
         <TAX BC0="XF" C6B="4.27" S04="PASSENGER FACILITY CHARGES" S05="ORD" C41="USD" C6A="4.50"
         A40="US" />
         <TSM BC0="YRF" C6B="22.78" S05="ORD" S04="SERVICE FEE - FUEL" C6A="24.00" C41="USD" />
         <TSM BC0="US2" C6B="16.80" S05="ORD" S04="US INTERNATIONAL TRANSPORTATION TAX" C6A="17.70"
         C41="USD" A40="US" />
         <TSM BC0="AY" C6B="5.32" S05="EWR" S04="US SECURITY FEE" C6A="5.60" C41="USD" A40="US" />
         <TSM BC0="XF" C6B="4.27" S04="PASSENGER FACILITY CHARGE" C6A="4.50" C41="USD" A40="US" />
         </TAD>
         <CCD C41="USD" C42="EUR" C54="1.0539629" Q05="7" N02="O" />
         <MSG N06="N" Q0K="0" B00="UA">/-REFUNDABLE-/</MSG>
         <MSG N06="N" Q0K="0" B00="CX">CXNONEND/CHG-REF USD100</MSG>
         <MSG N06="W" Q0K="0" Q0M="D">VALIDATING CARRIER - CX</MSG>
         <MSG N06="W" Q0K="0" Q0M="D">CAT 15 SALES RESTRICTIONS FREE TEXT FOUND - VERIFY RULES</MSG>
         <BDI BPC="1">
         <Q00>0</Q00>
         <Q00>1</Q00>
         </BDI>
         </PSG>
         <TOT C43="NUC" C5E="9759.10" C40="USD" C5A="9760.00" C45="EUR" C5F="9260.00" C46="EUR"
         C65="245.85" C56="9505.85" />
         <VCL SM0="BSP" VC0="T">
         <DCX B00="CX" />
         </VCL>
         <MMS I10="T" />
         </ITN>
        </ShoppingResponse>
Files updated:
        Common/FallBack.cpp
        Common/ShoppingUtil.cpp
        Common/ShoppingUtil.h
        DataModel/FarePath.cpp
        DataModel/FarePath.h
        DataModel/Itin.h
        Pricing/PricingOrchestrator.cpp
        Xform/XMLShoppingResponse.cpp
        Xform/XMLShoppingResponse.h
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [X] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Gustaw Smolarczyk
Code reviewers: Marek Markiewicz, Radoslaw Przybyl, Piotr Wojcik
BA: N/A
QA: N/A

Title: Don't display uncompressed baggage text in WPA
Date: 03/19/2015
Description:
        Baggage disclosure should be only displayed in secondary entry (WPA*1, WP1). Initially when one fare was generated by WPA we displayed incorrect text BAGGAGETEXT001. My previous fix replaced this text with proper baggage disclosure but then customers decided that they don't want baggage disclosure at this point at all.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        <code>FALLBACK_SECTION\FIX_WPA_MESSAGES</code>
Resolution/QA recommendation:
        n/a
Entry/XML to recreate:
        n/a
Example before:
        n/a
Example after:
        n/a
Files updated:
        Xform/AltPricingResponseFormatter.cpp
        Xform/AltPricingResponseFormatter.h
Unit tests files:
        n/a
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [X] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Damian Krolik
Code reviewers: Michal Jedros
BA: Sergio Bestulic
QA: n/a

Title: Don't display uncompressed baggage text in WPA
Date: 03/19/2015
Description:
        Baggage disclosure should be only displayed in secondary entry (WPA*1, WP1). Initially when one fare was generated by WPA we displayed incorrect text BAGGAGETEXT001. My previous fix replaced this text with proper baggage disclosure but then customers decided that they don't want baggage disclosure at this point at all.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        <code>FALLBACK_SECTION\FIX_WPA_MESSAGES</code>
Resolution/QA recommendation:
        n/a
Entry/XML to recreate:
        n/a
Example before:
        n/a
Example after:
        n/a
Files updated:
        Xform/AltPricingResponseFormatter.cpp
        Xform/AltPricingResponseFormatter.h
Unit tests files:
        n/a
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [X] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Damian Krolik
Code reviewers: Michal Jedros
BA: Sergio Bestulic
QA: n/a

Title: Call DSS for baggage request
Date: 03/19/2015
Description:
        BaggageRequest (for phase 2 of CTA project planned for R5) can sometimes miss information about hidden stops and equipment type required while baggage rules validation. Therefore, we should call DSS to obtain that data.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_SECTION\CALL_DSS_IN_BAGGAGE_REQUEST
Resolution/QA recommendation:
        BaggageRequest is currently not used and it will be tested in the second phase of CTA
Entry/XML to recreate:
        n/a
Example before:
        n/a
Example after:
        n/a
Files updated:
        ATAE/ContentServices.cpp
        ATAE/ContentServices.h
        Common/FallBack.cpp
        ItinAnalyzer/ItinAnalyzerService.cpp
Unit tests files:
        n/a
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [X] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Damian Krolik
Code reviewers: Michal Jedros, Artur Krezel
BA: n/a
QA: n/a

Title: [Fallback] Removing fallbacks for R4
Date: 03/19/2015
Description:
        Removing fallback for R4
        Change-Id: I3e4470a552f1c8db22951f628f68c5a297e495b6<br>
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        remove-fallbacks-for-R4-sg211443
            <FAM=atsev2>        tseserver       DYNAMIC_LOADABLE\FALLBACK_SECTION::FALLBACK_GSA_CHECK_IN_CAC_TABLE REMOVED
            <FAM=atsev2>        tseserver       DYNAMIC_LOADABLE\FALLBACK_SECTION::FALLBACK_TSDTS402_MISSING_ENDORSEMENT REMOVED
            <FAM=atsev2>        tseserver       DYNAMIC_LOADABLE\FALLBACK_SECTION::FALLBACK_VALIDATINGCXR_TSDTS390 REMOVED
            <FAM=atsev2>        tseserver       FALLBACK_SECTION\FALLBACK_GSA_CHECK_IN_CAC_TABLE REMOVED
            <FAM=atsev2>        tseserver       FALLBACK_SECTION\FALLBACK_TSDTS402_MISSING_ENDORSEMENT REMOVED
            <FAM=atsev2>        tseserver       FALLBACK_SECTION\FALLBACK_VALIDATINGCXR_TSDTS390 REMOVED<br>
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        None
Example after:
        None
Files updated:
        Common/FallBack.cpp
        Manager/TseManagerUtil.cpp
        Pricing/FarePathFactory.cpp
        Taxes/LegacyTaxes/LegacyTaxProcessor.cpp<br>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Mohammed Azam
Code reviewers: https://atsegen01.sgdcelab.sabre.com/#/c/8237/
BA: 
QA: 

Title: [ICER] ignore conversion currency for DC*CUR
Date: 03/19/2015
Description:
        Ignore the nation conversion currency for DC*CUR.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        ICER_ACTIVATION_DATE
Resolution/QA recommendation:
        Today, when displaying all rates for a POS the conversion currency is used as the primary currency (if the POS nation has a conversion currency). When ICER is activated only the alternate or primary currency will be used for the POS nation.
Entry/XML to recreate:
Example before:
        None
Example after:
        None
Files updated:
        Currency/LocalCurrencyDisplay.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [X] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Mike Arterburn
Code reviewers: Nakamon Thamsiriboon
BA: Stan Ovrevik
QA: Kaleshia Newsome-Kjaun

Title: [SCI-427][APM-729] Fix Rex transactions.
Date: 03/20/2015
Description:
        [SCI-427] Fix Rex transactions.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        Dynamic fallback SCI427_STORE_COS_IN_MOTHER_ITIN
Resolution/QA recommendation:
        RexPricingTrx will work once again
Entry/XML to recreate:
        See APM-729
Example before:
        System exception
Example after:
        Works
Files updated:
        Pricing/PricingOrchestrator.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [X] Shopping
        [ ] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Gustaw Smolarczyk
Code reviewers: Grzegorz Lisowski, Grzegorz Szczurek
BA: N/A
QA: N/A

Title: [Hardenings] Few changes in Memory Manager
Date: 03/20/2015
Description:
        Changed fallback to configuration switch. We want to have
            possibility of enabling manager for certain types of servers only.<br>
            Fixed exception handling for AltDates and TNBrands.<br>
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        removed FALLBACK_SECTION\PO_MEMORY_MANAGER
        added TSE_SERVER\USE_MEMORY_MANAGER = N - the code is still inactive
Resolution/QA recommendation:
        no business impact expected
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
        Common/FallBack.cpp
        Common/TrxUtil.cpp
        Common/TrxUtil.h
        Manager/MemoryManager.cpp
        Pricing/AltDateItinThreadTask.h
        Pricing/FarePathFactoryStorage.cpp
        Pricing/ItinMemoryManager.h
        Pricing/ItinThreadTask.h
        Pricing/PricingOrchestrator.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Marek Markiewicz
Code reviewers: Grzegorz Lisowski, Gustaw Smolarczyk
BA: 
QA: 

Title: Fix WPA uncompressed response
Date: 03/20/2015
Description:
        When removing BAGGAGETEXT001 yesterday I removed by mistake other messages for WPA primary entry. This delivery fixes it.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        falback - FIX_WPA_MESSAGES
Resolution/QA recommendation:
        n/a
Entry/XML to recreate:
        <ALTPRICINGREQUEST VERSION="1.0.4">
         <AGI A10="LHR" A20="G2T4" A21="G2T4" A80="G2T4" A90="HQP" AB0="9999002" AB1="9999002" B00="1S" C40="GBP" N0G="*" Q01="38" />
         <BIL A20="HDQ" A22="G2T4" A70="WPA Q" AA0="HQP" AD0="64B9A8" AE0="AA" C00="308291143451774183" C20="INTLWPI1" S0R="LBTY" Q02="6148" Q03="5642" />
         <PRO C45="GBP" D07="2015-03-20" D54="0311" PBK="T" N08="B" Q0P="1" P0J="T" S14="WPA Q/*196" SEZ="T" SEY="T" PPC="T" S15="CRSAGT" />
         <PXI B70="ADT" Q0U="1" />
         <SGI Q0C="1">
         <FLI Q0C="1" N03="A" B00="BA" B01="BA" A01="LAX" A02="LON" B30="Y" D01="2015-04-01" Q0B="18" D02="2015-04-01" D00="2015-03-20" D31="0360" D32="0565" D30="0311" BB2="QF" BB0="OK" />
         </SGI>
         <RES />
         <POC A03="LAX" D01="2015-04-01" D02="0600" />
        </ALTPRICINGREQUEST>
Example before:
        ...
        <PXX>
         <PXI B70="ADT" Q0S="2" />
         </PXX>
        </AltPricingResponse>
Example after:
        ...
        <MSG N06="X" Q0K="3" S18="PSGR TYPE ADT" />
         <MSG N06="X" Q0K="4" S18=" FARE BASIS BOOK CODE FARE TAX/FEES/CHGS TOTAL" />
         <MSG N06="X" Q0K="5" S18="01 Y1OWJB Y GBP 1467.00 174.20 1641.20 ADT" />
         <MSG N06="X" Q0K="6" S18="02 Y1NAJB Y GBP 1457.00 174.20 1631.20 ADT" />
         <MSG N06="X" Q0K="7" S18="SEE OTHER FARES - USE WPA$XM" />
         <PXX>
         <PXI B70="ADT" Q0S="2" />
         </PXX>
        </AltPricingResponse>
Files updated:
        Xform/AltPricingResponseFormatter.cpp
        Xform/AltPricingResponseFormatter.h
Unit tests files:
        Xform/test/AltPricingResponseFormatterTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [X] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Damian Krolik
Code reviewers: Michal Jedros
BA: n/a
QA: Pawel Skwirut

Title: Fix CAT9 and CAT15 RTW features enabled for non RTW fares.
Date: 03/20/2015
Description:
        CAT9: Max number of embedded surface sectors worked
         incorrectly for non RTW fares.
        CAT15: support for alliances in CAT15 (e.g. private fares
         restrictions) was incorrect.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        fallback - ALLIANCE_CODE_AND_EMBEDDED_SURFACE
Resolution/QA recommendation:
        Diagnostics 309/315 show if the discrepancy can be realated to CAT9 limit for embedded surfaces or alliances
        E.g. D309:
        EMBEDDED SURFACE...:     2
        means that 2 embedded surfaces are permitted.
Entry/XML to recreate:
        <PRICINGREQUEST VERSION="1.1.1">
         <AGI A10="MIA" A20="80K2" A21="9I98" AB0="9999999" AB1="9999999" A90="GP1" N0G="*" A80="80K2" B00="1S" C40="USD" Q01="34" />
         <BIL S0R="PPSS" A20="HDQ" AE0="AA" AD0="60F675" A22="80K2" AA0="GP1" C20="INTLWPI1" C01="120216275358219779" A70="WPIPA" />
         <PRO C45="USD" PBB="F" RTW="F" D07="2015-03-19" D54="0356" PBK="T" PBZ="F" N08="B" Q0P="1" P0J="T" SEZ="T" SEY="T" PPC="T" S14="WPIPA-DY:IS Q/*196" S15="CRSAGT" C10="309" />
         <DIG Q0A="30" S01="FMBCNSEA" />
         <PXI B70="ADT" Q0U="01" />
         <SGI Q0C="01" B50="H1SEOW">
         <FLI Q0C="01" N03="A" B00="AB" B01="AB" A01="BCN" A02="TXL" B30="H" D01="2015-04-17" Q0B="8935" D02="2015-04-17" D00="2015-03-19" D31="1075" D32="1225" D30="0356" BB2="SS" BB0="OK" />
         </SGI>
         <SGI Q0C="02" B50="H1SEOW">
         <FLI N03="K" A01="TXL" A02="FRA" />
         </SGI>
         <SGI Q0C="03" B50="H1SEOW">
         <FLI Q0C="03" N03="A" B00="BA" B01="BA" A01="FRA" A02="LHR" B30="H" D01="2015-04-24" Q0B="907" D02="2015-04-24" D00="2015-03-19" D31="0720" D32="0760" D30="0356" BB2="SS" BB0="OK" />
         </SGI>
         <SGI Q0C="04" B50="H1SEOW">
         <FLI Q0C="04" N03="A" B00="AA" B01="BA" A01="LHR" A02="AMS" B30="H" D01="2015-04-25" Q0B="6504" D02="2015-04-25" D00="2015-03-19" D31="0720" D32="0845" D30="0356" BB2="SS" BB0="OK" />
         </SGI>
         <SGI Q0C="05" B50="H1SEOW">
         <FLI N03="K" A01="AMS" A02="MAD" />
         </SGI>
         <SGI Q0C="06" B50="H1SEOW">
         <FLI Q0C="06" N03="A" B00="IB" B01="IB" A01="MAD" A02="BOS" B30="H" D01="2015-06-06" Q0B="6165" D02="2015-06-06" D00="2015-03-19" D31="0765" D32="0880" D30="0356" BB2="SS" BB0="OK" />
         </SGI>
         <SGI Q0C="07" B50="H1SEOW">
         <FLI N03="K" A01="BOS" A02="JFK" />
         </SGI>
         <SGI Q0C="08" B50="H1SEOW">
         <FLI Q0C="08" N03="A" B00="AA" B01="AA" A01="JFK" A02="SEA" B30="H" D01="2015-06-14" Q0B="235" D02="2015-06-14" D00="2015-03-19" D31="1080" D32="1285" D30="0356" BB2="SS" BB0="OK" />
         </SGI>
         <RES>
         <IDS B00="AB" Q0B="8935" B30="H" D01="2015-04-17" D31="1755" A01="BCN" D02="2015-04-17" D32="2025" A02="TXL" A70="SS" Q0U="01" N0V="J" P2X="EN" />
         <IDS B00="BA" Q0B="907" B30="H" D01="2015-04-24" D31="1200" A01="FRA" D02="2015-04-24" D32="1240" A02="LHR" A70="SS" Q0U="01" N0V="J" P2X="EN" />
         <IDS B00="AA" Q0B="6504" B30="H" D01="2015-04-25" D31="1200" A01="LHR" D02="2015-04-25" D32="1405" A02="AMS" A70="SS" Q0U="01" N0V="J" P2X="ET" />
         <IDS B00="IB" Q0B="6165" B30="H" D01="2015-06-06" D31="1245" A01="MAD" D02="2015-06-06" D32="1440" A02="BOS" A70="SS" Q0U="01" N0V="J" P2X="EN" />
         <IDS B00="AA" Q0B="235" B30="H" D01="2015-06-14" D31="1800" A01="JFK" D02="2015-06-14" D32="2125" A02="SEA" A70="SS" Q0U="01" N0V="J" P2X="ET" />
         <POC A03="BCN" D01="2015-04-17" D02="1755" />
         </RES>
        </PRICINGREQUEST>
Example before:
        CATEGORY 09 - TRANSFERS DIAGNOSTICS
        PHASE: FARE VALIDATOR R3 ITEM NUMBER: 511548
        BCN SEA H1SEOW R2:FARERULE : ATP 389 IB JPCV<br>
        ---TRANSFER RULE DATA---
        TRANSFERS..... MIN: MAX: XX OR: OUT: IN: 
        ONLINE........ PRI/PRI: SME/SME: 
        INTERLINE..... PRI/OTH: OTH/OTH: <br>
        ---SURFACE RESTRICTIONS-- PERMIT TBL976 I/D O/D LOC1 LOC2 
         FARE BREAK SURFACE.: N 
         EMBEDDED SURFACE...: 2 <br>
        CHARGES PAX: <br>
        ---TRANSFER RULE SEGMENT DATA---
         ---TRANS--- -GEOGRAPHIC RESTRICTIONS- -CARRIER------ -OTHER--
         NO TY SC AP LOC ZONETBL TSI BW GW AP IN OUT RS IO CH<br>
        ---FARE COMPONENT ITEM BREAKDOWN---
         1 AB 8935 17APR BCNTXL 1755 2025 SO TY:O/O MATCH PASS 
         ARNK TXLFRA
         3 BA 907 24APR FRALHR 1200 1240 CX TY:O/O MATCH PASS 
         4 AA 6504 25APR LHRAMS 1200 1405 SO TY:P/O MATCH PASS 
         ARNK AMSMAD
         6 IB 6165 06JUN MADBOS 1245 1440 SO TY:P/O MATCH PASS 
         ARNK BOSJFK
         8 AA 235 14JUN JFKSEA 1800 2125 --------- ---- <br>
        TRANSFERS : SOFTPASS - NOT FINAL VALIDATION
Example after:
        CATEGORY 09 - TRANSFERS DIAGNOSTICS
        PHASE: FARE VALIDATOR R3 ITEM NUMBER: 511548
        BCN SEA H1SEOW R2:FARERULE : ATP 389 IB JPCV<br>
        ---TRANSFER RULE DATA---
        TRANSFERS..... MIN: MAX: XX OR: OUT: IN: 
        ONLINE........ PRI/PRI: SME/SME: 
        INTERLINE..... PRI/OTH: OTH/OTH: <br>
        ---SURFACE RESTRICTIONS-- PERMIT TBL976 I/D O/D LOC1 LOC2 
         FARE BREAK SURFACE.: N 
         EMBEDDED SURFACE...: 2 <br>
        CHARGES PAX: <br>
        ---TRANSFER RULE SEGMENT DATA---
         ---TRANS--- -GEOGRAPHIC RESTRICTIONS- -CARRIER------ -OTHER--
         NO TY SC AP LOC ZONETBL TSI BW GW AP IN OUT RS IO CH<br>
        ---FARE COMPONENT ITEM BREAKDOWN---
         1 AB 8935 17APR BCNTXL 1755 2025 SO TY:O/O MATCH PASS 
         ARNK TXLFRA
         3 BA 907 24APR FRALHR 1200 1240 CX TY:O/O MATCH PASS 
         4 AA 6504 25APR LHRAMS 1200 1405 SO TY:P/O MATCH PASS 
         ARNK AMSMAD
         6 IB 6165 06JUN MADBOS 1245 1440 SO TY:P/O MATCH PASS 
         ARNK BOSJFK
         8 AA 235 14JUN JFKSEA 1800 2125 --------- ---- <br>
        TRANSFERS : SOFTPASS - NOT FINAL VALIDATION
Files updated:
        Rules/SalesRestrictionRule.cpp
        Rules/SalesRestrictionRule.h
        Rules/Transfers1.cpp
Unit tests files:
        n/a
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Damian Krolik
Code reviewers: Radoslaw Przybyl, Leszek Banaszek
BA: Richard Rummell
QA: Grzegorz Panasiuk

Title: Enabled load on update for FareByRuleApp and FareByRuleRuleTariff in PROD and CERT
Date: 03/20/2015
Description:
        Enabled load on update for FareByRuleApp and FareByRuleRuleTariff in PROD and CERT
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        n/a
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
        <a href=#> deploy/prod/config</a> <a href=#> faredisplay</a> <a href=#deploy/prod/config/faredisplay/dbaccess-exp.ini> dbaccess-exp.ini</a> <a href=#deploy/prod/config/faredisplay/dbaccess-ora.ini> dbaccess-ora.ini</a> <a href=#> historical</a> <a href=#deploy/prod/config/historical/dbaccess-exp.ini> dbaccess-exp.ini</a> <a href=#deploy/prod/config/historical/dbaccess-ora.ini> dbaccess-ora.ini</a> <a href=#> pricingv2</a> <a href=#deploy/prod/config/pricingv2/dbaccess-exp.ini> dbaccess-exp.ini</a> <a href=#deploy/prod/config/pricingv2/dbaccess-ora.ini> dbaccess-ora.ini</a> <a href=#> shopping</a> <a href=#deploy/prod/config/shopping/dbaccess-exp.ini> dbaccess-exp.ini</a> <a href=#deploy/prod/config/shopping/dbaccess-ora.ini> dbaccess-ora.ini</a> <a href=#> shoppingesv</a> <a href=#deploy/prod/config/shoppingesv/dbaccess-exp.ini> dbaccess-exp.ini</a> <a href=#deploy/prod/config/shoppingesv/dbaccess-ora.ini> dbaccess-ora.ini</a> <a href=#> shoppinghist</a> <a href=#deploy/prod/config/shoppinghist/dbaccess-exp.ini> dbaccess-exp.ini</a> <a href=#deploy/prod/config/shoppinghist/dbaccess-ora.ini> dbaccess-ora.ini</a> <a href=#> shoppingis</a> <a href=#deploy/prod/config/shoppingis/dbaccess-exp.ini> dbaccess-exp.ini</a> <a href=#deploy/prod/config/shoppingis/dbaccess-ora.ini> dbaccess-ora.ini</a> <a href=#> tax</a> <a href=#deploy/prod/config/tax/dbaccess-exp.ini> dbaccess-exp.ini</a> <a href=#deploy/prod/config/tax/dbaccess-ora.ini> dbaccess-ora.ini</a><br>
         <a href=#> deploy/cert/config</a> <a href=#> faredisplay</a> <a href=#deploy/cert/config/faredisplay/dbaccess-exp.ini> dbaccess-exp.ini</a> <a href=#deploy/cert/config/faredisplay/dbaccess-ora.ini> dbaccess-ora.ini</a> <a href=#> historical</a> <a href=#deploy/cert/config/historical/dbaccess-exp.ini> dbaccess-exp.ini</a> <a href=#deploy/cert/config/historical/dbaccess-ora.ini> dbaccess-ora.ini</a> <a href=#> pricingv2</a> <a href=#deploy/cert/config/pricingv2/dbaccess-exp.ini> dbaccess-exp.ini</a> <a href=#deploy/cert/config/pricingv2/dbaccess-ora.ini> dbaccess-ora.ini</a> <a href=#> shopping</a> <a href=#deploy/cert/config/shopping/dbaccess-exp.ini> dbaccess-exp.ini</a> <a href=#deploy/cert/config/shopping/dbaccess-ora.ini> dbaccess-ora.ini</a> <a href=#> shoppingesv</a> <a href=#deploy/cert/config/shoppingesv/dbaccess-exp.ini> dbaccess-exp.ini</a> <a href=#deploy/cert/config/shoppingesv/dbaccess-ora.ini> dbaccess-ora.ini</a> <a href=#> shoppinghist</a> <a href=#deploy/cert/config/shoppinghist/dbaccess-exp.ini> dbaccess-exp.ini</a> <a href=#deploy/cert/config/shoppinghist/dbaccess-ora.ini> dbaccess-ora.ini</a> <a href=#> shoppingis</a> <a href=#deploy/cert/config/shoppingis/dbaccess-exp.ini> dbaccess-exp.ini</a> <a href=#deploy/cert/config/shoppingis/dbaccess-ora.ini> dbaccess-ora.ini</a> <a href=#> tax</a> <a href=#deploy/cert/config/tax/dbaccess-exp.ini> dbaccess-exp.ini</a> <a href=#deploy/cert/config/tax/dbaccess-ora.ini> dbaccess-ora.ini</a>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Ilya Entin
Code reviewers: Coleman Ammerman
BA: 
QA: 

Title: [ValidatingCxr] Fallback Multi Passenger changes in R4
Date: 03/20/2015
Description:
        <a href=https://jira.sabre.com/browse/TSDTS-429>TSDTS-429</a>
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        fallback-FALLBACK_VALIDATING_CXR_MULTI_PAXTYPE_CHANGES-sg211443    sg211443    true    atsev2.2015.04.00    2015-03-20 16:55:50
        <FAM=atsev2>    tseserver    FALLBACK_SECTION\FALLBACK_VALIDATING_CXR_MULTI_PAXTYPE_CHANGES    Y    add in R1.2015 to support Validating carrier project    =    SCALAR    N/A    N    N    UPDATED
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        None
Example after:
        None
Files updated:
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Mohammed Azam
Code reviewers: Mohammed Azam
BA: 
QA: 

Title: [ATPCO TAX] ATPCO-355
Date: 03/23/2015
Description:
        Delivered fix to ATPCO-355 to R4
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        TAXES_ON_OC_FROM_SA_GROUP
Resolution/QA recommendation:
        N/A
Entry/XML to recreate:
        <AncillaryPricingRequest Version="1.0.2" xmlns="http://www.atse.sabre.com/AncillaryPricing/Request">
          <AGI A10="WIN" B00="1S" N0G="5" />
          <BIL AD0="551192" AE0="VA" C20="ANCPRICE" S0R="PBSO" />
          <PRO C45="AUD" C10="" />
          <DIG Q0A="30" S01="OC" />
          <ITN Q00="1">
            <IRO>
              <PXI B70="ADT" Q0U="1" />
            </IRO>
            <SGI Q00="1">
              <FLI A01="MEL" A02="SYD" B00="VA" B01="VA" B30="V" D01="2014-11-17" D02="2014-11-17" D31="0715" D32="0840" Q0B="813" S95="73H" />
            </SGI>
            <SGI Q00="2">
              <FLI A01="SYD" A02="MEL" B00="VA" B01="VA" B30="V" D01="2014-11-19" D02="2014-11-19" D31="1745" D32="1920" Q0B="872" S95="E90" />
            </SGI>
          </ITN>
        </AncillaryPricingRequest>
Example before:
        <OCG Q00="6" SF0="PT">
              <OSC SHK="0A0" SFF="LARGE PET IN HOLD" SFV="MMGR" B01="VA" N01="E" N02="2" ASG="PH" ASD="IN HOLD" AST="F">
                <OOS N11="P" A01="MEL" A02="SYD" PS1="T" PY0="N">
                  <Q00>01</Q00>
                  <SUM B70="ADT" C51="10.00" C5A="USD" C52="13.00" C5B="AUD" C50="23.00" />
                  <SFQ />
                  <DTE D01="2012-11-16" D02="9999-12-31" />
                  <FAT N41="4" P01="T" N44="1" Q7D="1" N45="Y" />
                  <TAX BC0="UOM" C6B="10.00" />
                </OOS>
                <OOS N11="P" A01="MEL" A02="SYD" PY0="N">
                  <Q00>01</Q00>
                  <SUM B70="ADT" C51="100.00" C5A="AUD" C50="110.00" />
                  <SFQ />
                  <DTE D01="2012-10-29" D02="9999-12-31" />
                  <FAT N41="4" P01="T" N44="1" N45="Y" />
                  <TAX BC0="UOM" C6B="10.00" />
                </OOS>
              </OSC>
Example after:
        <OCG Q00="6" SF0="PT">
              <OSC SHK="0A0" SFF="LARGE PET IN HOLD" SFV="MMGR" B01="VA" N01="E" N02="2" ASG="PH" ASD="IN HOLD" AST="F">
                <OOS N11="P" A01="MEL" A02="SYD" PS1="T" PY0="N">
                  <Q00>01</Q00>
                  <SUM B70="ADT" C51="10.00" C5A="USD" C52="13.00" C5B="AUD" C50="14.30" />
                  <SFQ />
                  <DTE D01="2012-11-16" D02="9999-12-31" />
                  <FAT N41="4" P01="T" N44="1" Q7D="1" N45="Y" />
                  <TAX BC0="UOM" C6B="1.30" />
                </OOS>
                <OOS N11="P" A01="MEL" A02="SYD" PY0="N">
                  <Q00>01</Q00>
                  <SUM B70="ADT" C51="100.00" C5A="AUD" C50="110.00" />
                  <SFQ />
                  <DTE D01="2012-10-29" D02="9999-12-31" />
                  <FAT N41="4" P01="T" N44="1" N45="Y" />
                  <TAX BC0="UOM" C6B="10.00" />
                </OOS>
              </OSC>
Files updated:
        Taxes/LegacyFacades/OptionalServicesBuilder.cpp
Unit tests files:
        N/A
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [X] Other: ATPCO TAX
Schema update: 
        [ ] Yes
Developer: Jacek Roman
Code reviewers: Maciej Krawczyk
BA: 
QA: 

Title: [ATPCO Tax] Tax Display Processing - TX*CC Entry
Date: 03/19/2015
Description:
        TaxDisplay by Country Code/Airport Code/Country Name processing. New TaxDisplay command added:
        TX*CC - where CC is a 2 sign Country Code or 3 sign Airport/City Code or 4 or more sign Country Name.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        TAX_SVC::ATPCO_TAXES_DISPLAY_ENABLED = Y
Resolution/QA recommendation:
        Still, we don't have xml schema so command should be wrote in Action Code in standard TaxDisplay xml request (example below).
Entry/XML to recreate:
        <AirTaxDisplayRQ>
         <Source>
         <TPA_Extensions>
         <UserInfo>
         <Action Code="TX*POLAND" />
         </UserInfo>
         </TPA_Extensions>
         </Source>
        </AirTaxDisplayRQ>
Example before:
        n/a
Example after:
        n/a
Files updated:
        Common/TaxRound.cpp
        Taxes/AtpcoTaxes/DataModel/Common/Types.h
        Taxes/AtpcoTaxes/Rules/TaxData.h
        Taxes/AtpcoTaxes/Rules/TaxRoundingApplicator.cpp
        Taxes/AtpcoTaxes/Rules/TaxRoundingOCApplicator.cpp
        Taxes/AtpcoTaxes/ServiceInterfaces/LocService.h
        Taxes/AtpcoTaxes/ServiceInterfaces/TaxRoundingInfoService.h
        Taxes/AtpcoTaxes/TaxDisplay/Common/TaxDisplayRequest.h
        Taxes/AtpcoTaxes/TaxDisplay/Entry.h
        Taxes/AtpcoTaxes/TaxDisplay/EntryHelp.cpp
        Taxes/AtpcoTaxes/TaxDisplay/EntryHelp.h
        Taxes/AtpcoTaxes/TaxDisplay/EntryNation.cpp
        Taxes/AtpcoTaxes/TaxDisplay/EntryNation.h
        Taxes/AtpcoTaxes/TaxDisplay/ResponseFormatter.cpp
        Taxes/AtpcoTaxes/TaxDisplay/ResponseFormatter.h
        Taxes/AtpcoTaxes/TaxDisplay/TaxDisplay.cpp
        Taxes/AtpcoTaxes/TaxDisplay/TaxDisplay.h
        Taxes/Dispatcher/AtpcoTaxOrchestrator.cpp
        Taxes/LegacyFacades/AtpcoTaxDisplayDriver.cpp
        Taxes/LegacyFacades/AtpcoTaxDisplayDriver.h
        Taxes/LegacyFacades/LocServiceV2.cpp
        Taxes/LegacyFacades/LocServiceV2.h
        Taxes/LegacyFacades/RulesRecordsServiceV2.cpp
        Taxes/LegacyFacades/TaxRoundingInfoServiceV2.cpp
        Taxes/LegacyFacades/TaxRoundingInfoServiceV2.h
        Taxes/TestServer/Facades/LocServiceServer.cpp
        Taxes/TestServer/Facades/LocServiceServer.h
        Taxes/TestServer/Facades/RulesRecordsServiceServer.cpp
        Taxes/TestServer/Facades/TaxRoundingInfoServiceServer.h
        Xform/AtpcoTaxDisplayResponseFormatter.cpp
Unit tests files:
        Taxes/AtpcoTaxes/Processor/test/BusinessRulesProcessorTest.cpp
        Taxes/AtpcoTaxes/Rules/test/PointOfSaleApplicatorTest.cpp
        Taxes/AtpcoTaxes/Rules/test/TaxRoundingApplicatorTest.cpp
        Taxes/AtpcoTaxes/Rules/test/TaxRoundingOCApplicatorTest.cpp
        Taxes/AtpcoTaxes/test/LocServiceMock.h
        Taxes/AtpcoTaxes/TaxDisplay/test/ResponseFormatterTest.cpp
        Taxes/AtpcoTaxes/TaxDisplay/test/TaxDisplayTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [X] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Wojciech Franczyk
Code reviewers: Piotr Lach
BA: 
QA: 

Title: [TNS][SSDMPS-123]BFA deduplication removes soldouts
Date: 03/24/2015
Description:
        Previously deduplication algorithm passed through only first priced solution for each key. Now it passes eveything that is not duplicate (soldout are not).
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        Xform/XMLShoppingResponse.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Andrzej Fediuk
Code reviewers: Michal Mlynek; Artur De Sousa Rocha
BA: Smoragiewicz Arkadiusz
QA: Rak Lukasz

Title: [TNS] Fix incorrect soldout status in multiple brand mode
Date: 03/24/2015
Description:
        Part of the code that computes soldout statuses had a wrong 'if' and it was triggered only in IBF as opposed to other parts of this functionalities that are run always ( as long as a fallback is not enabled ). It resulted in statuses 'E' instead of 'F" being returned for legs that were fine ( not sold out )
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_BC_STATUS_FOR_ALL ( old fallback for enabling the whole soldout status functionality outside of IBF )
Resolution/QA recommendation:
        Retest soldout statuses in Brands For TN Shopping project.
Entry/XML to recreate:
Example before:
        <GRI SBL="E">
              <LEG Q14="0" SBL="A">
                <SEG SB2="FL" SB3="FLEX" SC0="TNS"/>
              </LEG>
              <LEG Q14="1" SBL="E">
                <SEG SB2="FL" SB3="FLEX" SC0="TNS"/>
              </LEG>
            </GRI>
Example after:
        <GRI SBL="A">
              <LEG Q14="0" SBL="A">
                <SEG SB2="FL" SB3="FLEX" SC0="TNS"/>
              </LEG>
              <LEG Q14="1" SBL="F">
                <SEG SB2="FL" SB3="FLEX" SC0="TNS"/>
              </LEG>
            </GRI>
Files updated:
        BookingCode/FareBookingCodeValidator.cpp
Unit tests files:
        .
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Michal Mlynek
Code reviewers: Andrzej Fediuk, Artur De Sousa Rocha
BA: Arkadiusz Smoragiewicz
QA: Lukasz Rak

Title: [ICER] Update DC display of single rate and all rates
Date: 03/24/2015
Description:
        Clean up code so double conversion logic is isolated to old code logic.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        ICER_ACTIVATION_DATE
Resolution/QA recommendation:
        No functional change, as it relates to ICER phase 2.
Entry/XML to recreate:
Example before:
        None
Example after:
        None
Files updated:
        Common/CurrencyUtil.cpp
        Common/CurrencyUtil.h
        Currency/CurrencyService.cpp
        Currency/LocalCurrencyDisplay.cpp
        Currency/LocalCurrencyDisplay.h
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [X] Historical
        [ ] Taxes
        [X] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Mike Arterburn
Code reviewers: Nakamon Thamsiriboon
BA: Stan Ovrevik
QA: Kaleshia Newsome-Kjaun

Title: [SCI-427] Skip fare markets with no availability.
Date: 03/25/2015
Description:
        Instead of failing on TSE_ASSERT.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        Dynamic fallbacks SCI427_STORE_COS_IN_ITIN and SCI427_STORE_COS_IN_MOTHER_ITIN.
Resolution/QA recommendation:
        FareX transactions should now work.
Entry/XML to recreate:
        <PricingRequest Version="1.1.1">
         <AGI A10="TPE" A20="6NW8" A21="6NW8" A80="6NW8" A90="ATW" AB0="3430828" AB1="3430828" AE0="1B" B00="1B" C40="TWD" N0G="*" Q01="16" />
         <BIL A20="6NW8" A22="6NW8" A70="WPQ" AA0="ATW" AD0="2C5399" AE0="AA" C01="203768142654525442" C20="INTLWPI1" Q02="2902" Q03="925" S0R="PSS" />
         <PRO B05="BR" BG0="48" C40="TWD" C45="TWD" D07="2015-03-24" D54="0884" N08="B" P0J="T" P1Y="T" P4A="T" P69="T" PBZ="F" PPC="T" Q0P="1" RTW="F" S13="KWRDDQ" S14="PROD_REPLAY_REGRESSION" S15="BSRDSP" SEY="T" SEZ="T" C10="854" />
         <PXI B70="ADT" Q0U="01" />
         <SGI B50="YLXTW" Q0C="01">
         <FLI A01="TPE" A02="LAX" B00="BR" B01="BR" B30="V" BB0="OK" BB2="HK" D00="2015-03-24" D01="2015-06-11" D02="2015-06-11" D30="0820" D31="1435" D32="1245" N03="A" Q0B="16" Q0C="01" />
         </SGI>
         <SGI B50="YLXTW" Q0C="02">
         <FLI A01="LAX" A02="TPE" B00="BR" B01="BR" B30="V" BB0="OK" BB2="HK" D00="2015-03-24" D01="2015-06-30" D02="2015-07-01" D30="0716" D31="1065" D32="1320" N03="A" Q0B="11" Q0C="02" />
         </SGI>
         <RES>
         <RLS B01="1B " S13="KWRDDQ" />
         <RLS B01="BR " S13="37CV8E" />
         <IDS A01="TPE" A02="LAX" A70="HK" B00="BR " B30="V " D01="2015-06-11" D02="2015-06-11" D31="2355" D32="2045" N0V="J" P2X="ET" Q0B="16" Q0U="02" />
         <IDS A01="LAX" A02="TPE" A70="HK" B00="BR " B30="V " D01="2015-06-30" D02="2015-07-01" D31="1745" D32="2200" N0V="J" P2X="ET" Q0B="11" Q0U="02" />
         <POC A03="TPE" D01="2015-06-11" D02="2355" />
         </RES>
        </PricingRequest>
Example before:
        system exception
Example after:
        normal response
Files updated:
        Common/ShoppingUtil.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Gustaw Smolarczyk
Code reviewers: Radoslaw Przybyl
BA: N/A
QA: N/A

Title: [ICER] - Display direct rate in Shopping XML response formatter
Date: 03/25/2015
Description:
        Modified Shopping XML response formatter to display direct rate per ICER new requirement.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        Activation date is set to far future date for every environments except DEV and Special ATSEv2 historical daily server.
        <FAM=atsev2>DYNAMIC LOADABLE/COMMON FUNCTIONAL::ICER_ACTIVATION_DATE = Y
        <FAM=atsev2>COMMON FUNCTIONAL/ICER_ACTIVATION_DATE = 2025-04-01
        <FAM=atsev2><APP=historical><ENV=dev>COMMON FUNCTIONAL/ICER_ACTIVATION_DATE = 2015-03-07
        <FAM=atsev2><APP=historical><ENV=daily><NOD=pithli120>COMMON FUNCTIONAL/ICER_ACTIVATION_DATE = 2015-03-07
Resolution/QA recommendation:
        <color=black>Test with WPNI and JR once ICER is activated in regular daily.</color>
Entry/XML to recreate:
        <color=black><ShoppingRequest N06="M" D70="120" STK="picli304:27032 2015-03-24T08:41:42 4ba7">
        <AGI A10="LHR" A20="DQ73" A21="H5B3" AB0="9999999" AB1="9999999" A90="Y2A" N0G="*" B00="1S" C40="GBP" Q01="38" A80="DQ73"/>
        <BIL A20="DQ73" A22="DQ73" A70="WPNI.C" Q03="9999" Q02="9999" AE0="AA" AD0="0D2F41" AA0="Y2A" C00="5477626819895065830" C01="5477626819895065830"
        C20="ATSEIMIP" C21="SIMXX019"/>
        <PXI B70="ADT"/>
        <PRO P69="T" C48="JPY" D07="2015-03-24" D54="0818" P0J="T" SEZ="T" SEV="T" VCX="T" DVL="T"/>
        <AAF Q1K="0" B00="CX" B01="CX" Q0B="898" S05="77W" P0Z="T" D00="2015-03-24" D30="1338" BB2="QF" BB0="OK">
        <BRD A01="HKG" D01="2015-06-15" D31="0930"/>
        <OFF A02="LAX" D02="2015-06-15" D32="0755"/>
        </AAF>
        <AAF Q1K="1" B00="BA" B01="BA" Q0B="282" S05="388" P0Z="T" D00="2015-03-24" D30="1338" BB2="QF" BB0="OK">
        <BRD A01="LAX" D01="2015-06-17" D31="1535"/>
        <OFF A02="LHR" D02="2015-06-18" D32="1005"/>
        </AAF>
        <AAF Q1K="2" B00="BA" B01="BA" Q0B="908" S05="319" P0Z="T" D00="2015-03-24" D30="1338" BB2="QF" BB0="OK">
        <BRD A01="LHR" D01="2015-06-18" D31="1340"/>
        <OFF A02="FRA" D02="2015-06-18" D32="1620"/>
        </AAF>
        <AVL Q16="0" A01="HKG" A02="LAX">
        <FBK Q1K="0" Q17="F4|A4|J9|C9|D9|I9|W9|R9|E9|Y9|B9|H9|K9|M9|L9|V9|S9|N9|Q9|O9"/>
        </AVL>
        <AVL Q16="1" A01="LAX" A02="LHR">
        <FBK Q1K="1" Q17="F9|A9|J9|C9|D9|R9|I3|W9|E5|T2|Y9|B9|H9|K9|M9|L9|V8|S7|N5|Q0|O0|G0"/>
        </AVL>
        <AVL Q16="2" A01="LHR" A02="FRA">
        <FBK Q1K="2" Q17="J9|C9|D4|R9|I8|Y9|B9|H9|K9|M9|L9|V9|N9|Q9|O9|S9|G9"/>
        </AVL>
        <AVL Q16="3" A01="LAX" A02="FRA">
        <FBK Q1K="1" Q17="F9|A9|J9|C9|D9|R9|I6|W9|E9|T9|Y9|B9|H9|K9|M9|L9|V9|S9|N9|Q9|O9|G9"/>
        <FBK Q1K="2" Q17="J9|C9|D4|R9|I8|Y9|B9|H9|K9|M9|L9|V9|N9|Q9|O9|S9|G9"/>
        </AVL>
        <LEG Q14="0" B31="Y">
        <SOP Q15="0">
        <FID Q1K="0"/>
        <AID Q16="0"/>
        </SOP>
        </LEG>
        <LEG Q14="1" B31="Y">
        <SOP Q15="0">
        <FID Q1K="1"/>
        <FID Q1K="2"/>
        <AID Q16="1"/>
        <AID Q16="2"/>
        <AID Q16="3"/>
        </SOP>
        </LEG>
        <ITN NUM="0" Q5Q="0">
        <SID Q14="0" Q15="0">
        <BKK B30="H"/>
        </SID>
        <SID Q14="1" Q15="0">
        <BKK B30="Y"/>
        <BKK B30="Y"/>
        </SID>
        </ITN>
        <CMD>WPNI&quot;MJPY&quot;Q/*196</CMD>
        </ShoppingRequest></color>
        <color=black>*A 
        NO NAMES 
        1 CX 898H 15JUN M HKGLAX SS1 930A 755A /DCCX 
        2 BA 282Y 17JUN W LAXLHR DS1 335P 1005A 18JUN Q /E 
        3 BA 908Y 18JUN Q LHRFRA DS1 140P 420P /E 
        DQ73.HDQ*Y2K 2233/23MAR15 <br>
        WPNI'MJPY</color>
Example before:
        <color=black><?xml
        version="1.0" encoding="UTF-8"?><br>
        <ShoppingResponse STK="picli304:27032 2015-03-24T08:41:42 4ba7"
        Q0S="1" Q0F="1"><br>
        <ITN NUM="0" FML="M" B05="BA"
        D00="2015-06-08" PBC="F" D14="2015-06-08"
        D16="2015-06-08" P0N="T" P0J="T"
        VTA="F" PVT="F" FBR="F" STI="F"><br>
        <SID Q14="0" Q15="0" /><br>
        <SID Q14="1" Q15="0" /><br>
        <SEG P2M="T"><br>
        <BKC B30="H" Q13="8" B31="Y" /><br>
        </SEG><br>
        <SEG P2H="T"><br>
        <BKC B30="Y" Q13="8" B31="Y" /><br>
        </SEG><br>
        <SEG P2H="T"><br>
        <BKC B30="Y" Q13="8" B31="Y" /><br>
        </SEG><br>
        <PSG Q0U="1" B70="ADT" C43="NUC" C5E="4867.41"
        C40="HKD" C5A="37740" C46="JPY"
        C66="622150" C65="38350" S07="HKG CX LAX Q5.80
        1630.58BA LON2163.00BA FRA1068.03NUC4867.41END ROE7.75183 XFLAX4.5"
        C54="7.75183000" Q05="8" P27="F"
        C5D="0" C5B="0"><br>
        <FDC Q20="0" A01="HKG" A02="LAX"
        A11="HKG" A12="LAX" B00="CX"
        B50="BHXAPO" B70="ADT" C40="HKD"
        C50="1630.58" C51="12640" A60="PA"
        S70="FR" P0F="F" P04="T" P05="F"
        N0K="P" D00="2015-06-15" D06="2015-06-15"
        D05="2015-06-15"><br>
        <BKC B30="H" Q13="8" B31="Y"
        B52="BHXAPO" Q3S="9" /><br>
        <SUR A01="HKG" A02="LAX" N0F="O"
        C40="NUC" C69="5.80" S03="SECTOR SURCHARGE" /><br>
        <FAT PAW="T" N1L="F" Q0D="2" P2F="T"
        /><br>
        <FDS A01="HKG" A02="LAX" A11="HKG"
        A12="LAX" P2M="T" PAW="T" P0F="F"
        Q0D="2" B30="H" Q13="8" B31="Y"
        P2F="T" /><br>
        <CAT>2 3 4 5 7 8 9 10 15 16 18</CAT><br>
        </FDC><br>
        <FDC Q20="1" A01="LAX" A02="LHR"
        A11="LAX" A12="LON" B00="BA"
        B50="Y1OWJB" B70="ADT" C40="USD"
        C50="2163.00" C51="2163.00" A60="AT" S70="FR"
        P0F="F" P04="T" P05="F" N0K="P"
        D00="2015-06-17" D05="2016-06-15"><br>
        <BKC B30="Y" Q13="8" B31="Y"
        B52="Y1OWJB" Q3S="9" /><br>
        <FAT PAW="T" Q0D="2" P2F="T" /><br>
        <FDS A01="LAX" A02="LHR" A11="LAX"
        A12="LON" P2H="T" PAW="T" P0F="F"
        Q0D="2" B30="Y" Q13="8" B31="Y"
        P2F="T" /><br>
        <CAT>4 7 8 9 10 15 16</CAT><br>
        </FDC><br>
        <FDC Q20="2" A01="LHR" A02="FRA"
        A11="LON" A12="FRA" B00="BA" B50="YIF"
        B70="ADT" C40="GBP" C50="1068.03"
        C51="682.00" A60="EH" S70="FR" P0F="F"
        P04="T" P05="F" N0K="P"
        D00="2015-06-18" D05="2016-06-15"><br>
        <BKC B30="Y" Q13="8" B31="Y"
        B52="YIF" Q3S="9" /><br>
        <FAT PAW="T" Q0D="2" P2F="T" /><br>
        <FDS A01="LHR" A02="FRA" A11="LON"
        A12="FRA" P2H="T" PAW="T" P0F="F"
        Q0D="2" B30="Y" Q13="8" B31="Y"
        P2F="T" /><br>
        <CAT>10 23</CAT><br>
        </FDC><br>
        <TAD C40="JPY"><br>
        <TAX BC0="YRF" C6B="2890" S04="SERVICE FEE -
        FUEL" S05="HKG" C41="USD" C6A="24.00" /><br>
        <TAX BC0="YQF" C6B="22330" S04="SERVICE FEE -
        FUEL" S05="LAX" C41="USD" C6A="186.00" /><br>
        <TAX BC0="YQF" C6B="3850" S04="SERVICE FEE -
        FUEL" S05="LHR" C41="USD" C6A="32.00" /><br>
        <TAX BC0="UB6" C6B="4080" S04="INTERNATIONAL DPTRS
        IOM THROUGH LTN" S05="LHR" C41="GBP"
        C6A="22.71" A40="GB" /><br>
        <TAX BC0="HK" C6B="1860" S04="AIR PASSENGER
        DEPARTURE TAX" S05="HKG" C41="HKD" C6A="120"
        A40="HK" /><br>
        <TAX BC0="YC" C6B="670" S04="US CUSTOMS USER
        FEE" S05="HKG" C41="USD" C6A="5.50"
        A40="US" /><br>
        <TAX BC0="XY" C6B="850" S04="US FEDERAL INSPECTION
        FEE" S05="HKG" C41="USD" C6A="7.00"
        A40="US" /><br>
        <TAX BC0="XA" C6B="600" S04="US APHIS USER
        FEE" S05="HKG" C41="USD" C6A="5.00"
        A40="US" /><br>
        <TAX BC0="AY" C6B="680" S04="US SECURITY FEE"
        S05="LAX" C41="USD" C6A="5.60" A40="US"
        /><br>
        <TAX BC0="XF" C6B="540" S04="PASSENGER FACILITY
        CHARGES" S05="LAX" C41="USD" C6A="4.50"
        A40="US" /><br>
        <TSM BC0="UB6" C6B="4080" S05="LHR"
        S04="INTERNATIONAL DPTRS IOM THROUGH LTN" C6A="22.71"
        C41="GBP" A40="GB" /><br>
        <TSM BC0="YQF" C6B="26180" S05="LAX"
        S04="SERVICE FEE - FUEL" C6A="186.00" C41="USD"
        /><br>
        <TSM BC0="YRF" C6B="2890" S05="HKG"
        S04="SERVICE FEE - FUEL" C6A="24.00" C41="USD"
        /><br>
        <TSM BC0="HK" C6B="1860" S05="HKG"
        S04="AIR PASSENGER DEPARTURE TAX" C6A="120"
        C41="HKD" A40="HK" /><br>
        <TSM BC0="YC" C6B="670" S05="HKG" S04="US
        CUSTOMS USER FEE" C6A="5.50" C41="USD"
        A40="US" /><br>
        <TSM BC0="XY" C6B="850" S05="HKG" S04="US
        FEDERAL INSPECTION FEE" C6A="7.00" C41="USD"
        A40="US" /><br>
        <TSM BC0="XA" C6B="600" S05="HKG" S04="US
        APHIS USER FEE" C6A="5.00" C41="USD"
        A40="US" /><br>
        <TSM BC0="AY" C6B="680" S05="LAX" S04="US
        SECURITY FEE" C6A="5.60" C41="USD" A40="US"
        /><br>
        <TSM BC0="XF" C6B="540" S04="PASSENGER FACILITY
        CHARGE" C6A="4.50" C41="USD" A40="US" /><br>
        </TAD><br>
        <OBG><br>
        <OBF SF1="900" /><br>
        </OBG><br>
        </color><color=red><CCD
        C41="HKD" C42="JPY" C54="0.0646500"
        Q05="7" N02="O" /></color><color=black><br>
        <MSG N06="N" Q0K="0" B00="CX">T3 /
        NON-END</MSG><br>
        <MSG N06="W" Q0K="0" Q0M="D">VALIDATING
        CARRIER - BA</MSG><br>
        <MSG N06="W" Q0K="0" Q0M="D">CAT 15 SALES
        RESTRICTIONS FREE TEXT FOUND - VERIFY RULES</MSG><br>
        </PSG><br>
        <TOT C43="NUC" C5E="4867.41" C40="HKD"
        C5A="37740" C45="JPY" C5F="583800"
        C46="JPY" C65="38350" C56="622150" /><br>
        <VCL SM0="BSP" VC0="T"><br>
        <DCX B00="BA" /><br>
        </VCL><br>
        <MMS I10="F" /><br>
        </ITN><br>
        </ShoppingResponse></color>
Example after:
        <color=black><?xml
        version="1.0" encoding="UTF-8"?><br>
        <ShoppingResponse STK="picli304:27032 2015-03-24T08:41:42 4ba7"
        Q0S="1" Q0F="1"><br>
        <ITN NUM="0" FML="M" B05="BA" D00="2015-06-08"
        PBC="F" D14="2015-06-08" D16="2015-06-08"
        P0N="T" P0J="T" VTA="F" PVT="F"
        FBR="F" STI="F"><br>
        <SID Q14="0" Q15="0" /><br>
        <SID Q14="1" Q15="0" /><br>
        <SEG P2M="T"><br>
        <BKC B30="H" Q13="8" B31="Y" /><br>
        </SEG><br>
        <SEG P2H="T"><br>
        <BKC B30="Y" Q13="8" B31="Y" /><br>
        </SEG><br>
        <SEG P2H="T"><br>
        <BKC B30="Y" Q13="8" B31="Y" /><br>
        </SEG><br>
        <PSG Q0U="1" B70="ADT" C43="NUC"
        C5E="4867.41" C40="HKD" C5A="37740"
        C46="JPY" C66="622150" C65="38350" S07="HKG
        CX LAX Q5.80 1630.58BA LON2163.00BA FRA1068.03NUC4867.41END ROE7.75183
        XFLAX4.5" C54="7.75183000" Q05="8" P27="F"
        C5D="0" C5B="0"><br>
        <FDC Q20="0" A01="HKG" A02="LAX"
        A11="HKG" A12="LAX" B00="CX"
        B50="BHXAPO" B70="ADT" C40="HKD"
        C50="1630.58" C51="12640" A60="PA" S70="FR"
        P0F="F" P04="T" P05="F" N0K="P"
        D00="2015-06-15" D06="2015-06-15" D05="2015-06-15"><br>
        <BKC B30="H" Q13="8" B31="Y"
        B52="BHXAPO" Q3S="9" /><br>
        <SUR A01="HKG" A02="LAX" N0F="O"
        C40="NUC" C69="5.80" S03="SECTOR SURCHARGE" /><br>
        <FAT PAW="T" N1L="F" Q0D="2" P2F="T"
        /><br>
        <FDS A01="HKG" A02="LAX" A11="HKG"
        A12="LAX" P2M="T" PAW="T" P0F="F"
        Q0D="2" B30="H" Q13="8" B31="Y"
        P2F="T" /><br>
        <CAT>2 3 4 5 7 8 9 10 15 16 18</CAT><br>
        </FDC><br>
        <FDC Q20="1" A01="LAX" A02="LHR"
        A11="LAX" A12="LON" B00="BA"
        B50="Y1OWJB" B70="ADT" C40="USD"
        C50="2163.00" C51="2163.00" A60="AT"
        S70="FR" P0F="F" P04="T" P05="F"
        N0K="P" D00="2015-06-17" D05="2016-06-15"><br>
        <BKC B30="Y" Q13="8" B31="Y"
        B52="Y1OWJB" Q3S="9" /><br>
        <FAT PAW="T" Q0D="2" P2F="T" /><br>
        <FDS A01="LAX" A02="LHR" A11="LAX"
        A12="LON" P2H="T" PAW="T" P0F="F"
        Q0D="2" B30="Y" Q13="8" B31="Y"
        P2F="T" /><br>
        <CAT>4 7 8 9 10 15 16</CAT><br>
        </FDC><br>
        <FDC Q20="2" A01="LHR" A02="FRA"
        A11="LON" A12="FRA" B00="BA" B50="YIF"
        B70="ADT" C40="GBP" C50="1068.03"
        C51="682.00" A60="EH" S70="FR" P0F="F"
        P04="T" P05="F" N0K="P"
        D00="2015-06-18" D05="2016-06-15"><br>
        <BKC B30="Y" Q13="8" B31="Y"
        B52="YIF" Q3S="9" /><br>
        <FAT PAW="T" Q0D="2" P2F="T" /><br>
        <FDS A01="LHR" A02="FRA" A11="LON"
        A12="FRA" P2H="T" PAW="T" P0F="F"
        Q0D="2" B30="Y" Q13="8" B31="Y"
        P2F="T" /><br>
        <CAT>10 23</CAT><br>
        </FDC><br>
        <TAD C40="JPY"><br>
        <TAX BC0="YRF" C6B="2890" S04="SERVICE FEE -
        FUEL" S05="HKG" C41="USD" C6A="24.00" /><br>
        <TAX BC0="YQF" C6B="22330" S04="SERVICE FEE -
        FUEL" S05="LAX" C41="USD" C6A="186.00" /><br>
        <TAX BC0="YQF" C6B="3850" S04="SERVICE FEE -
        FUEL" S05="LHR" C41="USD" C6A="32.00" /><br>
        <TAX BC0="UB6" C6B="4080" S04="INTERNATIONAL DPTRS
        IOM THROUGH LTN" S05="LHR" C41="GBP"
        C6A="22.71" A40="GB" /><br>
        <TAX BC0="HK" C6B="1860" S04="AIR PASSENGER
        DEPARTURE TAX" S05="HKG" C41="HKD" C6A="120"
        A40="HK" /><br>
        <TAX BC0="YC" C6B="670" S04="US CUSTOMS USER
        FEE" S05="HKG" C41="USD" C6A="5.50"
        A40="US" /><br>
        <TAX BC0="XY" C6B="850" S04="US FEDERAL INSPECTION
        FEE" S05="HKG" C41="USD" C6A="7.00"
        A40="US" /><br>
        <TAX BC0="XA" C6B="600" S04="US APHIS USER
        FEE" S05="HKG" C41="USD" C6A="5.00"
        A40="US" /><br>
        <TAX BC0="AY" C6B="680" S04="US SECURITY FEE"
        S05="LAX" C41="USD" C6A="5.60" A40="US"
        /><br>
        <TAX BC0="XF" C6B="540" S04="PASSENGER FACILITY
        CHARGES" S05="LAX" C41="USD" C6A="4.50"
        A40="US" /><br>
        <TSM BC0="UB6" C6B="4080" S05="LHR"
        S04="INTERNATIONAL DPTRS IOM THROUGH LTN" C6A="22.71"
        C41="GBP" A40="GB" /><br>
        <TSM BC0="YQF" C6B="26180" S05="LAX"
        S04="SERVICE FEE - FUEL" C6A="186.00" C41="USD"
        /><br>
        <TSM BC0="YRF" C6B="2890" S05="HKG"
        S04="SERVICE FEE - FUEL" C6A="24.00" C41="USD"
        /><br>
        <TSM BC0="HK" C6B="1860" S05="HKG"
        S04="AIR PASSENGER DEPARTURE TAX" C6A="120"
        C41="HKD" A40="HK" /><br>
        <TSM BC0="YC" C6B="670" S05="HKG" S04="US
        CUSTOMS USER FEE" C6A="5.50" C41="USD"
        A40="US" /><br>
        <TSM BC0="XY" C6B="850" S05="HKG" S04="US
        FEDERAL INSPECTION FEE" C6A="7.00" C41="USD"
        A40="US" /><br>
        <TSM BC0="XA" C6B="600" S05="HKG" S04="US
        APHIS USER FEE" C6A="5.00" C41="USD"
        A40="US" /><br>
        <TSM BC0="AY" C6B="680" S05="LAX" S04="US
        SECURITY FEE" C6A="5.60" C41="USD" A40="US"
        /><br>
        <TSM BC0="XF" C6B="540" S04="PASSENGER FACILITY
        CHARGE" C6A="4.50" C41="USD" A40="US" /><br>
        </TAD><br>
        <OBG><br>
        <OBF SF1="900" /><br>
        </OBG><br>
        </color><color=green><CCD
        C41="HKD" C42="JPY" C54="15.4679041"
        Q05="7" /></color><color=black><br>
        <MSG N06="N" Q0K="0" B00="CX">T3 /
        NON-END</MSG><br>
        <MSG N06="W" Q0K="0" Q0M="D">VALIDATING
        CARRIER - BA</MSG><br>
        <MSG N06="W" Q0K="0" Q0M="D">CAT 15 SALES
        RESTRICTIONS FREE TEXT FOUND - VERIFY RULES</MSG><br>
        </PSG><br>
        <TOT C43="NUC" C5E="4867.41" C40="HKD"
        C5A="37740" C45="JPY" C5F="583800"
        C46="JPY" C65="38350" C56="622150" /><br>
        <VCL SM0="BSP" VC0="T"><br>
        <DCX B00="BA" /><br>
        </VCL><br>
        <MMS I10="F" /><br>
        </ITN><br>
        </ShoppingResponse></color>
Files updated:
        <color=black>Xform/XMLShoppingResponse.cpp</color>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [X] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Nakamon Thamsiriboon
Code reviewers: Lek Kuprasertkul, Alexander Zagrebin
BA: Stan Ovrevik
QA: Kaleshia Newsome-Kjaun

Title: [SSDMPS-127][TNS]Diag 889 update for BFS optimized path
Date: 03/26/2015
Description:
        Correct diagnostic 889 display when BFS used with optimized path.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        BrandedFares/BrandedFaresSelector.cpp
        BrandedFares/BrandedFaresSelector.h
        BrandedFares/S8BrandedFaresSelector.cpp
        BrandedFares/S8BrandedFaresSelector.h
        Pricing/PricingOrchestrator.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Andrzej Fediuk
Code reviewers: Michal Mlynek; Artur De Sousa Rocha
BA: Smoragiewicz Arkadiusz
QA: Rak Lukasz

Title: [TNS] Translate soldout status 'E' to 'F' in the MIP response.
Date: 03/26/2015
Description:
        Internally in the soldout logic that is shared between IBF and TNS we have four statuses.
            E,A,O,F. E is very similar to F as E means fares that were dropped before reaching
            booking code validator. F means no combinable fares found. In the MIP response we translate both
            into F. At least that's what we do in IBF. In TN Shopping this translating code was skipped.
            Now it runs in both paths.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        .
Resolution/QA recommendation:
        Retest soldout statuses in TN Shopping. There should be no "E" status in MIP response. Remaining statuses should be still as follows : A is a given combination of brands is not available, O if it is not offered, F if there are no fares found
Entry/XML to recreate:
Example before:
        <GRI SBL="E">
              <LEG Q14="0" SBL="F">
                <SEG SB2="EC" SB3="ECONOMY" SC0="TNS"/>
              </LEG>
              <LEG Q14="1" SBL="E">
                <SEG SB2="SI" SB3="SIMPLE" SC0="TNS"/>
              </LEG>
            </GRI>
Example after:
        <GRI SBL="F">
              <LEG Q14="0" SBL="F">
                <SEG SB2="EC" SB3="ECONOMY" SC0="TNS"/>
              </LEG>
              <LEG Q14="1" SBL="F">
                <SEG SB2="SI" SB3="SIMPLE" SC0="TNS"/>
              </LEG>
            </GRI>
Files updated:
        Xform/XMLShoppingResponse.cpp
Unit tests files:
        .
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Michal Mlynek
Code reviewers: Andrzej Fediuk, Artur De Sousa Rocha
BA: Arkadiusz Smoragiewicz
QA: Lukasz Rak

Title: [SSDMPS-128][TNS]Incorrect fares brands in BFS
Date: 03/26/2015
Description:
        Fares branded with incorrect brands with optimization turned on.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_LAZY_SINGLE_BRAND
Resolution/QA recommendation:
        compare results in BFS mode with and withouth FALLBACK_LAZY_SINGLE_BRAND turned on. They should match.
Entry/XML to recreate:
Example before:
        .
Example after:
        .
Files updated:
        BrandedFares/S8BrandedFaresSelector.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Andrzej Fediuk
Code reviewers: Artur De Sousa Rocha, Michal Mlynek
BA: Arkadiusz Smoragiewicz
QA: Lukasz Rak

Title: [ICER] SSDSP 561 - Use correct override rate for currency conversion 
Date: 03/26/2015
Description:
        Jira SSDSP 561 - Use correct override rate for currency conversion.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        ICER_ACTIVATION_DATE
Resolution/QA recommendation:
        When 2 override rates are given the first will be ignored. There will be no double conversion. The second rate will be used for a direct conversion to the given currency.<br>
        For entry WPR2.0'MNOK'R1.5 the 2.0 rate will be ignored and 1.5 will be used for a direct conversion to NOK.
Entry/XML to recreate:
        <PRICINGREQUEST VERSION="1.1.8">
          <AGI A10="GIG" A20="7YXF" A21="7YXF" A80="7YXF" A90="CMA" AB0="5753236" AB1="5753236" B00="1S" C40="BRL" N0G="*" Q01="37" />
          <BIL A20="HDQ" A22="7YXF" A70="WPR2." AA0="CMA" AD0="525FB8" AE0="AA" C00="XXXXXXXXXXXXXXX8180" C20="MANUALCONSTRUCTEDXML" S0R="LBTY" Q02="3470" Q03="1026" />
          <PRO C10="" C45="NOK" P69="T" C6E="2" C6H="1.5" D07="2015-03-25" D54="0779" PBK="T" N08="B" Q0P="1" P0J="T" S14="MANUALLY CONSTRUCTED" SEZ="T" SEY="T" PPC="T" S15="CRSAGT" />
          <DIG S01="" />
          <DIG S01="" />
          <PXI B70="ADT" Q0U="1" />
          <SGI Q0C="1">
            <FLI Q0C="1" N03="A" B00="BA" B01="BA" A01="LHR" A02="GIG" B30="Y" D01="2015-04-22" Q0B="249" D02="2015-04-22" D00="2015-03-25" D31="0740" D32="1200" D30="0779" BB2="SS" BB0="OK" B40="777" />
          </SGI>
          <RES>
            <IDS B00="BA" Q0B="249" B30="Y" D01="2015-04-22" D31="1220" A01="LHR" D02="2015-04-22" D32="2000" A02="GIG" A70="SS" Q0U="1" N0V="J" P2X="EN" />
          </RES>
          <POC A03="LHR" D01="2015-04-22" D02="1220" />
        </PRICINGREQUEST>
Example before:
        <PricingResponse>
          <AGI A10="GIG" A20="7YXF" A21="7YXF" AB0="5753236" AB1="5753236" A90="CMA" N0G="*" A80="7YXF" B00="1S" C40="BRL" Q01="37" />
          <BIL A20="HDQ" Q03="1026" Q02="3470" AE0="AA" AD0="525FB8" C20="MANUALCONSTRUCTEDXML" A22="7YXF" AA0="CMA" A70="WPR2." />
          <SUM C56="1264.00" C40="GBP" D07="2015-03-25" D54="779" S69="SOTO" AO0="RIO" AF0="RIO" B00="BA" PBC="F" PAR="F" S79="ltxl0248" ANG="T">
            <PXI B70="ADT" C43="NUC" C5E="1979.46" S85="ADT 1 ADT 0 1 1 1 8 Y1OW 2201 27 Y " PBS="F" USI="6" B71="ADT" Q4P="1" C40="GBP" C5A="1264.00" C45="NOK" C5F="1896" C54="0.63855500000000" Q05="13" C46="GBP" C66="4486" C65="2590" C5D="0" C5B="0" C64="2590" S66="LON BA RIO1979.46NUC1979.46END ROE0.638555" P27="F" NRA="0.00" S83="ATPC" P26="F">
              <MSG N06="W" Q0K="0" S18="VALIDATING CARRIER - BA" />
              <MSG N06="B" Q0K="0" S18="BAG ALLOWANCE     -LHRGIG-02P/BA/EACH PIECE UP TO 70 POUNDS/32 " />
              <MSG N06="B" Q0K="0" S18="KILOGRAMS AND UP TO 81 LINEAR INCHES/208 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="CARRY ON ALLOWANCE" />
              <MSG N06="B" Q0K="0" S18="LHRGIG-01P/BA" />
              <MSG N06="B" Q0K="0" S18="01/UP TO 40 LINEAR INCHES/101 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="01/UP TO 50 POUNDS/23 KILOGRAMS AND UP TO 50 POUNDS/127 LINEAR " />
              <MSG N06="B" Q0K="0" S18="CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="CARRY ON CHARGES" />
              <MSG N06="B" Q0K="0" S18="LHRGIG-BA-CARRY ON FEES UNKNOWN-CONTACT CARRIER" />
              <MSG N06="B" Q0K="0" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY DEPENDING ON" />
              <MSG N06="B" Q0K="0" S18="FLYER-SPECIFIC FACTORS /E.G. FREQUENT FLYER STATUS/MILITARY/" />
              <MSG N06="B" Q0K="0" S18="CREDIT CARD FORM OF PAYMENT/EARLY PURCHASE OVER INTERNET,ETC./" />
              <MSG N06="B" Q0K="0" S18="EMBARGOES-APPLY TO EACH PASSENGER" />
              <MSG N06="B" Q0K="0" S18="LHRGIG-BA" />
              <MSG N06="B" Q0K="0" S18="PET IN HOLD NOT PERMITTED" />
              <MSG N06="B" Q0K="0" S18="PET IN CABIN NOT PERMITTED" />
              <MSG N06="B" Q0K="0" S18="SPORTING EQUIPMENT/JAVELIN NOT PERMITTED" />
              <MSG N06="B" Q0K="0" S18="SPORTING EQUIPMENT/POLE VAULT EQUIPMENT NOT PERMITTED" />
              <MSG N06="B" Q0K="0" S18="UP TO 70 POUNDS/32 KILOGRAMS AND UP TO 115 LINEAR INCHES/292 LI" />
              <MSG N06="B" Q0K="0" S18="NEAR CENTIMETERS NOT PERMITTED" />
              <MSG N06="B" Q0K="0" S18="SPORTING EQUIPMENT/CANOE/KAYAK NOT PERMITTED" />
              <MSG N06="B" Q0K="0" S18="SPORTING EQUIPMENT/HANG GLIDING EQUIPMENT NOT PERMITTED" />
              <MSG N06="B" Q0K="0" S18="SPORTING EQUIPMENT/WINDSURF EQUIPMENT NOT PERMITTED" />
              <MSG N06="B" Q0K="0" S18="SPORTING EQUIPMENT/SCUBA EQUIPMENT UP TO 70 POUNDS/32 KILOGRAMS" />
              <MSG N06="B" Q0K="0" S18="NOT PERMITTED" />
              <TAX BC0="YQF" C6B="1244" C40="NOK" S05="LHR" S04="SERVICE FEE - FUEL" C6A="104.50" C41="GBP" />
              <TAX BC0="GB6" C6B="845" C40="NOK" S05="LHR" S04="AIR PASSENGER DUTY APD" C6A="71.00" C41="GBP" A40="GB" />
              <TAX BC0="UB6" C6B="501" C40="NOK" S05="LHR" S04="INTERNATIONAL DPTRS IOM THROUGH LTN" C6A="42.06" C41="GBP" A40="GB" />
              <TBD BC0="YQF" C6B="1244" C41="GBP" C6A="104.50" A04="BA" S05="LHR" C40="NOK" A06="F" S04="SERVICE FEE - FUEL" />
              <TBD BC0="GB6" C6B="845" C41="GBP" C6A="71.00" A04="BA" S05="LHR" C40="NOK" A06="F" A40="GB" S04="AIR PASSENGER DUTY APD" />
              <TBD BC0="UB6" C6B="501" C41="GBP" C6A="42.06" A04="BA" S05="LHR" C40="NOK" A06="F" A40="GB" S04="INTERNATIONAL DPTRS IOM THROUGH LTN" />
              <TBR>
                <CCD C41="GBP" C42="NOK" C54="11.89767990000000" Q05="13" />
              </TBR>
              <FIR>
                <CCD C41="GBP" C54="0.63855500000" Q05="10" D06="01JAN15" D05="31MAR15" />
              </FIR>
              <P45>
               <bgcolor=yellow> <CCD C41="GBP" C42="NOK" C54="2.00000000000000" Q05="13" /></bgcolor>
              </P45>
              <CAL A11="LON" A01="LHR" B08="BA" A12="RIO" A02="GIG" C50="1979.46" B50="Y1OW" Q04="4" B71="ADT" B02="BA" N00="Y" A41="GB" A51="2" A42="BR" A52="1" C51="1264.00" C40="GBP" P04="T" P05="F" D00="2015-04-22" N0K="P" P2M="F" PAY="T" Q48="0" PAZ="F" Q4J="1" N1K="O" S70="FR" A60="AT" FTY="00" S53="EU" PPF="0">
                <CAT>7 8 9 10 16 18</CAT>
                <ERD Q46="2" Q1K="18" D12="2014-11-16" D55="18-17-01.752000" S53="EU" BJ0="Y1OW" D08="2015-04-22" Q04="4" C5A="1264.000000000" B70="ADT" />
                <SEG A11="LON" C6I="LHR" A12="RIO" A02="GIG" D71="2015-04-22" S37="ATP" B09="BA" S89="27" S90="2201" P72="Y" Q0Z="01" S12="AT" C11="GB" C12="BR" C13="I" D05="2016-04-22" P2F="T" P2I="F" PAW="F" B00="BA" B01="BA" N00="Y" SHR="777" P2M="T" P2H="F" Q0Y="1" B20="02" N0D="P" P26="F" />
              </CAL>
              <ABL D16="20141116" S89="27     " S90="2201" S83="ATP  " B02="BA" B50="Y1OW           " A11="LON" A12="RIO" />
              <OBF SF0="OBFDA" SF1="0" STA="4486" SF2="5002**" SF3="NNN" SF4="X" />
              <OBF SF0="OBFDA" SF1="1190" STA="5676" SF2="5*****" SF3="NNN" SF4=" " />
              <BDI BPT="A" SFK="BA" SHK="0DFAABA" BPC="2">
                <ITR BPC="2" SHK="0I0ACBA" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="B" SFK="BA" SHK="0LNABBA" BPC="1">
                <ITR BPC="1" SHK="0MMACBA" />
                <ITR BPC="1" SHK="0MOACBA" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="E" SFK="BA" SHK="0BSAEBA">
                <PFF N41=" " P01="T" N43="X" B70="ADT" C51="0" C5B="NOK" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="E" SFK="BA" SHK="0BTAEBA">
                <PFF N41=" " P01="T" N43="X" B70="ADT" C51="0" C5B="NOK" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="E" SFK="BA" SHK="0F1AEBA">
                <PFF N41=" " P01="T" N43="X" B70="ADT" C51="0" C5B="NOK" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="E" SFK="BA" SHK="0F3AEBA">
                <PFF N41=" " P01="T" N43="X" B70="ADT" C51="0" C5B="NOK" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="E" SFK="BA" SHK="0FFMEBA">
                <PFF N41=" " P01="T" N43="X" B70="ADT" C51="0" C5B="NOK" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="E" SFK="BA" SHK="0FTAEBA">
                <PFF N41=" " P01="T" N43="X" B70="ADT" C51="0" C5B="NOK" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="E" SFK="BA" SHK="0FZAEBA">
                <PFF N41=" " P01="T" N43="X" B70="ADT" C51="0" C5B="NOK" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="E" SFK="BA" SHK="0GIAEBA">
                <PFF N41=" " P01="T" N43="X" B70="ADT" C51="0" C5B="NOK" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="E" SFK="BA" SHK="0H0MEBA">
                <PFF N41=" " P01="T" N43="X" B70="ADT" C51="0" C5B="NOK" />
                <Q00>1</Q00>
              </BDI>
            </PXI>
          </SUM>
          <MSG N06="X" Q0K="3" S18="       BASE FARE      EQUIV AMT  TAXES/FEES/CHARGES    TOTAL" />
          <MSG N06="X" Q0K="4" S18=" 1-   GBP1264.00        NOK1896       2590XT         NOK4486ADT" />
          <MSG N06="X" Q0K="5" S18="    XT      1244YQ        845GB        501UB " />
          <MSG N06="X" Q0K="6" S18="         1264.00           1896       2590              4486TTL" />
          <MSG N06="X" Q0K="7" S18="ADT-01  Y1OW" />
          <MSG N06="X" Q0K="8" S18=" LON BA RIO1979.46NUC1979.46END ROE0.638555" />
          <MSG N06="X" Q0K="9" S18="VALIDATING CARRIER - BA" />
          <MSG N06="Y" Q0K="10" S18="ADT-01" />
          <MSG N06="Y" Q0K="11" S18="BAG ALLOWANCE     -LHRGIG-02P/BA/EACH PIECE UP TO 70 POUNDS/32 " />
          <MSG N06="Y" Q0K="12" S18="KILOGRAMS AND UP TO 81 LINEAR INCHES/208 LINEAR CENTIMETERS" />
          <MSG N06="Y" Q0K="13" S18="CARRY ON ALLOWANCE" />
          <MSG N06="Y" Q0K="14" S18="LHRGIG-01P/BA" />
          <MSG N06="Y" Q0K="15" S18="01/UP TO 40 LINEAR INCHES/101 LINEAR CENTIMETERS" />
          <MSG N06="Y" Q0K="16" S18="01/UP TO 50 POUNDS/23 KILOGRAMS AND UP TO 50 POUNDS/127 LINEAR " />
          <MSG N06="Y" Q0K="17" S18="CENTIMETERS" />
          <MSG N06="Y" Q0K="18" S18="CARRY ON CHARGES" />
          <MSG N06="Y" Q0K="19" S18="LHRGIG-BA-CARRY ON FEES UNKNOWN-CONTACT CARRIER" />
          <MSG N06="Y" Q0K="20" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY" />
          <MSG N06="Y" Q0K="21" S18="  " />
          <MSG N06="Y" Q0K="22" S18="EMBARGOES-APPLY TO EACH PASSENGER" />
          <MSG N06="Y" Q0K="23" S18="LHRGIG-BA" />
          <MSG N06="Y" Q0K="24" S18="PET IN HOLD NOT PERMITTED" />
          <MSG N06="Y" Q0K="25" S18="PET IN CABIN NOT PERMITTED" />
          <MSG N06="Y" Q0K="26" S18="SPORTING EQUIPMENT/JAVELIN NOT PERMITTED" />
          <MSG N06="Y" Q0K="27" S18="SPORTING EQUIPMENT/POLE VAULT EQUIPMENT NOT PERMITTED" />
          <MSG N06="Y" Q0K="28" S18="UP TO 70 POUNDS/32 KILOGRAMS AND UP TO 115 LINEAR INCHES/292 LI" />
          <MSG N06="Y" Q0K="29" S18="NEAR CENTIMETERS NOT PERMITTED" />
          <MSG N06="Y" Q0K="30" S18="SPORTING EQUIPMENT/CANOE/KAYAK NOT PERMITTED" />
          <MSG N06="Y" Q0K="31" S18="SPORTING EQUIPMENT/HANG GLIDING EQUIPMENT NOT PERMITTED" />
          <MSG N06="Y" Q0K="32" S18="SPORTING EQUIPMENT/WINDSURF EQUIPMENT NOT PERMITTED" />
          <MSG N06="Y" Q0K="33" S18="SPORTING EQUIPMENT/SCUBA EQUIPMENT UP TO 70 POUNDS/32 KILOGRAMS" />
          <MSG N06="Y" Q0K="34" S18="NOT PERMITTED" />
          <OCM ST0="AE" />
          <OSC SHK="0BSAEBA" SFF="PET IN HOLD" SF0="PT" ASG="PH" ASD="IN HOLD" N01="C" N02="4" />
          <OSC SHK="0BTAEBA" SFF="PET IN CABIN" SF0="PT" ASG="PC" ASD="IN CABIN" N01="C" N02="4" />
          <OSC SHK="0DFAABA" SFF="FREE BAGGAGE ALLOWANCE" SF0="BG" N02="4" />
          <OSC SHK="0F1AEBA" SFF="JAVELINS" SF0="BG" ASG="SP" ASD="SPORTING EQUIPMENT" DC1="JV" D01="JAVELIN" N01="C" N02="4" />
          <OSC SHK="0F3AEBA" SFF="POLE VAULT EQUIPMENT" SF0="BG" ASG="SP" ASD="SPORTING EQUIPMENT" DC1="PV" D01="POLE VAULT EQUIPMENT" N01="C" N02="4" />
          <OSC SHK="0FTAEBA" SFF="CANOE KAYAK OARS" SF0="BG" ASG="SP" ASD="SPORTING EQUIPMENT" DC1="CK" D01="CANOE/KAYAK" N01="C" N02="4" />
          <OSC SHK="0FZAEBA" SFF="HANG GLIDING EQUIPMENT" SF0="BG" ASG="SP" ASD="SPORTING EQUIPMENT" DC1="HG" D01="HANG GLIDING EQUIPMENT" N01="C" N02="4" />
          <OSC SHK="0GIAEBA" SFF="WINDSURF EQUIPMENT" SF0="BG" ASG="SP" ASD="SPORTING EQUIPMENT" DC1="WS" D01="WINDSURF EQUIPMENT" N01="C" N02="4" />
          <OSC SHK="0I0ACBA" SFF="BAG UP TO 32KG 70LB 208LCM" SF0="BG" DC1="32" D01="UP TO 70 POUNDS/32 KILOGRAMS" DC2="6C" D02="UP TO 81 LINEAR INCHES/208 LINEAR CENTIMETERS" W03="70" WU3="L" W04="32" WU4="K" S03="81" SU3="I" S04="208" SU4="C" N01="C" SHL="XBAG" N02="4" SFN="01" />
          <OSC SHK="0LNABBA" SFF="CARRYON HAND BAGGAGE ALLOWANCE" SF0="BG" ASG="CY" ASD="CARRY ON HAND BAGGAGE" N01="C" N02="4" />
          <OSC SHK="0MMACBA" SFF="LAPTOP OR HANDBAG UP TO 101LCM" SF0="BG" ASG="CY" ASD="CARRY ON HAND BAGGAGE" DC1="4S" D01="UP TO 40 LINEAR INCHES/101 LINEAR CENTIMETERS" S03="40" SU3="I" S04="101" SU4="C" N01="C" N02="4" />
          <OSC SHK="0MOACBA" SFF="CABIN BAG MAX 23KG 51LB 126LCM" SF0="BG" ASG="CY" ASD="CARRY ON HAND BAGGAGE" DC1="23" D01="UP TO 50 POUNDS/23 KILOGRAMS" DC2="5C" D02="UP TO 50 POUNDS/127 LINEAR CENTIMETERS" W03="50" WU3="L" W04="23" WU4="K" S03="127" SU3="C" N01="C" N02="4" />
          <OSC SHK="0FFMEBA" SFF="UPTO 70LB 32KG AND115LI 292LCM" SF0="BG" DC1="32" D01="UP TO 70 POUNDS/32 KILOGRAMS" DC2="8Z" D02="UP TO 115 LINEAR INCHES/292 LINEAR CENTIMETERS" W03="70" WU3="L" W04="32" WU4="K" S03="115" SU3="I" S04="292" SU4="C" N01="C" N02="4" />
          <OSC SHK="0H0MEBA" SFF="SCUBA EQUIPMENT UP TO70LB 32KG" SF0="BG" ASG="SP" ASD="SPORTING EQUIPMENT" DC1="SE" D01="SCUBA EQUIPMENT" DC2="32" D02="UP TO 70 POUNDS/32 KILOGRAMS" W03="70" WU3="L" W04="32" WU4="K" N01="C" N02="4" />
        </PricingResponse>
Example after:
        <PricingResponse>
          <AGI A10="GIG" A20="7YXF" A21="7YXF" AB0="5753236" AB1="5753236" A90="CMA" N0G="*" A80="7YXF" B00="1S" C40="BRL" Q01="37" />
          <BIL A20="HDQ" Q03="1026" Q02="3470" AE0="AA" AD0="525FB8" C20="MANUALCONSTRUCTEDXML" A22="7YXF" AA0="CMA" A70="WPR2." />
          <SUM C56="1264.00" C40="GBP" D07="2015-03-25" D54="779" S69="SOTO" AO0="RIO" AF0="RIO" B00="BA" PBC="F" PAR="F" S79="ltxl0248" ANG="T">
            <PXI B70="ADT" C43="NUC" C5E="1979.46" S85="ADT 1 ADT 0 1 1 1 8 Y1OW 2201 27 Y " PBS="F" USI="6" B71="ADT" Q4P="1" C40="GBP" C5A="1264.00" C45="NOK" C5F="1896" C54="0.63855500000000" Q05="13" C46="GBP" C66="4486" C65="2590" C5D="0" C5B="0" C64="2590" S66="LON BA RIO1979.46NUC1979.46END ROE0.638555" P27="F" NRA="0.00" S83="ATPC" P26="F">
              <MSG N06="W" Q0K="0" S18="VALIDATING CARRIER - BA" />
              <MSG N06="B" Q0K="0" S18="BAG ALLOWANCE     -LHRGIG-02P/BA/EACH PIECE UP TO 70 POUNDS/32 " />
              <MSG N06="B" Q0K="0" S18="KILOGRAMS AND UP TO 81 LINEAR INCHES/208 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="CARRY ON ALLOWANCE" />
              <MSG N06="B" Q0K="0" S18="LHRGIG-01P/BA" />
              <MSG N06="B" Q0K="0" S18="01/UP TO 40 LINEAR INCHES/101 LINEAR CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="01/UP TO 50 POUNDS/23 KILOGRAMS AND UP TO 50 POUNDS/127 LINEAR " />
              <MSG N06="B" Q0K="0" S18="CENTIMETERS" />
              <MSG N06="B" Q0K="0" S18="CARRY ON CHARGES" />
              <MSG N06="B" Q0K="0" S18="LHRGIG-BA-CARRY ON FEES UNKNOWN-CONTACT CARRIER" />
              <MSG N06="B" Q0K="0" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY DEPENDING ON" />
              <MSG N06="B" Q0K="0" S18="FLYER-SPECIFIC FACTORS /E.G. FREQUENT FLYER STATUS/MILITARY/" />
              <MSG N06="B" Q0K="0" S18="CREDIT CARD FORM OF PAYMENT/EARLY PURCHASE OVER INTERNET,ETC./" />
              <MSG N06="B" Q0K="0" S18="EMBARGOES-APPLY TO EACH PASSENGER" />
              <MSG N06="B" Q0K="0" S18="LHRGIG-BA" />
              <MSG N06="B" Q0K="0" S18="PET IN HOLD NOT PERMITTED" />
              <MSG N06="B" Q0K="0" S18="PET IN CABIN NOT PERMITTED" />
              <MSG N06="B" Q0K="0" S18="SPORTING EQUIPMENT/JAVELIN NOT PERMITTED" />
              <MSG N06="B" Q0K="0" S18="SPORTING EQUIPMENT/POLE VAULT EQUIPMENT NOT PERMITTED" />
              <MSG N06="B" Q0K="0" S18="UP TO 70 POUNDS/32 KILOGRAMS AND UP TO 115 LINEAR INCHES/292 LI" />
              <MSG N06="B" Q0K="0" S18="NEAR CENTIMETERS NOT PERMITTED" />
              <MSG N06="B" Q0K="0" S18="SPORTING EQUIPMENT/CANOE/KAYAK NOT PERMITTED" />
              <MSG N06="B" Q0K="0" S18="SPORTING EQUIPMENT/HANG GLIDING EQUIPMENT NOT PERMITTED" />
              <MSG N06="B" Q0K="0" S18="SPORTING EQUIPMENT/WINDSURF EQUIPMENT NOT PERMITTED" />
              <MSG N06="B" Q0K="0" S18="SPORTING EQUIPMENT/SCUBA EQUIPMENT UP TO 70 POUNDS/32 KILOGRAMS" />
              <MSG N06="B" Q0K="0" S18="NOT PERMITTED" />
              <TAX BC0="YQF" C6B="1244" C40="NOK" S05="LHR" S04="SERVICE FEE - FUEL" C6A="104.50" C41="GBP" />
              <TAX BC0="GB6" C6B="845" C40="NOK" S05="LHR" S04="AIR PASSENGER DUTY APD" C6A="71.00" C41="GBP" A40="GB" />
              <TAX BC0="UB6" C6B="501" C40="NOK" S05="LHR" S04="INTERNATIONAL DPTRS IOM THROUGH LTN" C6A="42.06" C41="GBP" A40="GB" />
              <TBD BC0="YQF" C6B="1244" C41="GBP" C6A="104.50" A04="BA" S05="LHR" C40="NOK" A06="F" S04="SERVICE FEE - FUEL" />
              <TBD BC0="GB6" C6B="845" C41="GBP" C6A="71.00" A04="BA" S05="LHR" C40="NOK" A06="F" A40="GB" S04="AIR PASSENGER DUTY APD" />
              <TBD BC0="UB6" C6B="501" C41="GBP" C6A="42.06" A04="BA" S05="LHR" C40="NOK" A06="F" A40="GB" S04="INTERNATIONAL DPTRS IOM THROUGH LTN" />
              <TBR>
                <CCD C41="GBP" C42="NOK" C54="11.89767990000000" Q05="13" />
              </TBR>
              <FIR>
                <CCD C41="GBP" C54="0.63855500000" Q05="10" D06="01JAN15" D05="31MAR15" />
              </FIR>
              <P45>
                <bgcolor=yellow><CCD C41="GBP" C42="NOK" C54="1.50000000000000" Q05="13" /></bgcolor>
              </P45>
              <CAL A11="LON" A01="LHR" B08="BA" A12="RIO" A02="GIG" C50="1979.46" B50="Y1OW" Q04="4" B71="ADT" B02="BA" N00="Y" A41="GB" A51="2" A42="BR" A52="1" C51="1264.00" C40="GBP" P04="T" P05="F" D00="2015-04-22" N0K="P" P2M="F" PAY="T" Q48="0" PAZ="F" Q4J="1" N1K="O" S70="FR" A60="AT" FTY="00" S53="EU" PPF="0">
                <CAT>7 8 9 10 16 18</CAT>
                <ERD Q46="2" Q1K="18" D12="2014-11-16" D55="18-17-01.752000" S53="EU" BJ0="Y1OW" D08="2015-04-22" Q04="4" C5A="1264.000000000" B70="ADT" />
                <SEG A11="LON" C6I="LHR" A12="RIO" A02="GIG" D71="2015-04-22" S37="ATP" B09="BA" S89="27" S90="2201" P72="Y" Q0Z="01" S12="AT" C11="GB" C12="BR" C13="I" D05="2016-04-22" P2F="T" P2I="F" PAW="F" B00="BA" B01="BA" N00="Y" SHR="777" P2M="T" P2H="F" Q0Y="1" B20="02" N0D="P" P26="F" />
              </CAL>
              <ABL D16="20141116" S89="27     " S90="2201" S83="ATP  " B02="BA" B50="Y1OW           " A11="LON" A12="RIO" />
              <OBF SF0="OBFDA" SF1="0" STA="4486" SF2="5002**" SF3="NNN" SF4="X" />
              <OBF SF0="OBFDA" SF1="1190" STA="5676" SF2="5*****" SF3="NNN" SF4=" " />
              <BDI BPT="A" SFK="BA" SHK="0DFAABA" BPC="2">
                <ITR BPC="2" SHK="0I0ACBA" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="B" SFK="BA" SHK="0LNABBA" BPC="1">
                <ITR BPC="1" SHK="0MMACBA" />
                <ITR BPC="1" SHK="0MOACBA" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="E" SFK="BA" SHK="0BSAEBA">
                <PFF N41=" " P01="T" N43="X" B70="ADT" C51="0" C5B="NOK" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="E" SFK="BA" SHK="0BTAEBA">
                <PFF N41=" " P01="T" N43="X" B70="ADT" C51="0" C5B="NOK" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="E" SFK="BA" SHK="0F1AEBA">
                <PFF N41=" " P01="T" N43="X" B70="ADT" C51="0" C5B="NOK" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="E" SFK="BA" SHK="0F3AEBA">
                <PFF N41=" " P01="T" N43="X" B70="ADT" C51="0" C5B="NOK" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="E" SFK="BA" SHK="0FFMEBA">
                <PFF N41=" " P01="T" N43="X" B70="ADT" C51="0" C5B="NOK" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="E" SFK="BA" SHK="0FTAEBA">
                <PFF N41=" " P01="T" N43="X" B70="ADT" C51="0" C5B="NOK" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="E" SFK="BA" SHK="0FZAEBA">
                <PFF N41=" " P01="T" N43="X" B70="ADT" C51="0" C5B="NOK" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="E" SFK="BA" SHK="0GIAEBA">
                <PFF N41=" " P01="T" N43="X" B70="ADT" C51="0" C5B="NOK" />
                <Q00>1</Q00>
              </BDI>
              <BDI BPT="E" SFK="BA" SHK="0H0MEBA">
                <PFF N41=" " P01="T" N43="X" B70="ADT" C51="0" C5B="NOK" />
                <Q00>1</Q00>
              </BDI>
            </PXI>
          </SUM>
          <MSG N06="X" Q0K="3" S18="       BASE FARE      EQUIV AMT  TAXES/FEES/CHARGES    TOTAL" />
          <MSG N06="X" Q0K="4" S18=" 1-   GBP1264.00        NOK1896       2590XT         NOK4486ADT" />
          <MSG N06="X" Q0K="5" S18="    XT      1244YQ        845GB        501UB " />
          <MSG N06="X" Q0K="6" S18="         1264.00           1896       2590              4486TTL" />
          <MSG N06="X" Q0K="7" S18="ADT-01  Y1OW" />
          <MSG N06="X" Q0K="8" S18=" LON BA RIO1979.46NUC1979.46END ROE0.638555" />
          <MSG N06="X" Q0K="9" S18="VALIDATING CARRIER - BA" />
          <MSG N06="Y" Q0K="10" S18="ADT-01" />
          <MSG N06="Y" Q0K="11" S18="BAG ALLOWANCE     -LHRGIG-02P/BA/EACH PIECE UP TO 70 POUNDS/32 " />
          <MSG N06="Y" Q0K="12" S18="KILOGRAMS AND UP TO 81 LINEAR INCHES/208 LINEAR CENTIMETERS" />
          <MSG N06="Y" Q0K="13" S18="CARRY ON ALLOWANCE" />
          <MSG N06="Y" Q0K="14" S18="LHRGIG-01P/BA" />
          <MSG N06="Y" Q0K="15" S18="01/UP TO 40 LINEAR INCHES/101 LINEAR CENTIMETERS" />
          <MSG N06="Y" Q0K="16" S18="01/UP TO 50 POUNDS/23 KILOGRAMS AND UP TO 50 POUNDS/127 LINEAR " />
          <MSG N06="Y" Q0K="17" S18="CENTIMETERS" />
          <MSG N06="Y" Q0K="18" S18="CARRY ON CHARGES" />
          <MSG N06="Y" Q0K="19" S18="LHRGIG-BA-CARRY ON FEES UNKNOWN-CONTACT CARRIER" />
          <MSG N06="Y" Q0K="20" S18="ADDITIONAL ALLOWANCES AND/OR DISCOUNTS MAY APPLY" />
          <MSG N06="Y" Q0K="21" S18="  " />
          <MSG N06="Y" Q0K="22" S18="EMBARGOES-APPLY TO EACH PASSENGER" />
          <MSG N06="Y" Q0K="23" S18="LHRGIG-BA" />
          <MSG N06="Y" Q0K="24" S18="PET IN HOLD NOT PERMITTED" />
          <MSG N06="Y" Q0K="25" S18="PET IN CABIN NOT PERMITTED" />
          <MSG N06="Y" Q0K="26" S18="SPORTING EQUIPMENT/JAVELIN NOT PERMITTED" />
          <MSG N06="Y" Q0K="27" S18="SPORTING EQUIPMENT/POLE VAULT EQUIPMENT NOT PERMITTED" />
          <MSG N06="Y" Q0K="28" S18="UP TO 70 POUNDS/32 KILOGRAMS AND UP TO 115 LINEAR INCHES/292 LI" />
          <MSG N06="Y" Q0K="29" S18="NEAR CENTIMETERS NOT PERMITTED" />
          <MSG N06="Y" Q0K="30" S18="SPORTING EQUIPMENT/CANOE/KAYAK NOT PERMITTED" />
          <MSG N06="Y" Q0K="31" S18="SPORTING EQUIPMENT/HANG GLIDING EQUIPMENT NOT PERMITTED" />
          <MSG N06="Y" Q0K="32" S18="SPORTING EQUIPMENT/WINDSURF EQUIPMENT NOT PERMITTED" />
          <MSG N06="Y" Q0K="33" S18="SPORTING EQUIPMENT/SCUBA EQUIPMENT UP TO 70 POUNDS/32 KILOGRAMS" />
          <MSG N06="Y" Q0K="34" S18="NOT PERMITTED" />
          <OCM ST0="AE" />
          <OSC SHK="0BSAEBA" SFF="PET IN HOLD" SF0="PT" ASG="PH" ASD="IN HOLD" N01="C" N02="4" />
          <OSC SHK="0BTAEBA" SFF="PET IN CABIN" SF0="PT" ASG="PC" ASD="IN CABIN" N01="C" N02="4" />
          <OSC SHK="0DFAABA" SFF="FREE BAGGAGE ALLOWANCE" SF0="BG" N02="4" />
          <OSC SHK="0F1AEBA" SFF="JAVELINS" SF0="BG" ASG="SP" ASD="SPORTING EQUIPMENT" DC1="JV" D01="JAVELIN" N01="C" N02="4" />
          <OSC SHK="0F3AEBA" SFF="POLE VAULT EQUIPMENT" SF0="BG" ASG="SP" ASD="SPORTING EQUIPMENT" DC1="PV" D01="POLE VAULT EQUIPMENT" N01="C" N02="4" />
          <OSC SHK="0FTAEBA" SFF="CANOE KAYAK OARS" SF0="BG" ASG="SP" ASD="SPORTING EQUIPMENT" DC1="CK" D01="CANOE/KAYAK" N01="C" N02="4" />
          <OSC SHK="0FZAEBA" SFF="HANG GLIDING EQUIPMENT" SF0="BG" ASG="SP" ASD="SPORTING EQUIPMENT" DC1="HG" D01="HANG GLIDING EQUIPMENT" N01="C" N02="4" />
          <OSC SHK="0GIAEBA" SFF="WINDSURF EQUIPMENT" SF0="BG" ASG="SP" ASD="SPORTING EQUIPMENT" DC1="WS" D01="WINDSURF EQUIPMENT" N01="C" N02="4" />
          <OSC SHK="0I0ACBA" SFF="BAG UP TO 32KG 70LB 208LCM" SF0="BG" DC1="32" D01="UP TO 70 POUNDS/32 KILOGRAMS" DC2="6C" D02="UP TO 81 LINEAR INCHES/208 LINEAR CENTIMETERS" W03="70" WU3="L" W04="32" WU4="K" S03="81" SU3="I" S04="208" SU4="C" N01="C" SHL="XBAG" N02="4" SFN="01" />
          <OSC SHK="0LNABBA" SFF="CARRYON HAND BAGGAGE ALLOWANCE" SF0="BG" ASG="CY" ASD="CARRY ON HAND BAGGAGE" N01="C" N02="4" />
          <OSC SHK="0MMACBA" SFF="LAPTOP OR HANDBAG UP TO 101LCM" SF0="BG" ASG="CY" ASD="CARRY ON HAND BAGGAGE" DC1="4S" D01="UP TO 40 LINEAR INCHES/101 LINEAR CENTIMETERS" S03="40" SU3="I" S04="101" SU4="C" N01="C" N02="4" />
          <OSC SHK="0MOACBA" SFF="CABIN BAG MAX 23KG 51LB 126LCM" SF0="BG" ASG="CY" ASD="CARRY ON HAND BAGGAGE" DC1="23" D01="UP TO 50 POUNDS/23 KILOGRAMS" DC2="5C" D02="UP TO 50 POUNDS/127 LINEAR CENTIMETERS" W03="50" WU3="L" W04="23" WU4="K" S03="127" SU3="C" N01="C" N02="4" />
          <OSC SHK="0FFMEBA" SFF="UPTO 70LB 32KG AND115LI 292LCM" SF0="BG" DC1="32" D01="UP TO 70 POUNDS/32 KILOGRAMS" DC2="8Z" D02="UP TO 115 LINEAR INCHES/292 LINEAR CENTIMETERS" W03="70" WU3="L" W04="32" WU4="K" S03="115" SU3="I" S04="292" SU4="C" N01="C" N02="4" />
          <OSC SHK="0H0MEBA" SFF="SCUBA EQUIPMENT UP TO70LB 32KG" SF0="BG" ASG="SP" ASD="SPORTING EQUIPMENT" DC1="SE" D01="SCUBA EQUIPMENT" DC2="32" D02="UP TO 70 POUNDS/32 KILOGRAMS" W03="70" WU3="L" W04="32" WU4="K" N01="C" N02="4" />
        </PricingResponse>
Files updated:
        Common/BSRCurrencyConverter.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [ ] WPNC
        [ ] WPA
        [X] Shopping
        [ ] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Mike Arterburn
Code reviewers: Nakamon Thamsiriboon
BA: Stan Ovrevik
QA: Kaleshia Newsom-Kjaun

Title: Memory allocation changes for multithreaded cache update
Date: 04/01/2015
Description:
        Memory allocation changes for multithreaded cache update
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
        regression
Entry/XML to recreate:
Example before:
        n/a
Example after:
        n/a
Files updated:
        Common/TSSCacheCommon.h
        DataModel/DelayedUpdates.cpp
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Ilya Entin
Code reviewers: Mohammad Hossan
BA: 
QA: 

Title: Fix memory leak in memory manager
Date: 04/01/2015
Description:
        We were losing ~60B per each transaction because of one object not being released.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        n/a
Resolution/QA recommendation:
        Purely technical change. No business impact expected.
Entry/XML to recreate:
        n/a
Example before:
        n/a
Example after:
        n/a
Files updated:
        DataModel/BaseTrx.h
Unit tests files:
        n/a
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [X] Taxes
        [ ] Currency
        [X] Mileage
        [X] Baggage
        [X] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Damian Krolik
Code reviewers: Marek Markiewicz, Ilya Entin
BA: n/a
QA: n/a

Title: [SCI-684] Incorrect application of D8 Tax during split for BRDFARES
Date: 04/03/2015
Description:
        Code change is under commit "Fix taxsplitter logic for working with D8 tax"
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        fallback TAX_SPLITTER_FIX_D8
Resolution/QA recommendation:
Entry/XML to recreate:
Example before:
        Shopping retuns much higher value of D8 tax than pricing
Example after:
        pricing and shopping should return almost the same value
Files updated:
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Marcin Skalski
Code reviewers: Grzegorz Lisowski, Grzegorz Szczurek
BA: 
QA: 

Title: [ShoppingIS] Fix for core and deadlock
Date: 04/08/2015
Description:
        Deletion for a shared object during cat12 processing is causing cores and deadlocks. With this fix, I removed the part that deletes the shared object. Although this is a very old code, it started causing problems in the last few days.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_GSA_R4_CORE_FIX
Resolution/QA recommendation:
        Regression testing only.
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        Rules/SalesRestrictionRule.cpp
        Common/FallBack.cpp
Unit tests files:
        Rules/test/SalesRestrictionTest.cpp
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [X] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Okan
Code reviewers: Lek, Kitima
BA: 
QA: 

[PDC]

Title: [ISB-619] Added Billian transactions time statistics logging
Date: 03/02/2015
Description:
        Added ISell transactions Billian call logs.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
        Check if Billian transaction length is logged in pometrics.log
Entry/XML to recreate:
        N/A
Example before:
        N/A
Example after:
        N/A
Files updated:
        po-camel/src/main/resources/aspect-config.xml
        po-commons/src/main/java/com/sabre/airpricing/performance/MonitorException.java
         po-commons/src/main/java/com/sabre/airpricing/performance/PerformanceData.java
         po-commons/src/main/java/com/sabre/airpricing/performance/PerformanceMonitor.java
Unit tests files:
        N/A
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [X] Other: Agency Service Fees
Schema update: 
        [ ] Yes
Developer: Tomasz Put
Code reviewers: Karol Haiduk
BA: 
QA: 

Title: [ISB-618] Fix instrumentation for netty transactions 
Date: 03/02/2015
Description:
        Added instrumentation data creation and sending for Isell based transactions
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
        Verify if instrumentation data is stored for Isell transactions
Entry/XML to recreate:
        N/A
Example before:
        N/A
Example after:
        N/A
Files updated:
        deploy/conf/po.properties
        po-camel/src/main/java/com/sabre/airpricing/po/processor/servicefee/IsellServiceFeeDataRecordBuilder.java
        po-camel/src/main/java/com/sabre/airpricing/po/service/route/PORouteBuilderEndpoints.java
        po-camel/src/main/java/com/sabre/airpricing/po/service/XMLSchemaValidationManager.java
        po-camel/src/main/resources/application-config.xml
        po-commons/src/main/java/com/sabre/airpricing/common/PoConstants.java<br>
Unit tests files:
        N/A
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [X] Other: Agency Service Fees
Schema update: 
        [ ] Yes
Developer: Tomasz Put
Code reviewers: Karol Haiduk, Grzegorz Baran
BA: 
QA: 

Title: Removed addOacDataSeparately fallback, added namespace support to OTA_AirTaxRQ
Date: 03/02/2015
Description:
        Removed addOacDataSeparately fallback, added namespace support to OTA_AirTaxRQ
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
        N/A
Entry/XML to recreate:
        N/A
Example before:
        N/A
Example after:
        N/A
Files updated:
        deploy/conf/po.properties
        po-camel/src/main/java/com/sabre/airpricing/po/processor/AirTaxPrepareXmlOutputProcessor.java
        po-camel/src/main/java/com/sabre/airpricing/po/processor/ServiceFeeAggregationStrategy.java
        po-commons/src/main/java/com/sabre/airpricing/common/utils/XMLUtils.java
        po-ess/src/main/java/com/sabre/airpricing/ess/SessionInfo.java
Unit tests files:
        po-camel/src/test/java/com/sabre/airpricing/po/integration/AirTaxSwsIT.java
        po-camel/src/test/java/com/sabre/airpricing/po/processor/AirTaxPrepareXmlOutputProcessorTest.java
        po-camel/src/test/resources/integration/taxsws/requestWithNamespacePrefix
        po-camel/src/test/resources/integration/taxsws/requestWithNamespacePrefix/rqFromPo.xml
        po-camel/src/test/resources/integration/taxsws/requestWithNamespacePrefix/rqToPo.xml
        po-camel/src/test/resources/integration/taxsws/requestWithNamespacePrefix/rsFromPo.xml
        po-ess/src/test/java/com/sabre/airpricing/ess/SessionInfoTest.java
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Karol Haiduk
Code reviewers: Grzegorz Baran, Tomasz Put
BA: 
QA: 

Title: Added AltPricingRequest 1.0.6 (2CC OB Fees), AncillaryPricingRequest 3.0.1 (ANCS)
Date: 03/09/2015
Description:
        Added AltPricingRequest 1.0.6 (2CC OB Fees), AncillaryPricingRequest 3.0.1 (ANCS)
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
        N/A
Entry/XML to recreate:
        N/A
Example before:
        N/A
Example after:
        N/A
Files updated:
        deploy/conf/po.properties
        po-commons/src/main/resources/schema/AltPricingRequest_v1.0.6.xsd
        po-commons/src/main/resources/schema/AltPricingResponse_v1.0.6.xsd
        po-commons/src/main/resources/schema/AncillaryPricingRequest_v3.0.1.xsd
        po-commons/src/main/resources/schema/AncillaryPricingResponse_v3.0.1.xsd
        po-commons/src/main/resources/schema/PricingCommonElements_v1.0.3.xsd
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [X] Yes
Developer: Karol Haiduk
Code reviewers: Grzegorz Baran
BA: 
QA: 

Title: Added ServiceId to porequest/poresponse logs
Date: 03/10/2015
Description:
        Added ServiceId to porequest/poresponse logs
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
        N/A
Entry/XML to recreate:
        N/A
Example before:
        N/A
Example after:
        N/A
Files updated:
        po-commons/src/main/java/com/sabre/airpricing/aop/BaseLogAspect.java<br>
Unit tests files:
        po-commons/src/test/java/com/sabre/airpricing/aop/BaseLogAspectTest.java
        po-commons/src/test/java/com/sabre/airpricing/aop/LogAspectTestBase.java<br>
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Karol Haiduk
Code reviewers: Grzegorz Baran
BA: 
QA: 

Title: Added AAA1-AAA3 and AAB configuration
Date: 03/16/2015
Description:
        Added AAA1-AAA3 and AAB configuration
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
        N/A
Entry/XML to recreate:
        N/A
Example before:
        N/A
Example after:
        N/A
Files updated:
        deploy/conf/release/node/pifhlc955
        deploy/conf/release/node/pifhlc955/ice.properties
        deploy/conf/release/node/pifhlc955/icemomconfig.xml
        deploy/conf/release/node/pifhlc955/momconfig.xml
        deploy/conf/release/node/pifhlc956
        deploy/conf/release/node/pifhlc956/ice.properties
        deploy/conf/release/node/pifhlc956/icemomconfig.xml
        deploy/conf/release/node/pifhlc956/momconfig.xml
        deploy/conf/release/node/pifhlc957
        deploy/conf/release/node/pifhlc957/icemomconfig.xml
        deploy/conf/release/node/pifhlc957/momconfig.xml
        deploy/conf/release/node/pithlc953
        deploy/conf/release/node/pithlc953/ice.properties
        deploy/conf/release/node/pithlc953/icemomconfig.xml
        deploy/conf/release/node/pithlc953/momconfig.xml
        deploy/conf/release/node/pithlc953/routing.properties
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Karol Haiduk
Code reviewers: Grzegorz Baran
BA: 
QA: 

Title: Changed csf_pkgmaker.sh location in cert_build.pl
Date: 03/17/2015
Description:
        Changed csf_pkgmaker.sh location in cert_build.pl
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
        N/A
Entry/XML to recreate:
        N/A
Example before:
        N/A
Example after:
        N/A
Files updated:
        .scm/cert_build.pl<br>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Karol Haiduk
Code reviewers: Tomasz Put
BA: 
QA: 

Title: Changed PDC INT-B from pimli304 to pithli402
Date: 03/18/2015
Description:
        Changed PDC INT-B from pimli304 to pithli402
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
        N/A
Entry/XML to recreate:
        N/A
Example before:
        N/A
Example after:
        N/A
Files updated:
        deploy/conf/release/node/pithli402/momconfig.xml
        deploy/conf/release/node/pithli402/routing.properties<br>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [X] WP
        [X] WPNC
        [X] WPA
        [X] Shopping
        [X] Fare Display
        [X] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Karol Haiduk
Code reviewers: Tomasz Put
BA: 
QA: 

[RTG]

Title: [TECH INITIATIVE] Detach from external package build dependencies
Date: 03/24/2015
Description:
        Use internal package creation script instead of old idop reference.
Applies to: 
        [ ] all agencies
        [ ] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        N/A
Resolution/QA recommendation:
        N/A
Entry/XML to recreate:
Example before:
        N/A
Example after:
        N/A
Files updated:
        .scm/cert_build.pl     |   18 ++-
         .scm/packagecreator.py |  391 ++++++++++++++++++++++++++++++++++++++++++++++++
         deploy/apps/common     |    1 -
         deploy/bin             |    1 -
         package.sh             |    1 -<br>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [ ] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Grzegorz Lisowski
Code reviewers: N/A
BA: 
QA: 

Title: [RTW] issue with display permitted number of embedded surfaces
Date: 03/24/2015
Description:
        Number of embedded surfaces shall be displayed
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_RTW205_EMBEDDED_SURFACE=N
Resolution/QA recommendation:
Entry/XML to recreate:
        AAA80K2
        FQBCNSEA-IB QH1SEOW<br>
Example before:
        RD1*9
            V FARE BASIS     BK    FARE   TRAVEL-TICKET AP  MINMAX  RTG
          1   H1SEOW/RLR     H X   519.00     ----      -/1  -/  - AT01
        PASSENGER TYPE-ADT                 AUTO PRICE-YES              
        FROM-BCN TO-SEA    CXR-IB    TVL-24MAR15  RULE-JPCV TAFPR1S/389
        FARE BASIS-H1SEOW/RLR        NORMAL FARE  DIS-N   VENDOR-ATP
        FARE TYPE-EU      OW-ECONOMY UNRESTRICTED
        EUR   479.00   MPM  E19MAR15 D-INFINITY   FC-H1SEOW  FN-     
        SYSTEM DATES - CREATED 18MAR15/2318  EXPIRES INFINITY<br>
        09.TRANSFERS
           UNLIMITED TRANSFERS PERMITTED ON THE PRICING UNIT.
           FARE BREAK SURFACE SECTORS NOT PERMITTED AND EMBEDDED
           SURFACE SECTORS PERMITTED ON THE FARE COMPONENT.
        .
Example after:
        RD1*9
            V FARE BASIS     BK    FARE   TRAVEL-TICKET AP  MINMAX  RTG
          1   H1SEOW/RLR     H X   519.00     ----      -/1  -/  - AT01
        PASSENGER TYPE-ADT                 AUTO PRICE-YES              
        FROM-BCN TO-SEA    CXR-IB    TVL-24MAR15  RULE-JPCV TAFPR1S/389
        FARE BASIS-H1SEOW/RLR        NORMAL FARE  DIS-N   VENDOR-ATP
        FARE TYPE-EU      OW-ECONOMY UNRESTRICTED
        EUR   479.00   MPM  E19MAR15 D-INFINITY   FC-H1SEOW  FN-     
        SYSTEM DATES - CREATED 18MAR15/2318  EXPIRES INFINITY<br>
        09.TRANSFERS
           UNLIMITED TRANSFERS PERMITTED ON THE PRICING UNIT.
           FARE BREAK SURFACE SECTORS NOT PERMITTED AND<bgcolor=#00ff00> 2</bgcolor> EMBEDDED
           SURFACE SECTORS PERMITTED ON THE FARE COMPONENT.
        .
Files updated:
        .gitignore
        deploy/cert/etc/properties/server.properties
        deploy/integ/etc/properties/server.properties
        deploy/plab/etc/properties/server.properties
        deploy/prod/etc/properties/server.properties
        etc/properties/server.properties
        src/main/java/com/sabre/atse/rules/category/Category09.java
        src/main/java/com/sabre/atse/rules/category/translations/EmbeddedSurface.java<br>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [X] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Slawomir Machowicz
Code reviewers: Artur Krezel
BA: Richard Rummel
QA: Grzegorz Panasiuk

Title:  Fix for RBD SC for Dual RBD Validation project
Date: 03/25/2015
Description:
        Fix for sequences with restriction B or D, but onlyone was displayed.
Applies to: 
        [X] all agencies
        [X] all airlines
        [ ] Abacus
        [ ] Axess
        [ ] LAN
        [ ] Other: 
Activated by/Configuration change:
        FALLBACK_DUAL_RBD_VAL2=
Resolution/QA recommendation:
Entry/XML to recreate:
        *S
        80K2.HDQ*-SM..A..PNR PRESENT<br>
        FQATLGPT21MAR QKA00UPXA-DL/NUC
Example before:
        RB1
        CXR  FARE CLASS   MARKET              TICKET DATE   TRAVEL DATE
        DL   KA00UPXA     ATLGPT                25MAR15       21MAR16<br>
        DL  PRIME BOOKING CODE                                        G
        ---------------------------------------------------------------
        DL  EXCEPTIONS
              PERMITTED IF K AVAIL                                    G<br>
              REQUIRED                                                K<br>
        .<br>
Example after:
        RB1 IPA-LTXL0244:11664
        CXR  FARE CLASS   MARKET              TICKET DATE   TRAVEL DATE
        DL   KA00UPXA     ATLGPT                25MAR15       21MAR16<br>
        DL  PRIME BOOKING CODE                                        G
        ---------------------------------------------------------------
        DL  EXCEPTIONS
              PERMITTED IF K AVAIL                                    G
           <bgcolor=#00ff00>   PERMITTED IF K AVAIL                                    Z</bgcolor><br>
              REQUIRED                                                K<br>
        .<br>
Files updated:
        deploy/cert/etc/properties/server.properties
        deploy/integ/etc/properties/server.properties
        deploy/plab/etc/properties/server.properties
        deploy/prod/etc/properties/server.properties
        etc/properties/server.properties
        src/main/java/com/sabre/atse/rules/rb/RBTranslator.java<br>
Unit tests files:
DB: 
        [ ] DB query update: 
        [ ] DAO version number change: 
        DBA contact: 
Application impact: 
        [ ] WP
        [ ] WPNC
        [ ] WPA
        [ ] Shopping
        [X] Fare Display
        [ ] Historical
        [ ] Taxes
        [ ] Currency
        [ ] Mileage
        [ ] Baggage
        [ ] Reissue/Exchange
        [ ] Other: 
Schema update: 
        [ ] Yes
Developer: Slawomir Machowicz
Code reviewers: Artur Krezel
BA: Richard Rummel
QA: Ewelina Mucha, Filipska Magdalena

